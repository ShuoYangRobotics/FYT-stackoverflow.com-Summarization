[{"text": ["Problem with polling sockets in python"], "tag": "h2", "senID": 0}, {"text": ["After I begin the polling loop, all messages printed after the first iteration require me to press enter in the terminal for it to be displayed."], "tag": "p", "senID": 1}, {"code": "<pre>\n<code>\n #!/usr/bin/python\nimport socket, select, os, pty, sys\n\ns = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\ns.bind(('', 5007))\ns.listen(5)\n\nmypoll = select.poll()\nmypoll.register(s.fileno() )\n\nwhile True:\n    print \"poll time\"\n    subr = mypoll.poll()\n    for x in subr[0]:\n\n        if x == s.fileno():\n            conn, addr = s.accept()\n\n            pid, fd = pty.fork()\n            if pid != 0:\n                mypoll.register(fd)\n                print \"done. go back to poll now\"\n            else:\n                print \"forked\"\n                #handles new connection\n\n        else:\n            data = os.read(x,1024)\n            print data\n</code>\n</pre>\n", "senID": 2}]