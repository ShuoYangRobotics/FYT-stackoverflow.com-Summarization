[{"text": ["Advanced MySQL: Find correlations between poll responses"], "tag": "h2", "senID": 0}, {"text": ["I've got four MySQL tables:"], "tag": "p", "senID": 1}, {"text": ["users (id, name)\npolls (id, text)\noptions (id, poll_id, text)\nresponses (id, poll_id, option_id, user_id)  "], "tag": "p", "senID": 2}, {"text": ["Given a particular poll and a particular option, I'd like to generate a table that shows which options from other polls are most strongly correlated."], "tag": "p", "senID": 3}, {"text": ["Suppose this is our data set:"], "tag": "p", "senID": 4}, {"code": "<pre>\n<code>\n TABLE users:\n+------+-------+\n| id   | name  |\n+------+-------+\n|    1 | Abe   |\n|    2 | Bob   |\n|    3 | Che   |\n|    4 | Den   |\n+------+-------+\n\nTABLE polls:\n+------+-----------------------+\n| id   | text                  |\n+------+-----------------------+\n|    1 | Do you like apples?   |\n|    2 | What is your gender?  |\n|    3 | What is your height?  |\n|    4 | Do you like polls?    |\n+------+-----------------------+\n\nTABLE options:\n\n+------+----------+---------+\n| id   | poll_id  | text    |\n+------+----------+---------+\n|    1 | 1        | Yes     |\n|    2 | 1        | No      |\n|    3 | 2        | Male    |\n|    4 | 2        | Female  |\n|    5 | 3        | Short   |\n|    6 | 3        | Tall    |\n|    7 | 4        | Yes     |\n|    8 | 4        | No      |\n+------+----------+---------+\n\nTABLE responses:\n\n+------+----------+------------+----------+\n| id   | poll_id  | option_id  | user_id  |\n+------+----------+------------+----------+\n|    1 | 1        | 1          | 1        |\n|    2 | 1        | 2          | 2        |\n|    3 | 1        | 2          | 3        |\n|    4 | 1        | 2          | 4        |\n|    5 | 2        | 3          | 1        |\n|    6 | 2        | 3          | 2        |\n|    7 | 2        | 3          | 3        |\n|    8 | 2        | 4          | 4        |\n|    9 | 3        | 5          | 1        |\n|   10 | 3        | 6          | 2        |\n|   10 | 3        | 5          | 3        |\n|   10 | 3        | 6          | 4        |\n|   10 | 4        | 7          | 1        |\n|   10 | 4        | 7          | 2        |\n|   10 | 4        | 7          | 3        |\n|   10 | 4        | 7          | 4        |\n+------+----------+------------+----------+\n</code>\n</pre>\n", "senID": 5}, {"text": ["Given the poll ID 1 and the option ID 2, the generated table should be something like this:"], "tag": "p", "senID": 6}, {"code": "<pre>\n<code>\n +----------+------------+-----------------------+\n| poll_id  | option_id  | percent_correlated    |\n+----------+------------+-----------------------+\n| 4        | 7          | 100                   |\n| 2        | 3          | 66.66                 |\n| 3        | 6          | 66.66                 |\n| 2        | 4          | 33.33                 |\n| 3        | 5          | 33.33                 |\n| 4        | 8          | 0                     |\n+----------+------------+-----------------------+\n</code>\n</pre>\n", "senID": 7}, {"text": ["So basically, we're identifying all of the users who responded to poll ID 1 and selected option ID 2, and we're looking through all the other polls to see what percentage of them also selected each other option."], "tag": "p", "senID": 8}]