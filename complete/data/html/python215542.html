<h3>Question (ID-215542):</h3><h2>What's a good library to manipulate Apache2 config files?</h2><p>I'd like to create a script to manipulate Apache2 configuration directly, reading and writing its properties (like adding a new VirtualHost, changing settings of one that already exists).</p>

<p>Are there any libs out there, for Perl, Python or Java that automates that task?</p>
<br /><h3>Answers (Total-6):</h3><b>#0</b><br /><p>Rather than manipulate the config files, you can use <a href="http://perl.apache.org/" rel="nofollow">mod_perl</a> to embed Perl directly into the config files. This could allow you, for example, to read required vhosts out of a database.</p>

<p>See  <a href="http://perl.apache.org/start/tips/config.html" rel="nofollow">Configure Apache with Perl Example</a> for quick example and <a href="http://perl.apache.org/docs/1.0/guide/config.html#Apache_Configuration_in_Perl" rel="nofollow">Apache Configuration in Perl</a> for all the details.</p>
<br /><b>#1</b><br /><p>In Perl, you've got at least 2 modules for that:</p>

<p><a href="http://search.cpan.org/~nwiger/Apache-ConfigFile-1.18/ConfigFile.pm" rel="nofollow">Apache::ConfigFile</a></p>

<p><a href="http://search.cpan.org/~rsoliv/Apache-Admin-Config-0.94/lib/Apache/Admin/Config.pm" rel="nofollow">Apache::Admin::Config</a> </p>
<br /><b>#2</b><br /><p>Look at <a href="http://augeas.net/" rel="nofollow">Augeas</a>, it's not specifically for Apache-httpd config. files it's just a generic config. file "editor" API. One of it's major selling points is that it will keep comments/etc. is happy for other tools to alter the files and will refuse to let you save broken files.</p>

<p>Also the fact that you can use the same API in all the languages you asked about, and that you can edit other config. files using the same APIs are both major advantages IMO.</p>
<br /><b>#3</b><br /><p>This is the ultimate Apache configurator:</p>

<p><a href="http://perl.apache.org/" rel="nofollow">http://perl.apache.org/</a></p>

<p>exposes many if not all Apache internals to programs written in Perl.</p>

<p>For instance: <a href="http://perl.apache.org/docs/2.0/api/Apache2/Directive.html" rel="nofollow">http://perl.apache.org/docs/2.0/api/Apache2/Directive.html</a></p>

<p>(Of course that it can do much much more than just configuring it).</p>

<p>On the other hand, it needs to be loaded and runs within Apache, it's not a config file parser/editor.</p>
<br /><b>#4</b><br /><p>Try the <a href="http://search.cpan.org/~nwiger/Apache-ConfigFile-1.18/ConfigFile.pm" rel="nofollow">Apache::ConfigFile Perl module</a>.</p>
<br /><b>#5</b><br /><p>Also see <a href="http://search.cpan.org/perldoc?Config::General" rel="nofollow">Config::General</a>, which claims to be fully compatible with Apache configuration files. I use it to parse my Apache configuration files for automatic regression testing after configuration changes.</p>
<br />