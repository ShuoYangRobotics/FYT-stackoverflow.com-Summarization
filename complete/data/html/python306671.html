<h3>Question (ID-306671):</h3><h2>module to create python object representation from xml</h2><p>I'm searching for an easy to handle python native module to create python object representation from xml.</p>

<p>I found several modules via google (one of them is <a href="http://www.freenet.org.nz/python/xmlobject/" rel="nofollow">XMLObject</a>) but didn't want to try out all of them. </p>

<p>What do you think is the best way to do such things?</p>

<p><strong>EDIT:</strong> I missed to mention that the XML I'd like to read is not generated by me. It's an existing XML file in a structure of which I have no control over.</p>
<br /><h3>Answers (Total-7):</h3><b>#0</b><br /><p>You say you want an <em>object</em> representation, which I would interpret to mean that nodes become objects, and the attributes and children of the node are represented as attributes of the object (possibly according to some Schema).  This is what XMLObject does, I believe.</p>

<p>There are some packages that I know of.  <a href="http://4suite.org/index.xhtml" rel="nofollow">4Suite</a> includes some tools to do this, and I believe <a href="http://uche.ogbuji.net/tech/4suite/amara/" rel="nofollow">Amara</a> specifically implements this (built on top of 4Suite).  You can also use <a href="http://codespeak.net/lxml/objectify.html" rel="nofollow">lxml.objectify</a>, which was inspired by Amara and <a href="http://gnosis.cx/download/" rel="nofollow">gnosis.xml.objectify</a>.</p>

<p>Of course a third option is, given a concrete representation of the XML (using ElementTree or lxml) you can build your own custom model around that.  <a href="http://codespeak.net/lxml/lxmlhtml.html" rel="nofollow">lxml.html</a> is an example of that, extending the base interface of lxml with some HTML-specific functionality.</p>
<br /><b>#1</b><br /><p>I second the suggestion of xml.etree.ElementTree, mostly because it's now in the stdlib.
There is also a faster implementation, xml.etree.cElementTree available too.</p>

<p>If you really need performance, I would suggest lxml</p>

<p><a href="http://www.ibm.com/developerworks//xml/library/x-hiperfparse/" rel="nofollow">http://www.ibm.com/developerworks//xml/library/x-hiperfparse/</a></p>
<br /><b>#2</b><br /><p>Python has pickle and cPickle modules for Python object serialization. Both of these modules provide functionality to serialize/deserialize Python object hierarchy to convert to/from a byte stream:</p>

<ul>
<li><a href="http://www.python.org/doc/2.5.2/lib/module-pickle.html" rel="nofollow">http://www.python.org/doc/2.5.2/lib/module-pickle.html</a></li>
</ul>

<p>The following provides similar interface: pickle(), unpickle() for serialization to/from XML</p>

<ul>
<li><a href="http://code.activestate.com/recipes/355487/" rel="nofollow">http://code.activestate.com/recipes/355487/</a></li>
</ul>
<br /><b>#3</b><br /><p>There's also the excellent 3rd party library <a href="http://coder.cl/products/pyxser/" rel="nofollow">pyxser</a> for Python.</p>

<blockquote>
  <p>pyxser stands for Python XML
  Serialization and is a Python object
  to XML serializer and deserializer. In
  other words, it can convert a Python
  object into XML and also, convert that
  XML back into the original Python
  object.</p>
</blockquote>
<br /><b>#4</b><br /><p>I've heard the easiest is <a href="http://docs.python.org/library/xml.etree.elementtree.html" rel="nofollow">ElementTree</a>, though I rarely work with XML and I can't say anything from experience.</p>
<br /><b>#5</b><br /><p>I use (and like) PyRXP, which creates a tuple built from the XML document.</p>

<p>The main issue with a straight XML -> python object structure is that there is no python analog for a attributed list - that is, a list with elements, that also happens to have attributes.  If you like, it is both a list and a dictionary at the same time.</p>

<p>I parse the result from PyRXP, and create the list/dictionary depending upon the structure - the XML I am dealing with is either list or attribute-based, never both.  (I am consuming data from a known source).</p>
<br /><b>#6</b><br /><p>I've had pretty good luck with Wai Yip Tung's xml2obj function available here:</p>

<p><a href="http://code.activestate.com/recipes/534109-xml-to-python-data-structure/" rel="nofollow">http://code.activestate.com/recipes/534109-xml-to-python-data-structure/</a></p>

<p>It's ~84 lines of code. It's native and pure python; using xml.sax and re (regular expression) libraries.  You just pass it XML and get back your object.</p>
<br />