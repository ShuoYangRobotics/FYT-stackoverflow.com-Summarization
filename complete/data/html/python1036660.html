<h3>Question (ID-1036660):</h3><h2>Python Web-based Bot</h2><p>I am trying to write a Python-based Web Bot that can read and interpret an HTML page, then execute an onClick function and receive the resulting new HTML page. I can already read the HTML page and I can determine the functions to be called by the onClick command, but I have no idea how to execute those functions or how to receive the resulting HTML code.</p>

<p>Any ideas?</p>
<br /><h3>Answers (Total-6):</h3><b>#0</b><br /><p>The only tool in Python for Javascript, that I am aware of is <a href="http://code.google.com/p/python-spidermonkey/" rel="nofollow">python-spidermonkey</a>. I have never used it though.</p>

<p>With Jython you could (ab-)use <a href="http://httpunit.sourceforge.net/index.html" rel="nofollow">HttpUnit</a>. </p>

<p><strong>Edit</strong>: forgot that you can use <a href="http://scrapy.org/" rel="nofollow">Scrapy</a>. It supports Javascript through Spidermonkey, and you can even use Firefox for crawling the web.</p>
<br /><b>#1</b><br /><p>Well obviously python won't interpret the JS for you (though there may be modules out there that can). I suppose you need to convert the JS instructions to equivalent transformations in Python.</p>

<p>I suppose ElementTree or BeautifulSoup would be good starting points to interpret the HTML structure.</p>
<br /><b>#2</b><br /><p>To execute JavaScript, you need to do much of what a full web browser does, except for the rendering. In particular, you need a JavaScript interpreter, in addition to the Python interpreter.</p>

<p>One starting point might be <a href="http://pypi.python.org/pypi/python-spidermonkey" rel="nofollow">python-spidermonkey</a>. Depending on the specific JavaScript, you might have to provide a good DOM API to the spidermonkey, in addition to providing an XmlHttpRequest implementation.</p>
<br /><b>#3</b><br /><p>You can try to leverage <a href="http://code.google.com/apis/v8/intro.html" rel="nofollow">V8</a>,</p>

<blockquote>
  <p>V8 is Google's open source, high performance JavaScript engine. It is written in C++ and is used in Google Chrome, Google's open source browser.</p>
</blockquote>

<p>Calling it from <code>Python</code> may not be straightforward, without a framework to provide the DOM.
<a href="http://pyjs.org/" rel="nofollow"><code>Pyjamas</code></a> has an experimental project, <a href="http://pyjd.org/" rel="nofollow"><em>Pyjamas Desktop</em></a>, providing <code>V8</code> integration for <code>Javascript</code> execution. </p>

<p><a href="http://advogato.org/article/985.html" rel="nofollow"><code>Pyv8</code></a> is an experimental python v8 bindings and a python-javascript compiler.</p>
<br /><b>#4</b><br /><p>For the browser part of this you might want to look into Mechanize, which basically is a webbrowser implemented as a Python library. <a href="http://pypi.python.org/pypi/mechanize/0.1.11" rel="nofollow">http://pypi.python.org/pypi/mechanize/0.1.11</a>
But as mentioned, the text n onClick is Javascript, and you'll need spidermonkey for that.</p>

<p>If you can make a generic support for spidermonkey in mechanize, I'm sure many people would be extremely happy. ;)</p>

<p>Mechanize may be overkill, maybe you just want to find specific parts of the HTML, and then lxml and BeautifulSoup both work well.</p>
<br /><b>#5</b><br /><p>Why don't you just sniff what gets sent after the onclick event and replicate that with your bot?</p>
<br />