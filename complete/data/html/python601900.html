<h3>Question (ID-601900):</h3><h2>How to write meaningful docstrings?</h2><p>What, in Your opinion is a meaningful docstring? What do You expect to be described there?</p>

<p>For example, consider this Python class's <code>__init__</code>:</p>

<pre><code>def __init__(self, name, value, displayName=None, matchingRule="strict"):
    """
    name - field name
    value - field value
    displayName - nice display name, if empty will be set to field name
    matchingRule - I have no idea what this does, set to strict by default
    """
</code></pre>

<p>Do you find this meaningful? Post Your good/bad examples for all to know (and a general answer so it can be accepted).</p>
<br /><h3>Answers (Total-6):</h3><b>#0</b><br /><p>I agree with "Anything that you can't tell from the method's signature". It might also mean to explain what a method/function returns.</p>

<p>You might also want to use <a href="http://sphinx.pocoo.org/" rel="nofollow">Sphinx</a> (and reStructuredText syntax) for documentation purposes inside your docstrings. That way you can include this in your documentation easily. For an example check out e.g. <a href="http://svn.repoze.org/repoze.bfg/trunk" rel="nofollow">repoze.bfg</a> which uses this extensively (<a href="http://svn.repoze.org/repoze.bfg/trunk/repoze/bfg/location.py" rel="nofollow">example file</a>, <a href="http://svn.repoze.org/repoze.bfg/trunk/docs/" rel="nofollow">documentation example</a>).</p>

<p>Another thing one can put in docstrings is also <a href="http://docs.python.org/library/doctest.html" rel="nofollow">doctests</a>. This might make sense esp. for module or class docstrings as you can also show that way how to use it and have this testable at the same time.</p>
<br /><b>#1</b><br /><p>What should go there:</p>

<p>Anything that you can't tell from the method's signature. In this case the only bit useful is: displayName - if empty will be set to field name.</p>
<br /><b>#2</b><br /><p>From PEP8:</p>

<pre><code>Conventions for writing good documentation strings (a.k.a. "docstrings")
    are immortalized in PEP 257 [3].

    - Write docstrings for all public modules, functions, classes, and
      methods.  Docstrings are not necessary for non-public methods, but you
      should have a comment that describes what the method does.  This comment
      should appear after the "def" line.

    - PEP 257 describes good docstring conventions.  Note that most
      importantly, the """ that ends a multiline docstring should be on a line
      by itself, and preferably preceded by a blank line, e.g.:

    - For one liner docstrings, it's okay to keep the closing """ on the same
      line.
</code></pre>
<br /><b>#3</b><br /><p>Check out numpy's docstrings for good examples (e.g. <a href="http://docs.scipy.org/numpy/source/numpy/dist/lib64/python2.4/site-packages/numpy/core/numeric.py#1564" rel="nofollow">http://docs.scipy.org/numpy/source/numpy/dist/lib64/python2.4/site-packages/numpy/core/numeric.py#1564</a>).</p>

<p>The docstrings are split into several sections and look like this:</p>

<pre><code>Compute the sum of the elements of a list.

Parameters
----------
foo: sequence of ints
   The list of integers to sum up.

Returns
-------
res: int
   sum of elements of foo

See also
--------
cumsum:  compute cumulative sum of elemenents
</code></pre>
<br /><b>#4</b><br /><p>The most striking things I can think of to include in a docstring are the things that aren't obvious. Usually this includes type information, or capability requirements - eg. "Requires a file-like object". In some cases this will be evident from the signature, not so in other cases.</p>

<p>Another useful thing you can put in to your docstrings is a <code>doctest</code>.</p>
<br /><b>#5</b><br /><p>I like to use the documentation to describe in as much detail as possible what the function does, especially the behavior at corner cases (a.k.a. edge cases). Ideally, a programmer using the function should never have to look at the source code - in practice, that means that whenever another programmer does have to look at source code to figure out some detail of how the function works, that detail probably should have been mentioned in the documentation. As Freddy said, anything that doesn't add any detail to the method's signature probably shouldn't be in a documentation string.</p>
<br />