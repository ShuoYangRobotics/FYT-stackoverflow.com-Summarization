<h3>Question (ID-989739):</h3><h2>How to write a proxy server in Python?</h2><p>I want to write a program that changes the HTTP headers in my requests that are sent by my web-browser. I believe it can be done with a proxy server. So, I'd like to write a proxy server. </p>

<p>I study programming. How can I do this in Python? </p>
<br /><h3>Answers (Total-6):</h3><b>#0</b><br /><p>Look at the <a href="http://twistedmatrix.com/trac/wiki/TwistedProject" rel="nofollow">Twisted framework</a>, particularly <a href="http://twistedmatrix.com/trac/wiki/TwistedWeb" rel="nofollow">Twisted Web</a>.  It's all freely available under MIT, so you can build off and/or modify it.</p>

<p>See also <a href="http://wiki.python.org/moin/Twisted-Examples" rel="nofollow">Python Twisted Examples</a>.</p>
<br /><b>#1</b><br /><p>Good example below on how to do this without the overhead of a framework.</p>

<p><a href="http://www.warriorhut.org/whatwg/websocket-proxy.py" rel="nofollow">http://www.warriorhut.org/whatwg/websocket-proxy.py</a></p>
<br /><b>#2</b><br /><p>While Twisted, as recommended by @Matthew, is awesome, easier to learn, understand and modify might be <a href="http://www.okisoft.co.jp/esc/python/proxy/" rel="nofollow">this tiny example</a> -- far away from the "production quality" and scalability that Twisted can offer, but, you could start with it to understand the issues better.</p>

<p>For a <em>wide</em> variety of open-source HTTP proxies written in Python, I recommend <a href="http://proxies.xhaus.com/" rel="nofollow">this list</a> -- <strong>that</strong> reference has proxies for all tastes built on top of threading, Twisted, asyncore, and other technologies yet!</p>
<br /><b>#3</b><br /><p>Have a look at Tiny HTTP Proxy (1) and of course the related docs (2). It's basically running a server and handling requests.</p>

<p>(1) <a href="http://www.okisoft.co.jp/esc/python/proxy/" rel="nofollow">http://www.okisoft.co.jp/esc/python/proxy/</a> 
(2) <a href="http://docs.python.org/library/basehttpserver.html" rel="nofollow">http://docs.python.org/library/basehttpserver.html</a></p>
<br /><b>#4</b><br /><p>WSGI may be a little easier to get your head around. So I'll throw paste.proxy out there either as something to build on or as a reference.</p>

<p><a href="http://pythonpaste.org/modules/proxy.html" rel="nofollow">http://pythonpaste.org/modules/proxy.html</a></p>
<br /><b>#5</b><br /><p><a href="http://twistedmatrix.com/" rel="nofollow">http://twistedmatrix.com/</a> </p>

<p>Great library for any networking needs.</p>
<br />