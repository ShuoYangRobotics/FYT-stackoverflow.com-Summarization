<h3>Question (ID-6890816):</h3><h2>How do sets work in Python?</h2><pre><code>&gt;&gt;&gt; {x for x in 'spam'}
{'a', 'p', 's', 'm'}
</code></pre>

<p>Why does it change the order? If you take a look at a loop, it works perfectly:</p>

<pre><code>&gt;&gt;&gt; for x in 'spam':
...     print(x)
... 
s
p
a
m
&gt;&gt;&gt; 
</code></pre>
<br /><h3>Answers (Total-7):</h3><b>#0</b><br /><p>Sets in python (and in <a href="http://en.wikipedia.org/wiki/Set_theory" rel="nofollow">set theory</a>) are not ordered.  So when you loop over them, there is no defined ordering.</p>

<p>You looped over the string literal <code>'spam'</code> to make a set containing each character in that string.  Once you did that, the ordering was gone.</p>

<p>When you perform the <code>for</code> loop over <code>'spam'</code>, you are performing the loop against a string which does have ordering.</p>
<br /><b>#1</b><br /><p>From <a href="http://docs.python.org/reference/datamodel.html" rel="nofollow">Set types</a>: </p>

<p><em>These represent unordered, finite sets of unique, immutable objects. As such, they cannot be indexed by any subscript</em> [because no ordering is defined among the elemnts]<em>. However, they can be iterated over, and the built-in function len() returns the number of items in a set. Common uses for sets are fast membership testing, removing duplicates from a sequence, and computing mathematical operations such as intersection, union, difference, and symmetric difference.</em> </p>

<p>But if you really need to preserve the order, then please check <a href="http://code.activestate.com/recipes/576694/" rel="nofollow">ordered set</a>.  </p>

<p>And anyway you may like really to write just <code>&gt;&gt;&gt; set('spam')</code> instead of any comprehension.</p>
<br /><b>#2</b><br /><p><code>set</code> is not an ordered collection, and as such, the internal order of keys is undefined.</p>
<br /><b>#3</b><br /><p>From <a href="http://docs.python.org/library/stdtypes.html#set-types-set-frozenset" rel="nofollow">docs.python.org</a></p>

<blockquote>
  <p>A set object is an unordered collection of distinct hashable objects. Common uses include membership testing, removing duplicates from a sequence, and computing mathematical operations such as intersection, union, difference, and symmetric difference. (For other containers see the built in dict, list, and tuple classes, and the collections module.)</p>
</blockquote>
<br /><b>#4</b><br /><p><code>set</code>s are <em>unordered</em> by definition. The reason for this is that their implementation runs faster that way, by using appropriate data structures that do not preserve order. If you need order, you can use the (slower) OrderedDict type.</p>
<br /><b>#5</b><br /><p><a href="http://docs.python.org/library/stdtypes.html#set-types-set-frozenset" rel="nofollow">Python sets are defined as unordered</a>, so Python is free to order them any way it likes (efficiently, I pressme).</p>
<br /><b>#6</b><br /><p>Sets are unordered. If you want to have ordering, use something like this: <a href="http://code.activestate.com/recipes/576694/" rel="nofollow">http://code.activestate.com/recipes/576694/</a></p>
<br />