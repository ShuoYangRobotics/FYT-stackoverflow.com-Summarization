[{"text": ["Translating Perl to Python"], "childNum": 0, "tag": "h2", "senID": 0, "childList": []}, {"text": ["I found this Perl script while migrating my SQLite database to mysql"], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "migrating my SQLite database to mysql", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://stackoverflow.com/questions/18671/quick-easy-way-to-migrate-sqlite3-to-mysql/25860"}]}, {"text": ["I was wondering (since I don't know Perl) how could one rewrite this in Python?"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["Bonus points for the shortest (code) answer :)"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"text": ["edit: sorry I meant shortest code, not strictly shortest answer"], "childNum": 1, "tag": "p", "senID": 4, "childList": [{"text": "edit", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n #! /usr/bin/perl\n\nwhile ($line = &lt;&gt;){\n    if (($line !~  /BEGIN TRANSACTION/) &amp;&amp; ($line !~ /COMMIT/) &amp;&amp; ($line !~ /sqlite_sequence/) &amp;&amp; ($line !~ /CREATE UNIQUE INDEX/)){\n\n        if ($line =~ /CREATE TABLE \\\"([a-z_]*)\\\"(.*)/){\n                $name = $1;\n                $sub = $2;\n                $sub =~ s/\\\"//g; #\"\n                $line = \"DROP TABLE IF EXISTS $name;\\nCREATE TABLE IF NOT EXISTS $name$sub\\n\";\n        }\n        elsif ($line =~ /INSERT INTO \\\"([a-z_]*)\\\"(.*)/){\n                $line = \"INSERT INTO $1$2\\n\";\n                $line =~ s/\\\"/\\\\\\\"/g; #\"\n                $line =~ s/\\\"/\\'/g; #\"\n        }else{\n                $line =~ s/\\'\\'/\\\\\\'/g; #'\n        }\n        $line =~ s/([^\\\\'])\\'t\\'(.)/$1THIS_IS_TRUE$2/g; #'\n        $line =~ s/THIS_IS_TRUE/1/g;\n        $line =~ s/([^\\\\'])\\'f\\'(.)/$1THIS_IS_FALSE$2/g; #'\n        $line =~ s/THIS_IS_FALSE/0/g;\n        $line =~ s/AUTOINCREMENT/AUTO_INCREMENT/g;\n        print $line;\n    }\n}\n</code>\n</pre>\n", "senID": 5}, {"text": ["Some additional code was necessary to successfully migrate the sqlite database (handles one line Create table statements, foreign keys, fixes a bug in the original program that converted empty fields '' to \\'. "], "childNum": 2, "tag": "p", "senID": 6, "childList": [{"text": "''", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "\\'", "childNum": 0, "tag": "code", "childList": []}]}, {"text": ["I posted the code on the migrating my SQLite database to mysql Question"], "childNum": 1, "tag": "p", "senID": 7, "childList": [{"text": "posted the code on the migrating my SQLite database to mysql Question", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://stackoverflow.com/questions/18671/quick-easy-way-to-migrate-sqlite3-to-mysql/1067365#1067365"}]}]