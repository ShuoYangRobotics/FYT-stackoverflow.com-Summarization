[{"text": ["Adding folders to a zip file using python"], "childNum": 0, "tag": "h2", "senID": 0, "childList": []}, {"text": ["I want to create a zip file.", "Add a folder to the zip file and then add a bunch of files to  that folder."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["So I want to end up with a zip file with a single folder with files in."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["I dont know if its bad practice to have folders in zip files or something but google gives me nothing on the subject."], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"text": ["I started out with this:"], "childNum": 0, "tag": "p", "senID": 4, "childList": []}, {"code": "<pre>\n<code>\n def addFolderToZip(myZipFile,folder):\n    folder = folder.encode('ascii') #convert path to ascii for ZipFile Method\n    for file in glob.glob(folder+\"/*\"):\n            if os.path.isfile(file):\n                print file\n                myZipFile.write(file, os.path.basename(file), zipfile.ZIP_DEFLATED)\n            elif os.path.isdir(file):\n                addFolderToZip(myZipFile,file)\n\ndef createZipFile(filename,files,folders):\n    curTime=strftime(\"__%Y_%m_%d\", time.localtime())\n    filename=filename+curTime;\n    print filename\n    zipFilename=utils.getFileName(\"files\", filename+\".zip\")\n    myZipFile = zipfile.ZipFile( zipFilename, \"w\" ) # Open the zip file for writing \n    for file in files:\n        file = file.encode('ascii') #convert path to ascii for ZipFile Method\n        if os.path.isfile(file):\n            (filepath, filename) = os.path.split(file)\n            myZipFile.write( file, filename, zipfile.ZIP_DEFLATED )\n\n    for folder in  folders:   \n        addFolderToZip(myZipFile,folder)  \n    myZipFile.close()\n    return (1,zipFilename)\n\n\n(success,filename)=createZipFile(planName,files,folders);\n</code>\n</pre>\n", "senID": 5}, {"text": ["Taken from: http://mail.python.org/pipermail/python-list/2006-August/396166.html"], "childNum": 1, "tag": "p", "senID": 6, "childList": [{"text": "http://mail.python.org/pipermail/python-list/2006-August/396166.html", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://mail.python.org/pipermail/python-list/2006-August/396166.html"}]}, {"text": ["Which gets rid of all folders and puts all files in the target folder (and its subfolders) into a single zip file.", "I couldnt get it to add an entire folder."], "childNum": 0, "tag": "p", "senID": 7, "childList": []}, {"text": ["If I feed the path to a folder in myZipFile.write, I get"], "childNum": 0, "tag": "p", "senID": 8, "childList": []}, {"text": ["Any help is much welcome."], "childNum": 0, "tag": "p", "senID": 9, "childList": []}, {"text": ["Related question: How do I zip the contents of a folder using python (version 2.5)?"], "childNum": 1, "tag": "p", "senID": 10, "childList": [{"text": "How do I zip the contents of a folder using python (version 2.5)?", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://stackoverflow.com/questions/296499/how-do-i-zip-the-contents-of-a-folder-using-python-version-2-5"}]}]