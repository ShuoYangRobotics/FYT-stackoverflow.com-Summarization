[{"text": ["python - decimal place issues with floats"], "childNum": 0, "tag": "h2", "senID": 0, "childList": []}, {"text": ["I seem to be losing a lot of precision with floats."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["For example I need to solve a matrix:"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n 4.0x -2.0y 1.0z =11.0\n1.0x +5.0y -3.0z =-6.0\n2.0x +2.0y +5.0z =7.0\n</code>\n</pre>\n", "senID": 3}, {"text": ["this is the code i use to import the matrix from a text file:"], "childNum": 0, "tag": "p", "senID": 4, "childList": []}, {"code": "<pre>\n<code>\n f = open('gauss.dat')\nlines =  f.readlines()\nf.close()\n\nj=0\nfor line in lines:\n    bits = string.split(line, ',')\n    s=[]\n    for i in range(len(bits)):\n        if (i!= len(bits)-1):\n            s.append(float(bits[i]))\n            #print s[i]\n    b.append(s)\n    y.append(float(bits[len(bits)-1]))\n</code>\n</pre>\n", "senID": 5}, {"text": ["I need to solve using gauss-seidel so I need to rearrange the equations for x, y &amp; z:"], "childNum": 0, "tag": "p", "senID": 6, "childList": []}, {"code": "<pre>\n<code>\n x=(11+2y-1z)/4\ny=(-6-x+3z)/5\nz=(7-2x-2y)/7\n</code>\n</pre>\n", "senID": 7}, {"text": ["Here is the code I use to rearrange the equations.", "b is a matrix of coefficients and y is the answer vector:"], "childNum": 0, "tag": "p", "senID": 8, "childList": []}, {"code": "<pre>\n<code>\n def equations(b,y):\ni=0\neqn=[]\nrow=[]\nwhile(i&lt;len(b)):\n    j=0\n    row=[]\n    while(j&lt;len(b)):\n        if(i==j):\n            row.append(y[i]/b[i][i])\n        else:\n            row.append(-b[i][j]/b[i][i])\n        j=j+1\n    eqn.append(row)\n    i=i+1\nreturn eqn\n</code>\n</pre>\n", "senID": 9}, {"text": ["However the answers i get back aren't precise to the decimal place."], "childNum": 0, "tag": "p", "senID": 10, "childList": []}, {"text": ["For example, upon rearranging the second equation from above, I should get:"], "childNum": 0, "tag": "p", "senID": 11, "childList": []}, {"code": "<pre>\n<code>\n y=-1.2-.2x+.6z\n</code>\n</pre>\n", "senID": 12}, {"text": ["What I get is:\n    y=-1.2-0.20000000000000001x+0.59999999999999998z"], "childNum": 0, "tag": "p", "senID": 13, "childList": []}, {"text": ["This might not seem like a big issue but when you raise the number to a very high power the error is quite large.", "Is there a way around this?", "I tried the Decimal class but it does not work well with power (i.e, Decimal(x)**2)."], "childNum": 0, "tag": "p", "senID": 14, "childList": []}, {"text": ["Any ideas?"], "childNum": 0, "tag": "p", "senID": 15, "childList": []}]