[{"text": ["python - Problem storing Unicode character to MySQL with Django"], "childNum": 0, "tag": "h2", "senID": 0, "childList": []}, {"text": ["I have the string "], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n u\"Played Mirror's Edge\\u2122\"\n</code>\n</pre>\n", "senID": 2}, {"text": ["Which should be shown as "], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"code": "<pre>\n<code>\n Played Mirror's Edge\u2122\n</code>\n</pre>\n", "senID": 4}, {"text": ["But that is another issue.", "My problem at hand is that I'm putting it in a model and then trying to save it to a database.", "AKA:"], "childNum": 0, "tag": "p", "senID": 5, "childList": []}, {"code": "<pre>\n<code>\n a = models.Achievement(name=u\"Played Mirror's Edge\\u2122\")\na.save()\n</code>\n</pre>\n", "senID": 6}, {"text": ["And I'm getting :"], "childNum": 0, "tag": "p", "senID": 7, "childList": []}, {"code": "<pre>\n<code>\n 'ascii' codec can't encode character u'\\u2122' in position 13: ordinal not in range(128)\n</code>\n</pre>\n", "senID": 8}, {"text": ["full stack trace (as requested) :"], "childNum": 0, "tag": "p", "senID": 9, "childList": []}, {"code": "<pre>\n<code>\n Traceback:\nFile \"/var/home/ptarjan/django/mysite/django/core/handlers/base.py\" in get_response\n  86.                 response = callback(request, *callback_args, **callback_kwargs)\nFile \"/var/home/ptarjan/django/mysite/yourock/views/alias.py\" in import_all\n  161.     types.import_all(type, alias)\nFile \"/var/home/ptarjan/django/mysite/yourock/types/types.py\" in import_all\n  52.     return modules[type].import_all(siteAlias, alias)\nFile \"/var/home/ptarjan/django/mysite/yourock/types/xbox.py\" in import_all\n  117.             achiever = self.add_achievement(dict, siteAlias, alias)\nFile \"/var/home/ptarjan/django/mysite/yourock/types/base_profile.py\" in add_achievement\n  130.                 owner       = siteAlias,\nFile \"/var/home/ptarjan/django/mysite/django/db/models/query.py\" in get\n  304.         num = len(clone)\nFile \"/var/home/ptarjan/django/mysite/django/db/models/query.py\" in __len__\n  160.                 self._result_cache = list(self.iterator())\nFile \"/var/home/ptarjan/django/mysite/django/db/models/query.py\" in iterator\n  275.         for row in self.query.results_iter():\nFile \"/var/home/ptarjan/django/mysite/django/db/models/sql/query.py\" in results_iter\n  206.         for rows in self.execute_sql(MULTI):\nFile \"/var/home/ptarjan/django/mysite/django/db/models/sql/query.py\" in execute_sql\n  1734.         cursor.execute(sql, params)\nFile \"/var/home/ptarjan/django/mysite/django/db/backends/util.py\" in execute\n  19.             return self.cursor.execute(sql, params)\nFile \"/var/home/ptarjan/django/mysite/django/db/backends/mysql/base.py\" in execute\n  83.             return self.cursor.execute(query, args)\nFile \"/usr/lib/pymodules/python2.5/MySQLdb/cursors.py\" in execute\n  151.             query = query % db.literal(args)\nFile \"/usr/lib/pymodules/python2.5/MySQLdb/connections.py\" in literal\n  247.         return self.escape(o, self.encoders)\nFile \"/usr/lib/pymodules/python2.5/MySQLdb/connections.py\" in string_literal\n  180.                 return db.string_literal(obj)\n\nException Type: UnicodeEncodeError at /import/xbox:bob\nException Value: 'ascii' codec can't encode character u'\\u2122' in position 13: ordinal not in range(128)\n</code>\n</pre>\n", "senID": 10}, {"text": ["And the pertinant part of the model :"], "childNum": 0, "tag": "p", "senID": 11, "childList": []}, {"code": "<pre>\n<code>\n class Achievement(MyBaseModel):\n    name = models.CharField(max_length=100, help_text=\"A human readable achievement name\")\n</code>\n</pre>\n", "senID": 12}, {"text": ["I'm using a MySQL backend with this in my settings.py"], "childNum": 0, "tag": "p", "senID": 13, "childList": []}, {"code": "<pre>\n<code>\n DEFAULT_CHARSET = 'utf-8'\n</code>\n</pre>\n", "senID": 14}, {"text": ["So basically, how the heck should I deal with all this unicode stuff?", "I was hoping it would all \"just work\" if I stayed away from funny character sets and stuck to UTF8.", "Alas, it seems to not be just that easy."], "childNum": 0, "tag": "p", "senID": 15, "childList": []}]