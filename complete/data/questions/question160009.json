[{"text": ["Model limit_choices_to={'user': user}"], "childNum": 0, "tag": "h2", "senID": 0, "childList": []}, {"text": ["I went to all the documentation, also I went to the IRC channel (BTW a great community) and they told me that is not possible to create a model and limit choices in a field where the 'current user' is in a ForeignKey.", "I will try to explain this with an example:"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n class Project(models.Model):\n  name = models.CharField(max_length=100)\n  employees = models.ManyToManyField(Profile, limit_choices_to={'active': '1'})\n\nclass TimeWorked(models.Model):\n  project = models.ForeignKey(Project, limit_choices_to={'user': user})\n  hours = models.PositiveIntegerField()\n</code>\n</pre>\n", "senID": 2}, {"text": ["Of course that code doesn't work because there is no 'user' object, but that was my idea and I was trying to send the object 'user' to the model to just limit the choices where the current user has projects, I don't want to see projects where I'm not in."], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"text": ["Thank you very much if you can help me or give me any advice, I don't want to you write all the app, just a tip how to deal with that.", "I have 2 days with this in my head and I can't figure it out :("], "childNum": 0, "tag": "p", "senID": 4, "childList": []}, {"text": ["UPDATE: The solution is here: http://collingrady.wordpress.com/2008/07/24/useful-form-tricks-in-django/ sending request.user to a model."], "childNum": 3, "tag": "p", "senID": 5, "childList": [{"text": "UPDATE", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}, {"href": "http://collingrady.wordpress.com/2008/07/24/useful-form-tricks-in-django/", "text": "http://collingrady.wordpress.com/2008/07/24/useful-form-tricks-in-django/", "childNum": 0, "tag": "a", "childList": []}, {"text": "request.user", "childNum": 0, "tag": "code", "childList": []}]}]