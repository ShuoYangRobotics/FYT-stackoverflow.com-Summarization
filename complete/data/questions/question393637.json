[{"text": ["Django + FastCGI - randomly raising OperationalError"], "childNum": 0, "tag": "h2", "senID": 0, "childList": []}, {"text": ["I'm running a Django application.", "Had it under Apache + mod_python before, and it was all OK.", "Switched to Lighttpd + FastCGI.", "Now I randomly get the following exception (neither the place nor the time where it appears seem to be predictable).", "Since it's random, and it appears only after switching to FastCGI, I assume it has something to do with some settings."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["Found a few results when googleing, but they seem to be related to setting maxrequests=1.", "However, I use the default, which is 0."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["Any ideas where to look for?"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"text": ["PS.", "I'm using PostgreSQL.", "Might be related to that as well, since the exception appears when making a database query."], "childNum": 0, "tag": "p", "senID": 4, "childList": []}, {"text": ["Thanks."], "childNum": 0, "tag": "p", "senID": 5, "childList": []}, {"code": "<pre>\n<code>\n File \"/usr/lib/python2.6/site-packages/django/core/handlers/base.py\", line 86, in get_response\n   response = callback(request, *callback_args, **callback_kwargs)\n\n File \"/usr/lib/python2.6/site-packages/django/contrib/admin/sites.py\", line 140, in root\n   if not self.has_permission(request):\n\n File \"/usr/lib/python2.6/site-packages/django/contrib/admin/sites.py\", line 99, in has_permission\n   return request.user.is_authenticated() and request.user.is_staff\n\n File \"/usr/lib/python2.6/site-packages/django/contrib/auth/middleware.py\", line 5, in __get__\n   request._cached_user = get_user(request)\n\n File \"/usr/lib/python2.6/site-packages/django/contrib/auth/__init__.py\", line 83, in get_user\n   user_id = request.session[SESSION_KEY]\n\n File \"/usr/lib/python2.6/site-packages/django/contrib/sessions/backends/base.py\", line 46, in __getitem__\n   return self._session[key]\n\n File \"/usr/lib/python2.6/site-packages/django/contrib/sessions/backends/base.py\", line 172, in _get_session\n   self._session_cache = self.load()\n\n File \"/usr/lib/python2.6/site-packages/django/contrib/sessions/backends/db.py\", line 16, in load\n   expire_date__gt=datetime.datetime.now()\n\n File \"/usr/lib/python2.6/site-packages/django/db/models/manager.py\", line 93, in get\n   return self.get_query_set().get(*args, **kwargs)\n\n File \"/usr/lib/python2.6/site-packages/django/db/models/query.py\", line 304, in get\n   num = len(clone)\n\n File \"/usr/lib/python2.6/site-packages/django/db/models/query.py\", line 160, in __len__\n   self._result_cache = list(self.iterator())\n\n File \"/usr/lib/python2.6/site-packages/django/db/models/query.py\", line 275, in iterator\n   for row in self.query.results_iter():\n\n File \"/usr/lib/python2.6/site-packages/django/db/models/sql/query.py\", line 206, in results_iter\n   for rows in self.execute_sql(MULTI):\n\n File \"/usr/lib/python2.6/site-packages/django/db/models/sql/query.py\", line 1734, in execute_sql\n   cursor.execute(sql, params)\n\nOperationalError: server closed the connection unexpectedly\n       This probably means the server terminated abnormally\n       before or while processing the request.\n</code>\n</pre>\n", "senID": 6}]