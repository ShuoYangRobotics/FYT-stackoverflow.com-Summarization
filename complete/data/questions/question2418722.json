[{"text": ["Extracting code from photograph of T-shirt via OCR"], "childNum": 0, "tag": "h2", "senID": 0, "childList": []}, {"text": ["I recently saw someone with a T-shirt with some Perl code on the back.", "I took a photograph of it and cropped out the code:"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"src": "http://i.imgur.com/FS7oo.jpg", "tag": "img", "senID": 2}, {"text": ["Next I tried to extract the code from the image via OCR, so I installed Tesseract OCR and the Python bindings for it, pytesser."], "childNum": 2, "tag": "p", "senID": 3, "childList": [{"text": "Tesseract OCR", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://code.google.com/p/tesseract-ocr/"}, {"href": "http://code.google.com/p/pytesser/", "text": "pytesser", "childNum": 0, "tag": "a", "childList": []}]}, {"text": ["Pytesser only works on TIFF images, so I converted the image in Gimp and entered the following code (Ubuntu 9.10):"], "childNum": 0, "tag": "p", "senID": 4, "childList": []}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; from pytesser import *\n&gt;&gt;&gt; image = Image.open('code.tif')\n&gt;&gt;&gt; print image_to_string(image)\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"pytesser.py\", line 30, in image_to_string\n    util.image_to_scratch(im, scratch_image_name)\n  File \"util.py\", line 7, in image_to_scratch\n    im.save(scratch_image_name, dpi=(200,200))\n  File \"/usr/lib/python2.6/dist-packages/PIL/Image.py\", line 1406, in save\n    save_handler(self, fp, filename)\n  File \"/usr/lib/python2.6/dist-packages/PIL/BmpImagePlugin.py\", line 197, in _save\n    raise IOError(\"cannot write mode %s as BMP\" % im.mode)\nIOError: cannot write mode RGBA as BMP\n&gt;&gt;&gt; r,g,b,a = image.split()\n&gt;&gt;&gt; img = Image.merge(\"RGB\", (r,g,b))\n&gt;&gt;&gt; print image_to_string(img)\nTesseract Open Source OCR Engine\n\n     \u00e9i     _   l_` _ t  \n  \u2019   \u2018\" fY`  \n  {  W       IKQW\n  \u00b7  __\u00b7_  \u2018 \u00b7-\u00bb\u00b7      \n       :W   Z  \n  \u00b7\u00b7  I  A n   1   \n           ;f        \n     `    `      \n`T     .' V   _ \u2018  \nI  {Z.; \u00bb ;,. , ;  y i-   4 : %:,,    \n      `\u00b7 \u00bb    V; ` ?    \n\u2018,\u2014\u00b7.    \nH***li\u00a5v\u00b7\u2022\u00b7}I\u00a7\u00a2   ` _  \u00bb\u00a2is5#__\u00b7\u00a4G$++}\u00a7;\u201c\u00bb\u20187\u00b7\n  71   \u2019    Q  {  NH IQ\n  yt\u00e9ggygi {     ;g\u00a4qg;gm\u00b7;,g(g,,3) {3;;+-\n   \u00a7 {Jf**$d$ }\u2018$p\u2022\u00a2L#d\u00a4 Sc}\n  \u00bb   i `  i A1:\n</code>\n</pre>\n", "senID": 5}, {"text": ["That's clearly gibberish that comes out of the OCR engine.", "So, my question is:"], "childNum": 0, "tag": "p", "senID": 6, "childList": []}, {"tag": "ul", "num": 2, "lis": [{"text": "What do I have to do to get better OCR results out of Tesseract?", "tag": "none", "senID": 7}, {"text": "Or, does anybody else have better luck extracting the code from the above image in another way?", "tag": "none", "senID": 8}]}]