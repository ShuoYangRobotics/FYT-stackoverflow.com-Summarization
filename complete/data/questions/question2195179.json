[{"text": ["Need help using M2Crypto.Engine to access USB Token"], "childNum": 0, "tag": "h2", "senID": 0, "childList": []}, {"text": ["I am using M2Crypto-0.20.2.", "I want to use engine_pkcs11 from the OpenSC project and the Aladdin PKI client for token based authentication making xmlrpc calls over ssl."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n from M2Crypto import Engine\n\nEngine.load_dynamic()\ndynamic = Engine.Engine('dynamic')\n# Load the engine_pkcs from the OpenSC project\ndynamic.ctrl_cmd_string(\"SO_PATH\", \"/usr/local/ssl/lib/engines/engine_pkcs11.so\")\nEngine.cleanup()\n\nEngine.load_dynamic()\n# Load the Aladdin PKI Client\naladdin = Engine.Engine('dynamic')\naladdin.ctrl_cmd_string(\"SO_PATH\", \"/usr/lib/libeTPkcs11.so\")\n\nkey = aladdin.load_private_key(\"PIN\",\"password\")\n</code>\n</pre>\n", "senID": 2}, {"text": ["This is the error I receive:"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"code": "<pre>\n<code>\n key = pkcs.load_private_key(\"PIN\",\"eT0ken\")\nFile \"/usr/local/lib/python2.4/site-packages/M2Crypto/Engine.py\", line 70, in load_private_key\n    return self._engine_load_key(m2.engine_load_private_key, name, pin)\nFile \"/usr/local/lib/python2.4/site-packages/M2Crypto/Engine.py\", line 60, in _engine_load_key\n    raise EngineError(Err.get_error())\nM2Crypto.Engine.EngineError: 23730:error:26096075:engine routines:ENGINE_load_private_key:not initialised:eng_pkey.c:112:\n</code>\n</pre>\n", "senID": 4}, {"text": ["For load_private_key(), what should be passed as the first argument?", "The M2Crypto documentation does not explain it."], "childNum": 0, "tag": "p", "senID": 5, "childList": []}, {"text": ["I don't get any errors loading the engines, but I'm not sure if I'm loading them correctly.", "It seems like the engine ID has to be a specific name but I don't find that list anywhere.", "'dynamic' is working for me.  "], "childNum": 0, "tag": "p", "senID": 6, "childList": []}, {"text": ["Any help would be appreciated!"], "childNum": 0, "tag": "p", "senID": 7, "childList": []}]