[{"text": ["How to scp in python?"], "childNum": 0, "tag": "h2", "senID": 0, "childList": []}, {"text": ["What's the most pythonic way to scp a file in Python?", "The only route I'm aware of is "], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n os.system('scp \"%s\" \"%s:%s\"' % (localfile, remotehost, remotefile) )\n</code>\n</pre>\n", "senID": 2}, {"text": ["which is a hack, and which doesn't work outside linux-like systems, and which needs help from the Pexpect module to avoid password prompts unless you already have passwordless SSH set up to the remote host."], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"text": ["I'm aware of Twisted's conch, but I'd prefer to avoid implementing scp myself via low-level ssh modules."], "childNum": 1, "tag": "p", "senID": 4, "childList": [{"text": "conch", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"text": ["I'm aware of paramiko, a Python module that supports ssh and sftp; but it doesn't support scp."], "childNum": 1, "tag": "p", "senID": 5, "childList": [{"text": "paramiko", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"text": ["Background: I'm connecting to a router which doesn't support sftp but does support ssh/scp, so sftp isn't an option."], "childNum": 0, "tag": "p", "senID": 6, "childList": []}, {"text": ["EDIT:\nThis is a duplicate of http://stackoverflow.com/questions/68335/how-do-i-copy-a-file-to-a-remote-server-in-python-using-scp-or-ssh.", "However, that question doesn't give an scp-specific answer that deals with keys from within python.", "I'm hoping for a way to run code kind of like"], "childNum": 3, "tag": "p", "senID": 7, "childList": [{"text": "EDIT", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}, {"text": "http://stackoverflow.com/questions/68335/how-do-i-copy-a-file-to-a-remote-server-in-python-using-scp-or-ssh", "tag": "a", "pos": -1, "childList": [], "childNum": 0, "href": "http://stackoverflow.com/questions/68335/how-do-i-copy-a-file-to-a-remote-server-in-python-using-scp-or-ssh"}, {"text": "However", "childNum": 0, "tag": "strong", "pos": 1, "childList": []}]}, {"code": "<pre>\n<code>\n import scp\n\nclient = scp.Client(host=host, user=user, keyfile=keyfile)\n# or\nclient = scp.Client(host=host, user=user)\nclient.use_system_keys()\n# or\nclient = scp.Client(host=host, user=user, password=password)\n\n# and then\nclient.transfer('/etc/local/filename', '/etc/remote/filename')\n</code>\n</pre>\n", "senID": 8}]