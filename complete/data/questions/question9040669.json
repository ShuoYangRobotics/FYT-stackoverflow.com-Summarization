[{"text": ["How can I implement a C++ class in Python, to be called by C++?"], "childNum": 0, "tag": "h2", "senID": 0, "childList": []}, {"text": ["I have a class interface written in C++.", "I have a few classes that implement this interface also written in C++.", "These are called in the context of a larger C++ program, which essentially implements \"main\".", "I want to be able to write implementations of this interface in Python, and allow them to be used in the context of the larger C++ program, as if they had been just written in C++."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["There's been a lot written about interfacing python and C++ but I cannot quite figure out how to do what I want.", "The closest I can find is here: http://www.cs.brown.edu/~jwicks/boost/libs/python/doc/tutorial/doc/html/python/exposing.html#python.class_virtual_functions, but this isn't quite right."], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "http://www.cs.brown.edu/~jwicks/boost/libs/python/doc/tutorial/doc/html/python/exposing.html#python.class_virtual_functions", "tag": "a", "pos": 1, "childList": [], "childNum": 0, "href": "http://www.cs.brown.edu/~jwicks/boost/libs/python/doc/tutorial/doc/html/python/exposing.html#python.class_virtual_functions"}]}, {"text": ["To be more concrete, suppose I have an existing C++ interface defined something like:"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"code": "<pre>\n<code>\n // myif.h\nclass myif {\n   public:\n     virtual float myfunc(float a);\n};\n</code>\n</pre>\n", "senID": 4}, {"text": ["What I want to be able to do is something like:"], "childNum": 0, "tag": "p", "senID": 5, "childList": []}, {"code": "<pre>\n<code>\n // mycl.py\n... some magic python stuff ...\nclass MyCl(myif):\n  def myfunc(a):\n    return a*2\n</code>\n</pre>\n", "senID": 6}, {"text": ["Then, back in my C++ code, I want to be able to say something like:"], "childNum": 0, "tag": "p", "senID": 7, "childList": []}, {"code": "<pre>\n<code>\n // mymain.cc\nvoid main(...) {\n  ... some magic c++ stuff ...\n  myif c = MyCl();  // get the python class\n  cout &lt;&lt; c.myfunc(5) &lt;&lt; endl;  // should print 10\n}\n</code>\n</pre>\n", "senID": 8}, {"text": ["I hope this is sufficiently clear ;)"], "childNum": 0, "tag": "p", "senID": 9, "childList": []}]