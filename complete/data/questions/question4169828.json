[{"text": ["Optimizing python for loops"], "childNum": 0, "tag": "h2", "senID": 0, "childList": []}, {"text": ["Here are two programs that naively calculate the number of prime numbers  &lt;= n.\nOne is in Python and the other is in Java."], "childNum": 2, "tag": "p", "senID": 1, "childList": [{"text": "", "childNum": 0, "tag": "br", "pos": 0, "childList": []}, {"text": "", "childNum": 0, "tag": "br", "childList": []}]}, {"code": "<pre>\n<code>\n public class prime{\n    public static void main(String args[]){\n        int n = Integer.parseInt(args[0]);\n        int nps = 0;\n boolean isp;\n\n        for(int i = 1; i &lt;= n; i++){\n            isp = true;\n\n            for(int k = 2; k &lt; i; k++){\n               if( (i*1.0 / k) == (i/k) ) isp = false;\n            }\n            if(isp){nps++;}\n }\n        System.out.println(nps);\n    }\n}\n\n\n`#!/usr/bin/python`                                                                                                                                        \nimport sys\nn = int(sys.argv[1])\nnps = 0\n\nfor i in range(1,n+1):\n    isp = True\n    for k in range(2,i):\n        if( (i*1.0 / k) == (i/k) ): isp = False\n    if isp == True: nps = nps + 1\nprint nps\n</code>\n</pre>\n", "senID": 2}, {"text": ["Running them on n=10000 I get the following timings.", "shell:~$ time python prime.py 10000 &amp;&amp; time java prime 10000\n1230"], "childNum": 3, "tag": "p", "senID": 3, "childList": [{"text": "", "childNum": 0, "tag": "br", "pos": 0, "childList": []}, {"text": "", "childNum": 0, "tag": "br", "pos": 1, "childList": []}, {"text": "", "childNum": 0, "tag": "br", "childList": []}]}, {"text": ["real 0m49.833s\nuser 0m49.815s\nsys 0m0.012s\n1230"], "childNum": 4, "tag": "p", "senID": 4, "childList": [{"text": "", "childNum": 0, "tag": "br", "pos": 0, "childList": []}, {"text": "", "childNum": 0, "tag": "br", "childList": []}, {"text": "", "childNum": 0, "tag": "br", "childList": []}, {"text": "", "childNum": 0, "tag": "br", "childList": []}]}, {"text": ["real 0m1.491s\nuser 0m1.468s\nsys 0m0.016s"], "childNum": 3, "tag": "p", "senID": 5, "childList": [{"text": "", "childNum": 0, "tag": "br", "pos": 0, "childList": []}, {"text": "", "childNum": 0, "tag": "br", "childList": []}, {"text": "", "childNum": 0, "tag": "br", "childList": []}]}, {"text": ["Am I using for loops in python in an incorrect manner here or is python actually just this much slower? "], "childNum": 1, "tag": "p", "senID": 6, "childList": [{"text": "", "childNum": 0, "tag": "br", "pos": 0, "childList": []}]}, {"text": ["I'm not looking for an answer that is specifically crafted for calculating primes but rather I am wondering if python code is typically utilized in a smarter fashion."], "childNum": 0, "tag": "p", "senID": 7, "childList": []}, {"text": ["The Java code was compiled with\njavac 1.6.0_20\nRun with java version \"1.6.0_18\" \nOpenJDK Runtime Environment (IcedTea6 1.8.1) (6b18-1.8.1-0ubuntu1~9.10.1)\nOpenJDK Client VM (build 16.0-b13, mixed mode, sharing)"], "childNum": 2, "tag": "p", "senID": 8, "childList": [{"text": "", "childNum": 0, "tag": "br", "pos": 0, "childList": []}, {"text": "", "childNum": 0, "tag": "br", "childList": []}]}, {"text": ["Python is:\nPython 2.6.4 (r264:75706, Dec  7 2009, 18:45:15)"], "childNum": 1, "tag": "p", "senID": 9, "childList": [{"text": "", "childNum": 0, "tag": "br", "pos": 0, "childList": []}]}]