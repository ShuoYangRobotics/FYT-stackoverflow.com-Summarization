[{"text": ["put stockprices into groups when they are within 0.5% of each other"], "childNum": 0, "tag": "h2", "senID": 0, "childList": []}, {"text": ["Thanks for the answers, I have not used StackOverflow before so I was suprised by the number of answers and the speed of them - its fantastic."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["I have not been through the answers properly yet, but thought I should add some information to the problem specification.", "See the image below."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["I can't post an image in this because i don't have enough points but you can see an image\nat http://journal.acquitane.com/2010-01-20/image003.jpg"], "childNum": 1, "tag": "p", "senID": 3, "childList": [{"text": "http://journal.acquitane.com/2010-01-20/image003.jpg", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://journal.acquitane.com/2010-01-20/image003.jpg"}]}, {"text": ["This image may describe more closely what I'm trying to achieve.", "So you can see on the horizontal lines across the page are price points on the chart.", "Now where you get a clustering of lines within 0.5% of each, this is considered to be a good thing and why I want to identify those clusters automatically.", "You can see on the chart that there is a cluster at S2 &amp; MR1, R2 &amp; WPP1. "], "childNum": 0, "tag": "p", "senID": 4, "childList": []}, {"text": ["So everyday I produce these price points and then I can identify manually those that are within 0.5%.", "- but the purpose of this question is how to do it with a python routine."], "childNum": 0, "tag": "p", "senID": 5, "childList": []}, {"text": ["I have reproduced the list again (see below) with labels.", "Just be aware that the list price points don't match the price points in the image because they are from two different days. "], "childNum": 0, "tag": "p", "senID": 6, "childList": []}, {"text": ["[YR3,175.24,8]\n[SR3,147.85,6]\n[YR2,144.13,8]\n[SR2,130.44,6]\n[YR1,127.79,8]\n[QR3,127.42,5]\n[SR1,120.94,6]\n[QR2,120.22,5]\n[MR3,118.10,3]\n[WR3,116.73,2]\n[DR3,116.23,1]\n[WR2,115.93,2]\n[QR1,115.83,5]\n[MR2,115.56,3]\n[DR2,115.53,1]\n[WR1,114.79,2]\n[DR1,114.59,1]\n[WPP,113.99,2]\n[DPP,113.89,1]\n[MR1,113.50,3]\n[DS1,112.95,1]\n[WS1,112.85,2]\n[DS2,112.25,1]\n[WS2,112.05,2]\n[DS3,111.31,1]\n[MPP,110.97,3]\n[WS3,110.91,2]\n[50MA,110.87,4]\n[MS1,108.91,3]\n[QPP,108.64,5]\n[MS2,106.37,3]\n[MS3,104.31,3]\n[QS1,104.25,5]\n[SPP,103.53,6]\n[200MA,99.42,7]\n[QS2,97.05,5]\n[YPP,96.68,8]\n[SS1,94.03,6]\n[QS3,92.66,5]\n[YS1,80.34,8]\n[SS2,76.62,6]\n[SS3,67.12,6]\n[YS2,49.23,8]\n[YS3,32.89,8]"], "childNum": 0, "tag": "p", "senID": 7, "childList": []}, {"text": ["I did make a mistake with the original list in that Group C is wrong and should not be included.", "Thanks for pointing that out. "], "childNum": 0, "tag": "p", "senID": 8, "childList": []}, {"text": ["Also the 0.5% is not fixed this value will change from day to day, but I have just used 0.5% as an example for spec'ing the problem."], "childNum": 0, "tag": "p", "senID": 9, "childList": []}, {"text": ["Thanks Again.", "Mark"], "childNum": 0, "tag": "p", "senID": 10, "childList": []}, {"text": ["PS.", "I will get cracking on checking the answers now now."], "childNum": 0, "tag": "p", "senID": 11, "childList": []}, {"text": ["Hi: "], "childNum": 0, "tag": "p", "senID": 12, "childList": []}, {"text": ["I need to do some manipulation of stock prices.", "I have just started using Python, (but I think I would have trouble implementing this in any language).", "I'm looking for some ideas on how to implement this nicely in python."], "childNum": 0, "tag": "p", "senID": 13, "childList": []}, {"text": ["Thanks\nMark"], "childNum": 0, "tag": "p", "senID": 14, "childList": []}, {"text": ["Problem: \nI have a list of lists (FloorLevels (see below)) where the sublist has two items (stockprice, weight).", "I want to put the stockprices into groups when they are within 0.5% of each other.", "A groups strength will be determined by its total weight.", "For example:"], "childNum": 1, "tag": "p", "senID": 15, "childList": [{"text": "Problem", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n Group-A\n115.93,2\n115.83,5\n115.56,3\n115.53,1\n-------------\nTotalWeight:12\n-------------\nGroup-B\n113.50,3\n112.95,1\n112.85,2\n-------------\nTotalWeight:6\n-------------    \n\nFloorLevels[   \n[175.24,8]\n[147.85,6]\n[144.13,8]\n[130.44,6]\n[127.79,8]\n[127.42,5]\n[120.94,6]\n[120.22,5]\n[118.10,3]\n[116.73,2]\n[116.23,1]\n[115.93,2]\n[115.83,5]\n[115.56,3]\n[115.53,1]\n[114.79,2]\n[114.59,1]\n[113.99,2]\n[113.89,1]\n[113.50,3]\n[112.95,1]\n[112.85,2]\n[112.25,1]\n[112.05,2]\n[111.31,1]\n[110.97,3]\n[110.91,2]\n[110.87,4]\n[108.91,3]\n[108.64,5]\n[106.37,3]\n[104.31,3]\n[104.25,5]\n[103.53,6]\n[99.42,7]\n[97.05,5]\n[96.68,8]\n[94.03,6]\n[92.66,5]\n[80.34,8]\n[76.62,6]\n[67.12,6]\n[49.23,8]\n[32.89,8]\n]\n</code>\n</pre>\n", "senID": 16}]