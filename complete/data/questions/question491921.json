[{"text": ["Unicode (utf8) reading and writing to files in python"], "childNum": 0, "tag": "h2", "senID": 0, "childList": []}, {"text": ["I'm having some brain failure in understanding reading and writing text to a file (Python 2.4)."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n # the string, which has an a-acute in it.\nss = u'Capit\\xe1n'\nss8 = ss.encode('utf8')\nrepr(ss), repr(ss8)\n</code>\n</pre>\n", "senID": 2}, {"code": "<pre>\n<code>\n print ss, ss8    \nprint &gt;&gt; open('f1','w'), ss8\n\n\n&gt;&gt;&gt; file('f1').read() \n'Capit\\xc3\\xa1n\\n'\n</code>\n</pre>\n", "senID": 3}, {"text": ["So I type in 'Capit\\xc3\\xa1n' into my favorite editor, in file f2."], "childNum": 0, "tag": "p", "senID": 4, "childList": []}, {"text": ["then:"], "childNum": 0, "tag": "p", "senID": 5, "childList": []}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; open('f1').read()\n'Capit\\xc3\\xa1n\\n'\n&gt;&gt;&gt; open('f2').read()\n'Capit\\\\xc3\\\\xa1n\\n'\n&gt;&gt;&gt; open('f1').read().decode('utf8')\nu'Capit\\xe1n\\n'\n&gt;&gt;&gt; open('f2').read().decode('utf8')\nu'Capit\\\\xc3\\\\xa1n\\n'\n</code>\n</pre>\n", "senID": 6}, {"text": ["What am I not understanding here?", "Clearly there is some vital bit of magic (or good sense) that I'm missing.", "What does one type into text files to get proper conversions."], "childNum": 0, "tag": "p", "senID": 7, "childList": []}, {"text": ["Edit:  What I'm truly failing to grok here, is what the point of the utf-8 representation is, if you can't actually get python to recognize it, when it comes from outside.", "Maybe I should just json dump the string, and use that instead, since that has an asciiable representation!", "More to the point, is there an ascii representation of this unicode object that python will recognize and decode, when coming in from a file?", "If so, how do I get it?"], "childNum": 1, "tag": "p", "senID": 8, "childList": [{"text": "Edit", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; print simplejson.dumps(ss)\n'\"Capit\\u00e1n\"'\n&gt;&gt;&gt; print &gt;&gt; file('f3','w'), simplejson.dumps(ss)\n&gt;&gt;&gt; simplejson.load(open('f3'))\nu'Capit\\xe1n'\n</code>\n</pre>\n", "senID": 9}]