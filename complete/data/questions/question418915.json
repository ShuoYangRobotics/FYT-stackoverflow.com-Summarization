[{"text": ["Pythonic equivalent of unshift or redo?"], "childNum": 0, "tag": "h2", "senID": 0, "childList": []}, {"text": ["I'm learning Python, and I have a situation where I want to consume items from an iterator.", "The tricky part is that under certain conditions, I want to \"un-iterate.", "\"  That is, put an item back onto the front of the iterator before I loop."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["For example, suppose I'm picking apples from a tree.", "My fruit basket can only hold 10kg before it needs to be emptied.", "But I have to pick each apple before I can weigh it and determine if this apple would exceed the capacity of the basket."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["In a language like Perl, I could unshift() the apple back onto the tree, and then let the loop expression re-pick the apple:"], "childNum": 1, "tag": "p", "senID": 3, "childList": [{"text": "unshift()", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n while ($apple = shift(@tree)) {\n  $wt = weight($apple);\n  if ($wt + weight(@basket) &gt; 10) {\n    send(@basket);\n    @basket = ();\n    unshift(@tree, $apple);\n  } else {\n    push(@basket, $element);\n  }\n}\n</code>\n</pre>\n", "senID": 4}, {"text": ["Or else I can also use redo, which resumes processing at the top of block, without evaluating the loop expression.", "So the same apple can be re-processed, after the basket has been emptied."], "childNum": 1, "tag": "p", "senID": 5, "childList": [{"text": "redo", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n while ($apple = shift(@tree)) {\n  $wt = weight($apple);\n  if ($wt + weight(@basket) &gt; 10) {\n    send(@basket);\n    @basket = ();\n    redo;\n  } else {\n    push(@basket, $apple);\n  }\n}\n</code>\n</pre>\n", "senID": 6}, {"text": ["What would be the most pythonic solution for this kind of problem?"], "childNum": 1, "tag": "p", "senID": 7, "childList": [{"text": "pythonic", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}]}]