[{"text": ["How do I correctly install dulwich to get hg-git working on Windows?"], "childNum": 0, "tag": "h2", "senID": 0, "childList": []}, {"text": ["I'm trying to use the hg-git Mercurial extension on Windows (Windows 7 64-bit, to be specific).", "I have Mercurial and Git installed.", "I have Python 2.5 (32-bit) installed."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["I followed the instructions on http://hg-git.github.com/ to install the extension.", "The initial easy_install failed because it was unable to compile dulwich without Visual Studio 2003."], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "http://hg-git.github.com/", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://hg-git.github.com/"}]}, {"text": ["I installed dulwich manually by:"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"tag": "ul", "num": 3, "lis": [{"text": "git clone git://git.samba.org/jelmer/dulwich.git", "tag": "none", "senID": 4}, {"text": "cd dulwich", "tag": "none", "senID": 5}, {"text": "c:\\Python25\\python setup.py --pure install", "tag": "none", "senID": 6}]}, {"text": ["Now when I run easy_install hg-git, it succeeds (since the dulwich dependency is satisfied)."], "childNum": 0, "tag": "p", "senID": 7, "childList": []}, {"text": ["In my C:\\Users\\username\\Mercurial.ini, I have:"], "childNum": 0, "tag": "p", "senID": 8, "childList": []}, {"code": "<pre>\n<code>\n [extensions]\nhgext.bookmarks =\nhggit =\n</code>\n</pre>\n", "senID": 9}, {"text": ["When I type 'hg' at a command prompt, I see:\n\"* failed to import extension hggit: No module named hggit\""], "childNum": 1, "tag": "p", "senID": 10, "childList": [{"text": "*", "childNum": 0, "tag": "em", "pos": 0, "childList": []}]}, {"text": ["Looking under my c:\\Python25 folder, the only reference to hggit I see is Lib\\site-packages\\hg_git-0.2.1-py2.5.egg.", "Is this supposed to be extracted somewhere, or should it work as-is?"], "childNum": 1, "tag": "p", "senID": 11, "childList": [{"text": "Lib\\site-packages\\hg_git-0.2.1-py2.5.egg", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"text": ["Since that failed, I attempted the \"more involved\" instructions from the hg-git page that suggested cloning git://github.com/schacon/hg-git.git and referencing the path in my Mercurial configuration.", "I cloned the repo, and changed my extensions file to look like:"], "childNum": 0, "tag": "p", "senID": 12, "childList": []}, {"code": "<pre>\n<code>\n [extensions]\nhgext.bookmarks =\nhggit = c:\\code\\hg-git\\hggit\n</code>\n</pre>\n", "senID": 13}, {"text": ["Now when I run hg, I see: * failed to import extension hggit from c:\\code\\hg-git\\hggit: No module named dulwich.errors."], "childNum": 1, "tag": "p", "senID": 14, "childList": [{"text": "*", "childNum": 0, "tag": "em", "pos": 0, "childList": []}]}, {"text": ["Ok, so that tells me that it is finding hggit now, because I can see in hg-git\\hggit\\git_handler.py that it calls"], "childNum": 0, "tag": "p", "senID": 15, "childList": []}, {"code": "<pre>\n<code>\n from dulwich.errors import HangupException\n</code>\n</pre>\n", "senID": 16}, {"text": ["That makes me think dulwich is not installed correctly, or not in the path."], "childNum": 0, "tag": "p", "senID": 17, "childList": []}, {"text": ["Update:"], "childNum": 1, "tag": "p", "senID": 18, "childList": [{"text": "Update:", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}]}, {"text": ["From Python command line:"], "childNum": 0, "tag": "p", "senID": 19, "childList": []}, {"code": "<pre>\n<code>\n import dulwich\n</code>\n</pre>\n", "senID": 20}, {"text": ["yields Import Error: No module named dulwich"], "childNum": 1, "tag": "p", "senID": 21, "childList": [{"text": "Import Error: No module named dulwich", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"text": ["However, under C:\\Python25\\Lib\\site-packages, I do have a dulwich-0.5.0-py2.5.egg folder which appears to be populated.", "This was created by the steps mentioned above.", "Is there an additional step I need to take to make it part of the Python \"path\"?"], "childNum": 0, "tag": "p", "senID": 22, "childList": []}, {"text": ["From Python command line (as suggested in one of the answers):"], "childNum": 0, "tag": "p", "senID": 23, "childList": []}, {"code": "<pre>\n<code>\n import pkg_resources\npkg_resources.require('dulwich')\n</code>\n</pre>\n", "senID": 24}, {"text": ["yields [dulwich 0.5.0 (c:\\python25\\lib\\site-packages\\dulwich-0.5.0-py2.5.egg)]"], "childNum": 1, "tag": "p", "senID": 25, "childList": [{"text": "[dulwich 0.5.0 (c:\\python25\\lib\\site-packages\\dulwich-0.5.0-py2.5.egg)]", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"text": ["So what does that tell me?", "Importing dulwich fails, but apparently pkg_resources can find it.", "What can I do with that information?"], "childNum": 0, "tag": "p", "senID": 26, "childList": []}]