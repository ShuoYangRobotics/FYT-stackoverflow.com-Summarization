[{"text": ["how to put a function and arguments into python queue?"], "childNum": 0, "tag": "h2", "senID": 0, "childList": []}, {"text": ["I have a python program with 2 threads ( let's name them 'source' and\n'destination' ).", "Source thread sometimes post a message to destination\nthread with some arguments.", "Than destination thread picks a message it\nmust call a corresponding function with aruments saved in message."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["This task can be solved multiple ways.", "The easy one is tu put a big\n'if...if..if' in destination thread's message pick cycle and call\nfunction according to received message type and saved arguments.", "But this\nwill result in huge amounf of code ( or big lookup table ) and adding new\nmessages / handler function will evolve additonal step to write code in\nmessage pick cycle."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["Since python treats functions as first-class objects and have tuples, i want\nto put a function and argumens inside a message, so than destination thread\npicks a message it just call a functon saved within a message without any\nknowledge what function it is."], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"text": ["I can write a code for a functions with specified number of arguments:"], "childNum": 0, "tag": "p", "senID": 4, "childList": []}, {"code": "<pre>\n<code>\n from Queue import *\nfrom thread import *\nfrom time import *\n\nq = Queue()\n\ndef HandleMsg( arg1, arg2 ) :\n  print arg1, arg2\n\ndef HandleAnotherMsg( arg1, arg2, arg3 ) :\n  print arg1, arg2, arg3\n\ndef DestinationThread( a ) :\n  while True :\n    (f, a, b) = q.get()\n    f( a, b )\n\nstart_new_thread( DestinationThread, ( 0, ) )\nprint \"start\"\nsleep( 1 )\nq.put( (HandleMsg, 1, 2) )\nsleep( 1 )\nprint \"stop\"\n</code>\n</pre>\n", "senID": 5}, {"text": ["The question is: how to modify a code so i can put() a function with\nany number of arguments in queue?", "for example HandleAnotherMsg() ?", "Using q.put( (HandleAnotherMsg, 1, 2, 3) ) will rise a compilation error :("], "childNum": 0, "tag": "p", "senID": 6, "childList": []}]