[{"text": ["What is the fastest way to parse large XML docs in Python?"], "childNum": 0, "tag": "h2", "senID": 0, "childList": []}, {"text": ["I am currently the following code based on Chapter 12.5 of the Python Cookbook:"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n from xml.parsers import expat\n\nclass Element(object):\n    def __init__(self, name, attributes):\n        self.name = name\n        self.attributes = attributes\n        self.cdata = ''\n        self.children = []\n    def addChild(self, element):\n        self.children.append(element)\n    def getAttribute(self,key):\n        return self.attributes.get(key)\n    def getData(self):\n        return self.cdata\n    def getElements(self, name=''):\n        if name:\n            return [c for c in self.children if c.name == name]\n        else:\n            return list(self.children)\n\nclass Xml2Obj(object):\n    def __init__(self):\n        self.root = None\n        self.nodeStack = []\n    def StartElement(self, name, attributes):\n        element = Element(name.encode(), attributes)\n        if self.nodeStack:\n            parent = self.nodeStack[-1]\n            parent.addChild(element)\n        else:\n            self.root = element\n        self.nodeStack.append(element)\n    def EndElement(self, name):\n        self.nodeStack.pop()\n    def CharacterData(self,data):\n        if data.strip():\n            data = data.encode()\n            element = self.nodeStack[-1]\n            element.cdata += data\n    def Parse(self, filename):\n        Parser = expat.ParserCreate()\n        Parser.StartElementHandler = self.StartElement\n        Parser.EndElementHandler = self.EndElement\n        Parser.CharacterDataHandler = self.CharacterData\n        ParserStatus = Parser.Parse(open(filename).read(),1)\n        return self.root\n</code>\n</pre>\n", "senID": 2}, {"text": ["I am working with XML docs about 1 GB in size.", "Does anyone know a faster way to parse these?"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}]