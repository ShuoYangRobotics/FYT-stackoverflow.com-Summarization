[{"text": ["Appengine, performance degradation with python27"], "childNum": 0, "tag": "h2", "senID": 0, "childList": []}, {"text": ["I wanted to test python27 on appengine so I have migrated my app from python25.", "Performance got more than 2x slower for every request!", "Then I've returned to python25 and performance is again as it was before.", "Here is a picture: "], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["\n(milliseconds/request) (cgi handler python 27, then python25)"], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "", "childNum": 0, "tag": "img", "pos": 0, "childList": []}]}, {"text": ["My app uses Werkzeug, Jinja2, and memcache is used quite alot.", "What reasons can cause such a dramatic decrease in performance?", "Or is it just because python2.7 on appengine is still in beta?"], "childNum": 2, "tag": "p", "senID": 3, "childList": [{"text": "Werkzeug", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://werkzeug.pocoo.org/"}, {"text": "Jinja2", "tag": "a", "pos": -1, "childList": [], "childNum": 0, "href": "http://jinja.pocoo.org/docs/"}]}, {"text": ["Some details about application:"], "childNum": 1, "tag": "p", "senID": 4, "childList": [{"text": "Some details about application:", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}]}, {"text": ["It is quite simple online shop.", "There are some deferred tasks with pdf generation however these don't affect overall graph much because the front page gets most hits.", "Nearly everything is memcached.", "It takes up to ~0.8 sec with empty cache to load a page with python 2.5.", "Non-cached pages takes long to load mainly because there are many db queries.", "Cached pages load in 60~100 ms. Average load time is ~150 ms. With python 2.7 performance is terrible.", "Non-cached pages takes 2+ secs to load.", "Cached pages load in 200+ ms."], "childNum": 0, "tag": "p", "senID": 5, "childList": []}, {"text": ["Unfortunately I don't have any profiling data and I can't tell what exactly slows things down in python 2.7."], "childNum": 0, "tag": "p", "senID": 6, "childList": []}, {"text": ["My numbers for page-load time are collected from live page which serves ~10 req/sec and 1 resident python25 instance easily deals with this load."], "childNum": 0, "tag": "p", "senID": 7, "childList": []}, {"text": ["I have also tested python 2.7 with wsgi and threadsafe:yes, but performance improved just a little compared to python 2.7 and cgi."], "childNum": 1, "tag": "p", "senID": 8, "childList": [{"text": "threadsafe:yes", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}]