[{"text": ["Is it bad to store all instances of a class in a class field?"], "childNum": 0, "tag": "h2", "senID": 0, "childList": []}, {"text": ["I was wondering if there is anything wrong (from a OOP point of view) in doing something like this:"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n class Foobar:\n    foobars = {}\n    def __init__(self, name, something):\n        self.name = name\n        self.something = something\n\n        Foobar.foobars[name] = self\n\nFoobar('first', 42)\nFoobar('second', 77)\n\nfor name in Foobar.foobars:\n    print name, Foobar.foobars[name]\n</code>\n</pre>\n", "senID": 2}, {"text": ["EDIT: this is the actual piece of code I'm using right now"], "childNum": 1, "tag": "p", "senID": 3, "childList": [{"text": "EDIT", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n from threading import Event\nclass Task:\n    ADDED, WAITING_FOR_DEPS, READY, IN_EXECUTION, DONE = range(5)\n    tasks = {}\n    def __init__(self, name, dep_names, job, ins, outs, uptodate, where):\n        self.name = name\n        self.dep_names = [dep_names] if isinstance(dep_names, str) else dep_names\n        self.job = job\n        self.where = where\n        self.done = Event()\n        self.status = Task.ADDED\n        self.jobs = []\n        # other stuff...\n        Task.tasks[name] = self\n    def set_done(self):\n        self.done.set()\n        self.status = Task.DONE\n    def wait_for_deps(self):\n        self.status = Task.WAITING_FOR_DEPS\n        for dep_name in self.dep_names:\n            Task.tasks[dep_name].done.wait()\n        self.status = Task.READY\n    def add_jobs_to_queues(self):\n        jobs = self.jobs\n        # a lot of stuff I trimmed here\n        for w in self.where: Queue.queues[w].put(jobs)\n        self.status = Task.IN_EXECUTION\n    def wait_for_jobs(self):\n        for j in self.jobs: j.wait()\n    #[...]\n</code>\n</pre>\n", "senID": 4}, {"text": ["As you can see I need to access the dictionary with all the instances in\nthe wait_for_deps method.", "Would it make more sense to have a global variable\ninstead of a class field?", "I could be using a wrong approach here, maybe that\nstuff shouldn't even be in a method, but it made sense to me (I'm new to OOP)"], "childNum": 0, "tag": "p", "senID": 5, "childList": []}]