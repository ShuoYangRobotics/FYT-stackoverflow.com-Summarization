[{"text": ["Yield in a recursive function"], "childNum": 0, "tag": "h2", "senID": 0, "childList": []}, {"text": ["I am trying to do something to all the files under a given path.", "I don't want to collect all the file names beforehand then do something with them, so I tried this:"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n import os\nimport stat\n\ndef explore(p):\n  s = ''\n  list = os.listdir(p)\n  for a in list:\n    path = p + '/' + a\n    stat_info = os.lstat(path )\n    if stat.S_ISDIR(stat_info.st_mode):\n     explore(path)\n    else:\n      yield path\n\nif __name__ == \"__main__\":\n  for x in explore('.'):\n    print '--&gt;', x\n</code>\n</pre>\n", "senID": 2}, {"text": ["But this code skips over directories when it hits them, instead of yielding their contents.", "What am I doing wrong?"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}]