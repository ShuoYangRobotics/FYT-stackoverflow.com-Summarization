[{"text": ["Improvement in python script involved in solving euler n\u00b0357"], "childNum": 0, "tag": "h2", "senID": 0, "childList": []}, {"text": ["I know that this is a weird and annoying question, but I hope that Christmas atmosphere will make the work easier to be done.", "In a few words: I have tried to write a python script aimed to solve Euler problem number 357, which says: \"Find the sum of all positive integers n not exceeding 100000000 such that for every divisor d of n, d+n/d is prime.", "\"\nSo I wrote this python script and I tried to improve it many times, even by searching on the Net.", "And eventually I managed to make it more than ten times faster, however it cannot go through 100M numbers, even after 24 hours of runtime(yes, i tried).", "So this is the script: I'd like to know if there's anything wrong or what makes it go so slow.", "Ignore comments because some of them are in my own language."], "childNum": 4, "tag": "p", "senID": 1, "childList": [{"text": "n", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "d", "childNum": 0, "tag": "code", "pos": 1, "childList": []}, {"text": "n", "childNum": 0, "tag": "code", "pos": 2, "childList": []}, {"text": "d+n/d", "childNum": 0, "tag": "code", "pos": -1, "childList": []}]}, {"code": "<pre>\n<code>\n #Find the sum of all positive integers n not exceeding 100000000\n#such that for every divisor d of n, d+n/d is prime.\n\nimport time\nmaximum=100000000\n\ndef isprime(n):\n    # range starts with 2 and only needs to go up the squareroot of n\n    for x in range(2,int(n**0.5)+1):\n        if n%x==0:\n            return False\n    return True\n\n#main()\nstart=time.time()\nfinal=list()\nfor n in range(1,maximum):\n    counter,d=1,1\n    divisors=list()\n    while d&lt;=(n**0.5): #Mettendo d&lt;=n, e poi sotto range(len(divisori)/2) ci si mette il DECUPLO del tempo\n        if n%d==0:\n            divisors.append(d)\n        d+=1\n    for divisors_index in range(len(divisors)):\n        prime=divisors[divisors_index]+n/divisors[divisors_index]\n        if isprime(prime)==True:\n            counter+=1\n        elif isprime(prime)==False:\n            counter=0\n            break\n    if counter==(len(divisors))+1:\n        #print \"%d:%s---&gt;%d\"%(n,divisors,len(divisors))\n        final.append(n)   \nend=time.time()-start\n\nprint \"Results: %d. Time: %f seconds\"%(len(final),end)\n</code>\n</pre>\n", "senID": 2}, {"text": ["P.s: In the Net I have found a solution in Haskell, then ported into C (which i know a bit).", "The fact is that the solution looks pretty identical to mine; anyway I did not try to look at it in detail because I did not want spoilers(actually I want them now).", "Thank you and Merry Christmas."], "childNum": 0, "tag": "p", "senID": 3, "childList": []}]