[{"text": ["Performance - Python vs. C#/C++/C reading char-by-char"], "childNum": 0, "tag": "h2", "senID": 0, "childList": []}, {"text": ["So I have these giant XML files (and by giant, I mean like 1.5GB+) and they don't have CRLFs.", "I'm trying to run a diff-like program to find the differences between these files."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["Since I've yet to find a diff program that won't explode due to memory exhaustion, I've decided the best bet was to add CRLFs after closing tags."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["I wrote a python script to read char-by-char and add new-lines after '>'.", "The problem is I'm running this on a single core PC circa-1995 or something ridiculous, and it's only processing about 20MB/hour when I have both converting at the same time."], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"text": ["Any idea if writing this in C#/C/C++ instead will yield any benefits?", "If not, does anyone know of a diff program that will go byte-by-byte?", "Thanks."], "childNum": 0, "tag": "p", "senID": 4, "childList": []}, {"tag": "hr", "senID": 5}, {"text": ["EDIT:"], "childNum": 1, "tag": "p", "senID": 6, "childList": [{"text": "EDIT:", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}]}, {"text": ["Here's the code for my processing function..."], "childNum": 0, "tag": "p", "senID": 7, "childList": []}, {"code": "<pre>\n<code>\n def read_and_format(inputfile, outputfile):\n    ''' Open input and output files, then read char-by-char and add new lines after \"&gt;\" '''\n    infile = codecs.open(inputfile,\"r\",\"utf-8\")\n    outfile = codecs.open(outputfile,\"w\",\"utf-8\")\n\n    char = infile.read(1) \n    while(1):\n        if char == \"\":\n            break\n        else:\n            outfile.write(char)\n            if(char == \"&gt;\"):\n                outfile.write(\"\\n\")\n        char = infile.read(1)\n\n    infile.close()\n    outfile.close()\n</code>\n</pre>\n", "senID": 8}, {"tag": "hr", "senID": 9}, {"text": ["EDIT2:\nThanks for the awesome responses.", "Increaseing the read size created an unbelievable speed increase.", "Problem solved."], "childNum": 1, "tag": "p", "senID": 10, "childList": [{"text": "EDIT2:", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}]}]