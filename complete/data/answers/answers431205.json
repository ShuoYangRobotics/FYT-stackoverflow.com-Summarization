[[{"text": ["From python, if you have appscript installed (sudo easy_install appscript), you can simply do"], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "appscript", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://appscript.sourceforge.net/"}, {"text": "sudo easy_install appscript", "childNum": 0, "tag": "code", "childList": []}]}, {"code": "<pre>\n<code>\n from appscript import app, mactypes\napp('Finder').desktop_picture.set(mactypes.File('/your/filename.jpg'))\n</code>\n</pre>\n", "senID": 1}, {"text": ["Otherwise, this applescript will change the desktop background"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n tell application \"Finder\"\n    set desktop picture to POSIX file \"/your/filename.jpg\"\nend tell\n</code>\n</pre>\n", "senID": 3}, {"text": ["You can run it from the command line using osascript, or from Python using something like"], "childNum": 2, "tag": "p", "senID": 4, "childList": [{"text": "osascript", "tag": "a", "pos": 0, "childList": [{"text": "osascript", "tag": "code"}], "childNum": 1, "href": "http://developer.apple.com/DOCUMENTATION/DARWIN/Reference/ManPages/man1/osascript.1.html"}, {"text": "osascript", "childNum": 0, "tag": "code", "childList": []}]}, {"code": "<pre>\n<code>\n import subprocess\n\nSCRIPT = \"\"\"/usr/bin/osascript&lt;&lt;END\ntell application \"Finder\"\nset desktop picture to POSIX file \"%s\"\nend tell\nEND\"\"\"\n\ndef set_desktop_background(filename):\n    subprocess.Popen(SCRIPT%filename, shell=True)\n</code>\n</pre>\n", "senID": 5}], [{"text": ["You can call \"defaults write com.apple.Desktop Background ...\" as described in this article: http://thingsthatwork.net/index.php/2008/02/07/fun-with-os-x-defaults-and-launchd/"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "http://thingsthatwork.net/index.php/2008/02/07/fun-with-os-x-defaults-and-launchd/", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://thingsthatwork.net/index.php/2008/02/07/fun-with-os-x-defaults-and-launchd/"}]}, {"text": ["The article also goes into scripting this to run automatically, but the first little bit should get you started."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["You might also be interested in the defaults man pages: http://developer.apple.com/documentation/Darwin/Reference/ManPages/man1/defaults.1.html "], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "http://developer.apple.com/documentation/Darwin/Reference/ManPages/man1/defaults.1.html", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://developer.apple.com/documentation/Darwin/Reference/ManPages/man1/defaults.1.html"}]}], [{"text": ["If you are doing this for the current user, you can run, from a shell:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n defaults write com.apple.desktop Background '{default = {ImageFilePath = \"/Library/Desktop Pictures/Black &amp; White/Lightning.jpg\"; };}'\n</code>\n</pre>\n", "senID": 1}, {"text": ["Or, as root, for another user:"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n /usr/bin/defaults write /Users/joeuser/Library/Preferences/com.apple.desktop Background '{default = {ImageFilePath = \"/Library/Desktop Pictures/Black &amp; White/Lightning.jpg\"; };}'\nchown joeuser /Users/joeuser/Library/Preferences/com.apple.desktop.plist\n</code>\n</pre>\n", "senID": 3}, {"text": ["You will of course want to replace the image filename and user name."], "childNum": 0, "tag": "p", "senID": 4, "childList": []}, {"text": ["The new setting will take effect when the Dock starts up -- either at login, or, when you"], "childNum": 0, "tag": "p", "senID": 5, "childList": []}, {"code": "<pre>\n<code>\n killall Dock\n</code>\n</pre>\n", "senID": 6}, {"text": ["[Based on a posting elsewhere, and based on information from Matt Miller's answer."], "childNum": 2, "tag": "p", "senID": 7, "childList": [{"text": "a posting elsewhere", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://forums.macrumors.com/showpost.php?p=7237192&postcount=18"}, {"href": "http://stackoverflow.com/questions/431205/how-can-i-programatically-change-the-background-in-mac-os-x/431273#431273", "text": "Matt Miller's answer", "childNum": 0, "tag": "a", "childList": []}]}], [{"text": ["To add to Matt Miller's response: you can use subprocess.call() to execute a shell command as so:"], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "Matt Miller's response", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://stackoverflow.com/questions/431205/how-can-i-programatically-change-the-background-in-mac-os-x#431273"}, {"href": "http://docs.python.org/library/subprocess.html#subprocess.call", "text": "subprocess.call()", "childNum": 0, "tag": "a", "childList": []}]}, {"code": "<pre>\n<code>\n import subprocess\nsubprocess.call([\"defaults\", \"write\", \"com.apple.Desktop\", \"background\", ...])\n</code>\n</pre>\n", "senID": 1}], [{"text": ["I had this same question, except that I wanted to change the wallpaper on all attached monitors.", "Here's a Python script using appscript (mentioned above; sudo easy_install appscript) which does just that."], "childNum": 4, "tag": "p", "senID": 0, "childList": [{"text": "except", "childNum": 0, "tag": "em", "pos": 0, "childList": []}, {"text": "all attached monitors.", "childNum": 0, "tag": "em", "pos": -1, "childList": []}, {"text": "appscript", "childNum": 0, "tag": "code", "pos": 1, "childList": []}, {"text": "sudo easy_install appscript", "childNum": 0, "tag": "code", "childList": []}]}, {"code": "<pre>\n<code>\n from appscript import *\n\nf = '/path/to/your/file.jpg'\nse = app('System Events')\ndesktops = se.desktops.display_name.get()\nfor d in desktops:\n  desk = se.desktops[its.display_name == d]\n  desk.picture.set(mactypes.File(f))\n</code>\n</pre>\n", "senID": 1}], [{"text": ["You could also use py-appscript instead of Popening osascript or use ScriptingBridge with pyobjc which is included in 10.5 but a bit more cumbersome to use."], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "py-appscript", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://sourceforge.net/projects/appscript"}, {"href": "http://developer.apple.com/documentation/Cocoa/Conceptual/RubyPythonCocoa/Articles/UsingScriptingBridge.html", "text": "ScriptingBridge", "childNum": 0, "tag": "a", "childList": []}]}]]