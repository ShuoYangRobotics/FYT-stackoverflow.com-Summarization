[[{"text": ["How about doing the scripting on the client.", "That will ensure maximum security and also save server resources."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["In other words Javascript would be your scripting platform.", "What you do is expose the functionality of your backend as javascript functions.", "Depending on how your app is currently written that might require backend work or not."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["Oh and by the way you are not limited to javascript for the actual language.", "Google \"compile to javascript\" and first hit should be a list of languages you can use."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["If you are not bound to python, you could use for example Lua as scripting language.", "Lua is a very lightweight language, easy to learn, and developed with embedding in mind.", "There are already at least two PHP extensions available, which nicely embed Lua into PHP and therefore provide the possibility to allow access between PHP and Lua part of your application.", "Have a look at:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["http://pecl.php.net/package/lua"], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "http://pecl.php.net/package/lua", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://pecl.php.net/package/lua"}]}, {"text": ["This one also has some nice examples:"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["http://phplua.3uu.de/"], "childNum": 1, "tag": "p", "senID": 3, "childList": [{"text": "http://phplua.3uu.de/", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://phplua.3uu.de/"}]}, {"text": ["I've already used the latter one a bit for simple experiments and it works quite good."], "childNum": 0, "tag": "p", "senID": 4, "childList": []}], [{"text": ["Security, security, security!", "Just wanted to get that out of the way.", "What you seem to be trying to do sounds pretty scary but it is your foot to shoot."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["Also, what you seem to be trying to do is mix two different server-side languages unless there is an implementation of Python that runs on top of PHP that I am not aware of (PHPython?", ")."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["If you are willing to have your PHP code invoke Python in some way, you should be able to do this pretty easily with something like eval() or exec().", "See  how to input python code in run time and execute it?"], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "how to input python code in run time and execute it?", "tag": "a", "pos": 1, "childList": [], "childNum": 0, "href": "http://stackoverflow.com/questions/3981357/how-to-input-python-code-in-run-time-and-execute-it"}]}, {"text": ["As for wrapping your PHP classes, I'm not sure you can accomplish that exactly.", "You could mirror your PHP classes with Python classes and use something like JSON to transport the data between the two. "], "childNum": 0, "tag": "p", "senID": 3, "childList": []}], [{"text": ["I don't know any prefab solutions.", "But pypy, a Python implementation written in RPython, has a sandboxing feature, which enables you to run the untrusted code."], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "pypy", "tag": "a", "pos": 1, "childList": [], "childNum": 0, "href": "http://pypy.org/"}, {"href": "http://pypy.readthedocs.org/en/latest/sandbox.html", "text": "sandboxing", "childNum": 0, "tag": "a", "childList": []}]}, {"text": ["But if some obvious DSL can be designed for your domain, that might be the easier solution."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}], [{"text": ["You could do it without Python, by ie.", "parsing the user input for pre-defined \"tags\" and returning the result."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["You have two choices:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["If you're doing your logic on the frontend, you can look into a PHP5 MVC framework, such as Zend"], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "Zend", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://framework.zend.com/"}]}, {"text": ["If you're deferring your logic, you can use any scripting language you like.", "For example, you can use SQLAlchemy with Python to access your database."], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "SQLAlchemy", "tag": "a", "pos": 1, "childList": [], "childNum": 0, "href": "http://www.sqlalchemy.org/"}]}]]