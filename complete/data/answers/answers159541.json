[[{"text": ["What fastcgi interface are you using and how.", "Is it flup?", "If yes, paste the way you spawn the server and how it's hooked into nginx.", "Without that information it's just guessing what could go wrong."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["Possible problems:"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"tag": "ul", "num": 2, "lis": [{"text": "nginx is buggy.  At least lighttpd has horrible fastcgi bugs, I wouldn't wonder if nginx has some too :)", "tag": "none", "senID": 2}, {"text": "Django is dying with a traceback in an internal system that is not properly catched and closes the fastcgi server which you can't see from the client.  In that situation wrap the fastcgi server application call and try/except it to print the exception.", "tag": "none", "senID": 3}]}, {"text": ["But server log and config would be great."], "childNum": 0, "tag": "p", "senID": 4, "childList": []}], [{"text": ["try to raise  \"gzip_buffers\" may help."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["see here:\nhttp://blog.leetsoft.com/2007/7/25/nginx-gzip-ssl"], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "http://blog.leetsoft.com/2007/7/25/nginx-gzip-ssl", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://blog.leetsoft.com/2007/7/25/nginx-gzip-ssl"}]}], [{"text": ["Check your error logs for \"Permission denied\" errors writing to .../nginx/tmp/... files.", "Nginx will work fine unless it needs temporary space, and that typically happens at 32K boundaries.", "If you find these errors, make sure the tmp directory is writable by the user nginx runs as."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": ".../nginx/tmp/...", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}], [{"text": ["FastCGI is not to blame for this. "], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["I ran into exactly the same issue using nginx/gunicorn.", "Reducing the response size to less than 32k (in the specific case using the spaceless tag in the template) solved it."], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "spaceless", "childNum": 0, "tag": "code", "pos": 1, "childList": []}]}, {"text": ["As dwc says, it's probably a hard limit due to the way nginx uses address space."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["I'm running very similar configurations to this both on my webhost (Webfaction) and on a local Ubuntu dev server and I don't see any problems.", "I'm guessing it's a time-out or full buffer that's causing this."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["Can you post the output of the nginx error log?", "Also what version of nginx are you using?"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["As a side note it may be worth looking at django-logging to find out what your fastcgi process is doing."], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "django-logging", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://code.google.com/p/django-logging/wiki/Overview"}]}], [{"text": ["I had the same exact problem running Nagios on nginx.", "I stumbled upon your question while googling for an answer, and reading \"permission denied\" related answers it struck me (and perhaps it will help you) : "], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"tag": "ul", "num": 3, "lis": [{"text": ["Nginx error.log was reporting :"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["so I just ran # chown -R www-data:www-data /var/lib/nginx/fastcgi"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["Fixed !", "(and thank you for your indirect help)"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}]}]]