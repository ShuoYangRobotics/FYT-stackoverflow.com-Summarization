[[{"text": ["It is very anti-Pythonic to do so, and any seasoned Pythonista will give you hell over it.", "The intermediate list is thrown away after it is created, and it could potentially be very, very large, and therefore expensive to create."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["You shouldn't use a list comprehension, because as people have said that will build a large temporary list that you don't need.", "The following two methods are equivalent:"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "list", "childNum": 0, "tag": "em", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n consume(side_effects(x) for x in xs)\n\nfor x in xs:\n    side_effects(x)\n</code>\n</pre>\n", "senID": 1}, {"text": ["with the definition of consume from the itertools man page:"], "childNum": 2, "tag": "p", "senID": 2, "childList": [{"text": "consume", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "itertools", "childNum": 0, "tag": "code", "childList": []}]}, {"code": "<pre>\n<code>\n def consume(iterator, n=None):\n    \"Advance the iterator n-steps ahead. If n is none, consume entirely.\"\n    # Use functions that consume iterators at C speed.\n    if n is None:\n        # feed the entire iterator into a zero-length deque\n        collections.deque(iterator, maxlen=0)\n    else:\n        # advance to the empty slice starting at position n\n        next(islice(iterator, n, n), None)\n</code>\n</pre>\n", "senID": 3}, {"text": ["Of course, the latter is clearer and easier to understand."], "childNum": 0, "tag": "p", "senID": 4, "childList": []}], [{"text": ["List comprehensions are for creating lists.", "And unless you are actually creating a list, you should not use list comprehensions."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "not", "childNum": 0, "tag": "em", "pos": 1, "childList": []}]}, {"text": ["So I would got for the second option, just iterating over the list and then call the function when the conditions apply."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}], [{"text": ["Second is better."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["Think of the person who would need to understand your code.", "You can get bad karma easily with the first :)"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["You could go middle between the two by using filter().", "Consider the example:"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n y=[1,2,3,4,5,6]\ndef func(x):\n    print \"call with %r\"%x\n\nfor x in filter(lambda _: True if _ &gt; 3 else False,y):\n    func(x)\n</code>\n</pre>\n", "senID": 3}], [{"text": ["Depends on your goal."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["If you are trying to do some operation on each object in a list, the second approach should be adopted."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["If you are trying to generate a list from another list, you may use list comprehension."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["You can do"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n for z in (fun_with_side_effects(x) for x in y if (...conditions...)): pass\n</code>\n</pre>\n", "senID": 1}, {"text": ["but it's not very pretty."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["I would do this instead:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n any(fun_with_side_effects(x) and False for x in y if (...conditions...))\n</code>\n</pre>\n", "senID": 1}, {"text": ["This is a generator expression, and does not generate a random list that gets tossed out.", "I think it is ugly and I wouldn't actually do it in code.", "But if you insist on implementing your loops in this fashion, that's how I would do it."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["I tend to feel that list comprehensions and their ilk should signal an attempt to use something at least faintly resembling a functional style.", "Putting things with side effects that break that assumption will cause people to have to read your code more carefully, and I think that's a bad thing."], "childNum": 0, "tag": "p", "senID": 3, "childList": []}]]