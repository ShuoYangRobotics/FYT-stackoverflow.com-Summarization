[[{"text": ["You asked about static solutions.", "Here's a dynamic one.", "Suppose you run the code and see an errant print or write to sys.stdout, and want to know where it comes from.", "You can replace sys.stdout and let the exception traceback help you:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; import sys\n&gt;&gt;&gt; def go():\n...   sys.stdout = None\n...   print \"Hello!\"\n... \n&gt;&gt;&gt; go()\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"&lt;stdin&gt;\", line 3, in go\nAttributeError: 'NoneType' object has no attribute 'write'\n&gt;&gt;&gt; print \"Here\"\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nAttributeError: 'NoneType' object has no attribute 'write'\n&gt;&gt;&gt;\n</code>\n</pre>\n", "senID": 1}, {"text": ["For something a bit more sophisticated, replace 'sys.stdout' with something which reports where the print statement is located.", "I'll use traceback.print_stack() to show the full stack, but you can do other things like using sys._getframe() to look up one stack level in order to get the line number and filename."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n import sys\nimport traceback\n\nclass TracePrints(object):\n  def __init__(self):    \n    self.stdout = sys.stdout\n  def write(self, s):\n    self.stdout.write(\"Writing %r\\n\" % s)\n    traceback.print_stack(file=self.stdout)\n\nsys.stdout = TracePrints()\n\ndef a():\n  print \"I am here\"\n\ndef b():\n  a()\n\nb()\n</code>\n</pre>\n", "senID": 3}, {"text": ["Here's the output"], "childNum": 0, "tag": "p", "senID": 4, "childList": []}, {"code": "<pre>\n<code>\n Writing 'I am here'\n  File \"stdout.py\", line 19, in &lt;module&gt;\n    b()\n  File \"stdout.py\", line 17, in b\n    a()\n  File \"stdout.py\", line 14, in a\n    print \"I am here\"\n  File \"stdout.py\", line 9, in write\n    traceback.print_stack(file=self.stdout)\nWriting '\\n'\n  File \"stdout.py\", line 19, in &lt;module&gt;\n    b()\n  File \"stdout.py\", line 17, in b\n    a()\n  File \"stdout.py\", line 14, in a\n    print \"I am here\"\n  File \"stdout.py\", line 9, in write\n    traceback.print_stack(file=self.stdout)\n</code>\n</pre>\n", "senID": 5}, {"text": ["If you go this route, see also the 'linecache' module, which you can use to print the contents of the line.", "Take a look at the implementation of traceback.print_stack for details of how to do that."], "childNum": 0, "tag": "p", "senID": 6, "childList": []}], [{"text": ["Use grep:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["grep -rn print ."], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "grep -rn print .", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}], [{"text": ["This article can prove very valuable in doing that.", "Look for the line events and extract the method name from the frame ( if I remember correctly ).", "More information can be found here"], "childNum": 3, "tag": "p", "senID": 0, "childList": [{"text": "This article", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://www.dalkescientific.com/writings/diary/archive/2005/04/20/tracing%5Fpython%5Fcode.html"}, {"text": "line", "childNum": 0, "tag": "code", "pos": 1, "childList": []}, {"text": "here", "tag": "a", "pos": 2, "childList": [], "childNum": 0, "href": "http://docs.python.org/library/sys.html#sys.settrace"}]}], [{"text": ["The easiest way would be to use a \"debug_print\" function instead of plain \"print\"."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["That way you could just redefine the function and be sure you did not miss one...\nand still have them handy if you need to debug that code again instead of editing your code back and forth each time."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["(Yes leaving debug_print calls can eat some performance : just remove them when it's the case)"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["Spotting \"debug only\" statements in your code is a very good reason to do a diff before comitting any code in your revision control system !", "(knowing what to put in your commit comments being a second good reason to do it !"], "childNum": 1, "tag": "p", "senID": 3, "childList": [{"text": "diff", "childNum": 0, "tag": "em", "pos": 0, "childList": []}]}], [{"text": ["Using grep with a cleverly constructed regex (does not begin or end with quotes) seems to be your best bet."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["I typically do this in my code:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["(near the top):"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["(later on)"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["Then, when I want to take out all of the debugging statement, I change the debug to:"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}], [{"text": ["Use a printf function instead.", "The following is from Infrequently Answered Python Questions"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "Infrequently Answered Python Questions", "tag": "a", "pos": 1, "childList": [], "childNum": 0, "href": "http://norvig.com/python-iaq.html"}]}, {"code": "<pre>\n<code>\n def printf(format, *args): \n    \"\"\"Format args with the first argument as format string, and print.\n    If the format is not a string, it is converted to one with str.\n    You must use printf('%s', x) instead of printf(x) if x might\n    contain % or backslash characters.\"\"\"\n    print str(format) % args,\n</code>\n</pre>\n", "senID": 1}, {"text": ["Now, when you move from debug to production, you redefine printf like so:"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n def printf(format, *args):\n    pass\n</code>\n</pre>\n", "senID": 3}, {"text": ["The advantage to doing it this way, is that if you have to go back and maintain the code to add features or fix a bug, you can turn printf back on."], "childNum": 0, "tag": "p", "senID": 4, "childList": []}], [{"text": ["This probably doesnt answer your question directly, but you can get away with tons of print statements if you use pdb (python debugger) in a way to effectively debug and write code."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["I know it works, because 99% of time you simple dont wanna print stuff, but you wanna set a breakpoint somewhere and see what the variables are and how far the program has reached."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["HTH"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}]]