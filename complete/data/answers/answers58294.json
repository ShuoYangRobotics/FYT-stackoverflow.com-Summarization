[[{"text": ["This isn't possible without cooperation from an external server, because there could be any number of NATs between you and the other computer.", "If it's a custom protocol, you could ask the other system to report what address it's connected to."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["The only way I can think of that's guaranteed to give it to you is to hit a service like http://whatismyip.com/ to get it."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "http://whatismyip.com/", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://whatismyip.com/"}]}], [{"text": ["import socket"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["s.connect((\"msn.com\",80))"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["s.getsockname()"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}], [{"text": ["https://github.com/bobeirasa/mini-scripts/blob/master/externalip.py"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "https://github.com/bobeirasa/mini-scripts/blob/master/externalip.py", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "https://github.com/bobeirasa/mini-scripts/blob/master/externalip.py"}]}, {"code": "<pre>\n<code>\n '''\nFinds your external IP address\n'''\n\nimport urllib\nimport re\n\ndef get_ip():\n    group = re.compile(u'(?P&lt;ip&gt;\\d+\\.\\d+\\.\\d+\\.\\d+)').search(urllib.URLopener().open('http://jsonip.com/').read()).groupdict()\n    return group['ip']\n\nif __name__ == '__main__':\n    print get_ip()\n</code>\n</pre>\n", "senID": 1}], [{"text": ["Using the address suggested in the source of http://whatismyip.com"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "http://whatismyip.com", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://whatismyip.com"}]}, {"code": "<pre>\n<code>\n import urllib\ndef get_my_ip_address():\n    whatismyip = 'http://www.whatismyip.com/automation/n09230945.asp'\n    return urllib.urlopen(whatismyip).readlines()[0]\n</code>\n</pre>\n", "senID": 1}], [{"code": "<pre>\n<code>\n print (urllib.urlopen('http://automation.whatismyip.com/n09230945.asp').read())\n</code>\n</pre>\n", "senID": 0}]]