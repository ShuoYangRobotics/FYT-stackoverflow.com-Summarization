[[{"text": ["You can simulate that very easily:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n class KeyedObject(object):\n    def get_key(self):\n        raise NotImplementedError(\"You must subclass this before you can use it.\")\n\nclass KeyedDict(dict):\n    def append(self, obj):\n        self[obj.get_key()] = obj\n</code>\n</pre>\n", "senID": 1}, {"text": ["Now you can use a KeyedDict instead of dict with subclasses of KeyedObject (where get_key return a valid key based on some object property)."], "childNum": 4, "tag": "p", "senID": 2, "childList": [{"text": "KeyedDict", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "dict", "childNum": 0, "tag": "code", "childList": []}, {"text": "KeyedObject", "childNum": 0, "tag": "code", "childList": []}, {"text": "get_key", "childNum": 0, "tag": "code", "childList": []}]}], [{"text": ["I'm not much of a C#'er, but I think dictionaries is what you need."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["http://docs.python.org/tutorial/datastructures.html#dictionaries"], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "http://docs.python.org/tutorial/datastructures.html#dictionaries", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://docs.python.org/tutorial/datastructures.html#dictionaries"}]}, {"text": ["http://docs.python.org/tutorial/datastructures.html"], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "http://docs.python.org/tutorial/datastructures.html", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://docs.python.org/tutorial/datastructures.html"}]}, {"text": ["Or maybe lists:"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"text": ["http://docs.python.org/library/functions.html#list"], "childNum": 1, "tag": "p", "senID": 4, "childList": [{"text": "http://docs.python.org/library/functions.html#list", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://docs.python.org/library/functions.html#list"}]}], [{"text": ["@Mehrdad said:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["With this constraint, there is nothing in Python that does what you want.", "I suggest you use a dict and not worry about this level of detail on the semantics.", "@Gabi Purcaru's answer shows how you can create an object with the interface you want.", "Why get bothered about how it's working internally?  "], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["It could be that C#'s KeyedCollection is doing the same thing under the covers: asking the object for its key and then storing the key for fast access.", "In fact, from the docs:"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["Given your constraints, everyone trying to implement what you're looking for using a dict is barking up the wrong tree.", "Instead, you should write a list subclass that overrides __getitem__ to provide the behavior you want.", "I've written it so it tries to get the desired item by index first, then falls back to searching for the item by the key attribute of the contained objects.", "(This could be a property if the object needs to determine this dynamically."], "childNum": 4, "tag": "p", "senID": 0, "childList": [{"text": "dict", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "list", "childNum": 0, "tag": "code", "pos": 1, "childList": []}, {"text": "__getitem__", "childNum": 0, "tag": "code", "pos": -1, "childList": []}, {"text": "key", "childNum": 0, "tag": "code", "pos": 2, "childList": []}]}, {"text": ["There's no way to avoid a linear search if you don't want to duplicate something somewhere; I am sure the C# implementation does exactly the same thing if you don't allow it to use a dictionary to store the keys."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n class KeyedCollection(list):\n     def __getitem__(self, key):\n         if isinstance(key, int) or isinstance(key, slice):\n             return list.__getitem__(key)\n         for item in self:\n             if getattr(item, \"key\", 0) == key:\n                 return item\n         raise KeyError('item with key `%s` not found' % key)\n</code>\n</pre>\n", "senID": 2}, {"text": ["You would probably also want to override __contains__ in a similar manner so you could say if \"key\" in kc....", "If you want to make it even more like a dict, you could also implement keys() and so on.", "They will be equally inefficient, but you will have an API like a dict, that also works like a list."], "childNum": 5, "tag": "p", "senID": 3, "childList": [{"text": "__contains__", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "if \"key\" in kc...", "childNum": 0, "tag": "code", "pos": -1, "childList": []}, {"text": "dict", "childNum": 0, "tag": "code", "pos": 1, "childList": []}, {"text": "keys()", "childNum": 0, "tag": "code", "pos": -1, "childList": []}, {"text": "dict", "childNum": 0, "tag": "code", "pos": 2, "childList": []}]}], [{"text": ["Why not simply use a dict?", "If the key already exists, a reference to the key will be used in the dict; it won't be senselessly duplicated."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "dict", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n class MyExample(object):\n    def __init__(self, key, value):\n        self.key = key\n        self.value = value\n\nm = MyExample(\"foo\", \"bar\")\nd = {}\n\nd[m.key] = m\n\nfirst_key = d.keys()[0]\nfirst_key is m.key  # returns True\n</code>\n</pre>\n", "senID": 1}, {"text": ["If the key doesn't already exist, a copy of it will be saved, but I don't see that as a problem."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n def lame_hash(s):\n    h = 0\n    for ch in s:\n        h ^= ord(ch)\n    return h\n\nd = {}\nd[lame_hash(m.key)] = m\nprint d  # key value is 102 which is stored in the dict\n\nlame_hash(m.key) in d  # returns True\n</code>\n</pre>\n", "senID": 3}], [{"text": ["I'm not sure if this is what you meant, but this dictionary will create it's own keys as you add to it..."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n class KeyedCollection(dict):\n    def __init__(self):\n        self.current_key = 0\n    def add(self, item):\n        self[self.current_key] = item\n\nabc = KeyedCollection()\nabc.add('bob')\nabc.add('jane')\n&gt;&gt;&gt; abc\n{0: 'bob', 1: 'jane'}\n</code>\n</pre>\n", "senID": 1}], [{"text": ["How about a set()?", "The elements can have their own k"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "set()", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}]]