[[{"text": ["You can do this in PHP using cURL.", "Here's an example of making requests using curl in a non-blocking (or asynchronous) manner."], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "cURL", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://curl.haxx.se/"}, {"text": "example", "tag": "a", "pos": 1, "childList": [], "childNum": 0, "href": "http://www.jaisenmathai.com/blog/2008/05/29/asynchronous-parallel-http-requests-using-php-multi%5Fcurl/"}]}, {"text": ["cURL is available for Python as well."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}], [{"text": ["In PHP you can close the connection by sending this request (this is HTTP related and works also in python, although I don't know the proper syntax to use):"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n // Send the response to the client\nheader('Connection: Close');\n// Do the background job: just don't output anything!\n</code>\n</pre>\n", "senID": 1}, {"text": ["Addenum: I forgot to mention you probably have to set the \"Context-Length\".", "Also, check out this comment for tips and a real test case."], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "this comment", "tag": "a", "pos": 1, "childList": [], "childNum": 0, "href": "http://www.php.net/manual/en/features.connection-handling.php#71172"}]}], [{"text": ["You can spawn another process to handle the POST to the other server.", "In PHP you would spawn the process and \"disconnect\" so you don't wait for the response."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n exec(\"nohup /path/to/script/post_content.php &gt; /dev/null 2&gt;&amp;1 &amp;\");\n</code>\n</pre>\n", "senID": 1}, {"text": ["You can then you curl to perform the post.", "If you want to pass parameters to the PHP script, you can use the getopt() function to read them.", "Not sure if you would do something similar in Python."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["What you need to do is have the PHP script execute another script that does the server call and then sends the user the request."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["Hookah is designed to solve your problem."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "Hookah", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://github.com/progrium/hookah"}]}], [{"text": ["in python you could simply close the output stream, then continue to do your post request"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n sys.stdout.close()\n</code>\n</pre>\n", "senID": 1}], [{"text": ["You can do it with simple fopen() call:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n function async_post_request($url, $params) {\n    $post_string = http_build_query($params);\n    $params = array('http' =&gt; array(\n        'method' =&gt; 'POST',\n        'content' =&gt; $post_string\n    ));\n    $ctx = stream_context_create($params);\n    $fp = fopen($url, 'rb', false, $ctx);\n    stream_set_blocking($fp, 0);\n    return $fp;\n}\n</code>\n</pre>\n", "senID": 1}]]