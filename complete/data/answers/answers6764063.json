[[{"text": ["If you want a blazingly fast membership test, then a list is the wrong data structure.", "Take a look at the implementation of list_contains in listobject.c, line 437.", "It iterates over the list in order, comparing the item with each element in turn.", "The later the item appears in the list, the longer it will take to find it, and if the item is missing, then the whole list must be scanned."], "childNum": 3, "tag": "p", "senID": 0, "childList": [{"text": "list_contains", "childNum": 0, "tag": "code", "pos": 1, "childList": []}, {"text": "listobject.c, line 437", "tag": "a", "pos": -1, "childList": [{"text": "listobject.c", "tag": "code"}], "childNum": 1, "href": "http://hg.python.org/cpython/file/b754641a429f/Objects/listobject.c#l437"}, {"text": "listobject.c", "childNum": 0, "tag": "code", "pos": -1, "childList": []}]}, {"text": ["Use a set instead.", "Sets are implemented internally by a hash table, so looking up an object involves computing its hash and then scanning a few table entries (usually just one).", "For the particular case of looking up a string, see set_lookkey_string in setobject.c, line 156."], "childNum": 4, "tag": "p", "senID": 1, "childList": [{"text": "set", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://docs.python.org/library/stdtypes.html#set-types-set-frozenset"}, {"text": "set_lookkey_string", "childNum": 0, "tag": "code", "pos": 2, "childList": []}, {"href": "http://hg.python.org/cpython/file/b754641a429f/Objects/setobject.c#l156", "text": "setobject.c, line 156", "childNum": 1, "tag": "a", "childList": [{"text": "setobject.c", "tag": "code"}]}, {"text": "setobject.c", "childNum": 0, "tag": "code", "childList": []}]}], [{"text": ["A set of strings will have O(1) lookup time: effectively constant regardless of the size of the set.", "Making a set from your list of strings is easy:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n my_set = set(my_list)\nif my_word in my_set:\n    print \"it's there!\"\n</code>\n</pre>\n", "senID": 1}], [{"text": ["If you need real fast checking, use a set:"], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "set", "tag": "a", "pos": 0, "childList": [{"text": "set", "tag": "code"}], "childNum": 1, "href": "http://docs.python.org/library/stdtypes.html#set"}, {"text": "set", "childNum": 0, "tag": "code", "childList": []}]}, {"code": "<pre>\n<code>\n words = set(words_list)\nif \"hello\" in words:\n    print(\"hello found!\"\")\n</code>\n</pre>\n", "senID": 1}, {"text": ["A set is faster because it uses a hash-algorithm, instead of a direct search approach."], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "hash-algorithm", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://en.wikipedia.org/wiki/Hash_function"}]}], [{"text": ["According to this site, x in s is O(n).", "Therefore, it checks each entry (in the worst case). "], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "this site", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://wiki.python.org/moin/TimeComplexity"}, {"text": "x in s", "childNum": 0, "tag": "code", "pos": -1, "childList": []}]}, {"text": ["At any rate, do not use a regex.", "Using sets or lists is a much more intuitive way to represent the data and regexes will not perform better than O(n)."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}], [{"text": ["If you're using a regular list, consider a set instead."], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "set", "tag": "a", "pos": 0, "childList": [{"text": "set", "tag": "code"}], "childNum": 1, "href": "http://docs.python.org/library/stdtypes.html#set"}, {"text": "set", "childNum": 0, "tag": "code", "childList": []}]}, {"text": ["If you want to implement your own fine-tuned membership test for your container object,  override __contains__."], "childNum": 2, "tag": "p", "senID": 1, "childList": [{"text": "__contains__", "tag": "a", "pos": 0, "childList": [{"text": "__contains__", "tag": "code"}], "childNum": 1, "href": "http://docs.python.org/reference/datamodel.html#object.__contains__"}, {"text": "__contains__", "childNum": 0, "tag": "code", "childList": []}]}], [{"text": ["You probably want to use a Set if you're worried about time.", "A Set is much like a list, but it checks for membership based on hashing."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["Use a set.", "If you need case-insensitive checking, just store the words into the set downcased.", "Then when checking if a certain word is in the set, downcase the word before checking membership."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["The general rule is: normalize entries when building the set, and normalize an item before checking against the set.", "Another example of normalization is collapsing consecutive whitespace chars into a single space and stripping leading/trailing whitespace."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}], [{"text": ["Running a regex against your word list is a very bad idea; it scales very badly.", "Using dict() set() or frozenset() will scale a lot better:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["&gt;&gt;&gt; s = set(['one','two','three'])&gt;&gt;&gt; 'two' in sTrue&gt;&gt;&gt; b='four'&gt;&gt;&gt; b in sFalse&gt;&gt;&gt; s.add('four')&gt;&gt;&gt; b in sTrue"], "childNum": 9, "tag": "p", "senID": 1, "childList": [{"text": "&gt;&gt;&gt; s = set(['one','two','three'])&gt;&gt;&gt; 'two' in sTrue&gt;&gt;&gt; b='four'&gt;&gt;&gt; b in sFalse&gt;&gt;&gt; s.add('four')&gt;&gt;&gt; b in sTrue", "childNum": 8, "tag": "code", "pos": 0, "childList": [{"text": "", "tag": "br"}, {"text": "", "tag": "br"}, {"text": "", "tag": "br"}, {"text": "", "tag": "br"}, {"text": "", "tag": "br"}, {"text": "", "tag": "br"}, {"text": "", "tag": "br"}, {"text": "", "tag": "br"}]}, {"text": "", "childNum": 0, "tag": "br", "childList": []}, {"text": "", "childNum": 0, "tag": "br", "childList": []}, {"text": "", "childNum": 0, "tag": "br", "childList": []}, {"text": "", "childNum": 0, "tag": "br", "childList": []}, {"text": "", "childNum": 0, "tag": "br", "childList": []}, {"text": "", "childNum": 0, "tag": "br", "childList": []}, {"text": "", "childNum": 0, "tag": "br", "childList": []}, {"text": "", "childNum": 0, "tag": "br", "childList": []}]}]]