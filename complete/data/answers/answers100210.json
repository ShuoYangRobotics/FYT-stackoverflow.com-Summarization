[[{"text": ["You can use full datetime variables with timedelta, and by providing a dummy date then using time to just get the time value."], "childNum": 3, "tag": "p", "senID": 0, "childList": [{"text": "datetime", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "timedelta", "childNum": 0, "tag": "code", "childList": []}, {"text": "time", "childNum": 0, "tag": "code", "childList": []}]}, {"text": ["For example:"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n import datetime\na = datetime.datetime(1,1,1,11,34,59)\nb = a + datetime.timedelta(0,3) # days, seconds, then other fields.\nprint a.time()\nprint b.time()\n</code>\n</pre>\n", "senID": 2}, {"text": ["results in the two values, three seconds apart:"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"code": "<pre>\n<code>\n 11:34:59\n11:35:02\n</code>\n</pre>\n", "senID": 4}, {"text": ["You could also opt for the more readable"], "childNum": 0, "tag": "p", "senID": 5, "childList": []}, {"code": "<pre>\n<code>\n b = a + datetime.timedelta(seconds=3)\n</code>\n</pre>\n", "senID": 6}, {"text": ["if you're so inclined."], "childNum": 0, "tag": "p", "senID": 7, "childList": []}, {"text": ["If you're after a function that can do this, you can look into using addSecs below:"], "childNum": 1, "tag": "p", "senID": 8, "childList": [{"text": "addSecs", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n import datetime\n\ndef addSecs (tm,secs):\n    fulldate = datetime.datetime(1,1,1,tm.hour,tm.minute,tm.second)\n    fulldate = fulldate + datetime.timedelta(0,3)\n    return fulldate.time()\n\na = datetime.datetime.now().time()\nb = addSecs (a,300)\nprint a\nprint b\n</code>\n</pre>\n", "senID": 9}, {"text": ["This outputs:"], "childNum": 0, "tag": "p", "senID": 10, "childList": []}, {"code": "<pre>\n<code>\n 16:38:04.314204\n16:43:04\n</code>\n</pre>\n", "senID": 11}], [{"text": ["As others here have stated, you can just use full datetime objects throughout:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n sometime = get_some_time() # the time to which you want to add 3 seconds\nlater = (datetime.combine(date.today(), sometime) + timedelta(seconds=3)).time()\n</code>\n</pre>\n", "senID": 1}, {"text": ["However, I think it's worth explaining why full datetime objects are required.", "Consider what would happen if I added 2 hours to 11pm.", "What's the correct behavior?", "An exception, because you can't have a time larger than 11:59pm?", "Should it wrap back around?"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["Different programmers will expect different things, so whichever result they picked would surprise a lot of people.", "Worse yet, programmers would write code that worked just fine when they tested it initially, and then have it break later by doing something unexpected.", "This is very bad, which is why you're not allowed to add timedelta objects to time objects."], "childNum": 0, "tag": "p", "senID": 3, "childList": []}], [{"text": ["Thanks to @Pax Diablo, @bvmou and @Arachnid for the suggestion of using full datetimes throughout.", "If I have to accept datetime.time objects from an external source, then this seems to be an alternative add_secs_to_time() function:"], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "Pax Diablo", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "#100345"}, {"text": "add_secs_to_time()", "childNum": 0, "tag": "code", "pos": 1, "childList": []}]}, {"code": "<pre>\n<code>\n def add_secs_to_time(timeval, secs_to_add):\n    dummy_date = datetime.date(1, 1, 1)\n    full_datetime = datetime.datetime.combine(dummy_date, timeval)\n    added_datetime = full_datetime + datetime.timedelta(seconds=secs_to_add)\n    return added_datetime.time()\n</code>\n</pre>\n", "senID": 1}, {"text": ["This verbose code can be compressed to this one-liner:"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n (datetime.datetime.combine(datetime.date(1, 1, 1), timeval) + datetime.timedelta(seconds=secs_to_add)).time()\n</code>\n</pre>\n", "senID": 3}, {"text": ["but I think I'd want to wrap that up in a function for code clarity anyway."], "childNum": 0, "tag": "p", "senID": 4, "childList": []}], [{"text": ["One little thing, might add clarity to override the default value for seconds"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; b = a + datetime.timedelta(seconds=3000)\n&gt;&gt;&gt; b\ndatetime.datetime(1, 1, 1, 12, 24, 59)\n</code>\n</pre>\n", "senID": 1}], [{"text": ["Try adding a datetime.datetime to a datetime.timedelta.", "If you only want the time portion, you can call the time() method on the resultant datetime.datetime object to get it."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["If it's worth adding another file / dependency to your project, I've just written a tiny little class that extends datetime.time with the ability to do arithmetic."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "datetime.time", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"text": ["Your example would be written:"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; import datetime\n&gt;&gt;&gt; import nptime\n&gt;&gt;&gt; nptime.nptime(11, 34, 59) + datetime.timedelta(0, 3)\nnptime(11, 35, 2)\n</code>\n</pre>\n", "senID": 2}, {"text": ["nptime inherits from datetime.time, so any of those methods should be usable, too."], "childNum": 2, "tag": "p", "senID": 3, "childList": [{"text": "nptime", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "datetime.time", "childNum": 0, "tag": "code", "childList": []}]}, {"text": ["It's available from PyPi as nptime (\"non-pedantic time\"), or on GitHub: https://github.com/tgs/nptime"], "childNum": 2, "tag": "p", "senID": 4, "childList": [{"text": "nptime", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"href": "https://github.com/tgs/nptime", "text": "https://github.com/tgs/nptime", "childNum": 0, "tag": "a", "childList": []}]}]]