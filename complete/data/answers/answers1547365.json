[[{"text": ["First note that sqlite is thread safe"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "sqlite is thread safe", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://www.sqlite.org/faq.html#q6"}]}, {"code": "<pre>\n<code>\n $ python\nPython 2.5.2 (r252:60911, Jul 31 2008, 17:28:52)\n[GCC 4.2.3 (Ubuntu 4.2.3-2ubuntu7)] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import sqlite\n&gt;&gt;&gt; sqlite.threadsafety\n1\n</code>\n</pre>\n", "senID": 1}, {"text": ["Then just make sure you open a new handle to the database in each thread."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["I do this using thread local storage to cache the database handle so there is only one per thread.", "Something like this... (from a py2.5 prog - hopefully it will work with 3.0!"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"code": "<pre>\n<code>\n import threading\n\nclass YourClass:\n    def __init__(self):\n        #...\n        self.local = threading.local()  # Thread local storage for db handles\n        self.db_file = \"/path/to/db\"\n        #...\n    def db_open(self):\n        if not getattr(self.local, \"db\", None):\n            self.local.db = sqlite3.connect(self.db_file)\n        return self.local.db\n</code>\n</pre>\n", "senID": 4}], [{"text": ["I did a port of psycopg2 to Python 3."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "port", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://www.dcl.hpi.uni-potsdam.de/home/loewis/psycopg%5F3k.diff"}]}], [{"text": ["I know there is some Python driver for Firebird but I don't know if some exist for Python 3.", "May be you can ask in the Firebird-Python support list"], "childNum": 3, "tag": "p", "senID": 0, "childList": [{"text": "driver", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://www.firebirdsql.org/index.php?op=devel&sub=python"}, {"text": "Firebird", "tag": "a", "pos": 1, "childList": [], "childNum": 0, "href": "http://www.firebirdsql.org"}, {"href": "http://www.firebirdsql.org/index.php?op=lists#firebird-python", "text": "support list", "childNum": 0, "tag": "a", "childList": []}]}], [{"text": ["You could create a new sqlite object in each thread, each using the same database file.", "For such a small number of users you might not come across the problems with concurrency, unless they are all writing to it very heavily."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["Surely a pragmatic option is to just use one SQLite connection per thread."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["couchdb-python."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "couchdb-python", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://code.google.com/p/couchdb-python/"}]}]]