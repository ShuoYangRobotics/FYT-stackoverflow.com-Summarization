[[{"text": ["To answer your first question... .format just seems more sophisticated in many ways.", "You can do stuff like re-use arguments, which you can't do with %.", "An annoying thing about % is also how it can either take a variable or a tuple.", "You'd think the following would always work:"], "childNum": 3, "tag": "p", "senID": 0, "childList": [{"text": ".format", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "%", "childNum": 0, "tag": "code", "pos": 1, "childList": []}, {"text": "%", "childNum": 0, "tag": "code", "pos": 2, "childList": []}]}, {"code": "<pre>\n<code>\n \"hi there %s\" % name\n</code>\n</pre>\n", "senID": 1}, {"text": ["yet, if name happens to be (1, 2, 3), it will throw a TypeError.", "To guarantee that it always prints, you'd need to do"], "childNum": 3, "tag": "p", "senID": 2, "childList": [{"text": "name", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "(1, 2, 3)", "childNum": 0, "tag": "code", "pos": -1, "childList": []}, {"text": "TypeError", "childNum": 0, "tag": "code", "pos": -1, "childList": []}]}, {"code": "<pre>\n<code>\n \"hi there %s\" % (name,)   # supply the single argument as a single-item tuple\n</code>\n</pre>\n", "senID": 3}, {"text": ["which is just ugly.", ".format doesn't have those issues.", "Also in the second example you gave, the .format example is much cleaner looking."], "childNum": 2, "tag": "p", "senID": 4, "childList": [{"text": ".format", "childNum": 0, "tag": "code", "pos": 1, "childList": []}, {"text": ".format", "childNum": 0, "tag": "code", "pos": 2, "childList": []}]}, {"text": ["Why would you not use it? "], "childNum": 0, "tag": "p", "senID": 5, "childList": []}, {"tag": "ul", "num": 2, "lis": [{"text": "not knowing about it (me before reading this)", "tag": "none", "senID": 6}, {"text": "having to be compatible with Python 2.5", "tag": "none", "senID": 7}]}, {"text": ["To answer your second question, string formatting happens at the same time as any other operation - when the string formatting expression is evaluated.", "And Python, not being a lazy language, evaluates expressions before calling functions, so in your log.debug example, the expression \"some debug info: %s\"%some_infowill first evaluate to, e.g.", "\"some debug info: roflcopters are active\", then that string will be passed to log.debug(). "], "childNum": 4, "tag": "p", "senID": 8, "childList": [{"text": "log.debug", "childNum": 0, "tag": "code", "pos": 1, "childList": []}, {"text": "\"some debug info: %s\"%some_info", "childNum": 0, "tag": "code", "pos": -1, "childList": []}, {"text": "\"some debug info: roflcopters are active\"", "childNum": 0, "tag": "code", "pos": 2, "childList": []}, {"text": "log.debug()", "childNum": 0, "tag": "code", "childList": []}]}], [{"text": ["Assuming you're using python's logging module, you can pass the string formatting arguments as arguments to the .debug() method rather than doing the formatting yourself:"], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "logging", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": ".debug()", "childNum": 0, "tag": "code", "childList": []}]}, {"code": "<pre>\n<code>\n log.debug(\"some debug info: %s\", some_info)\n</code>\n</pre>\n", "senID": 1}, {"text": ["which avoids doing the formatting unless the logger actually logs something."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["Something that the modulo operator ( % ) can't do, afaik:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n tu = (12,45,22222,103,6)\nprint '{0} {2} {1} {2} {3} {2} {4} {2}'.format(*tu)\n</code>\n</pre>\n", "senID": 1}, {"text": ["result"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n 12 22222 45 22222 103 22222 6 22222\n</code>\n</pre>\n", "senID": 3}, {"text": ["Very useful"], "childNum": 0, "tag": "p", "senID": 4, "childList": []}, {"text": [], "childNum": 0, "tag": "p", "senID": 5, "childList": []}, {"text": ["Another point: format() being a function, it can be used as argument in other functions: "], "childNum": 1, "tag": "p", "senID": 6, "childList": [{"text": "format()", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n li = [12,45,78,784,2,69,1254,4785,984]\nprint map('the number is {}'.format,li)   \n\nprint\n\nfrom datetime import datetime,timedelta\n\nonce_upon_a_time = datetime(2010, 7, 1, 12, 0, 0)\ndelta = timedelta(days=13, hours=8,  minutes=20)\n\ngen =(once_upon_a_time +x*delta for x in xrange(20))\n\nprint '\\n'.join(map('{:%Y-%m-%d %H:%M:%S}'.format, gen))\n</code>\n</pre>\n", "senID": 7}, {"text": ["result"], "childNum": 0, "tag": "p", "senID": 8, "childList": []}, {"code": "<pre>\n<code>\n ['the number is 12', 'the number is 45', 'the number is 78', 'the number is 784', 'the number is 2', 'the number is 69', 'the number is 1254', 'the number is 4785', 'the number is 984']\n\n2010-07-01 12:00:00\n2010-07-14 20:20:00\n2010-07-28 04:40:00\n2010-08-10 13:00:00\n2010-08-23 21:20:00\n2010-09-06 05:40:00\n2010-09-19 14:00:00\n2010-10-02 22:20:00\n2010-10-16 06:40:00\n2010-10-29 15:00:00\n2010-11-11 23:20:00\n2010-11-25 07:40:00\n2010-12-08 16:00:00\n2010-12-22 00:20:00\n2011-01-04 08:40:00\n2011-01-17 17:00:00\n2011-01-31 01:20:00\n2011-02-13 09:40:00\n2011-02-26 18:00:00\n2011-03-12 02:20:00\n</code>\n</pre>\n", "senID": 9}], [{"text": ["\"%\" gives much better performance than \"format\" from my test."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["\"format\" runs two times slower than \"%\""], "childNum": 0, "tag": "p", "senID": 1, "childList": []}], [{"text": ["Also, PEP 3101 proposes the replacement of the % operator with the new, advanced string formatting in python 3, where it would be the default."], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "PEP 3101", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://www.python.org/dev/peps/pep-3101/"}, {"text": "%", "childNum": 0, "tag": "code", "childList": []}]}], [{"text": ["You can always pass a tuple to \"%\", in the usual way"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n \"hi there %s\" % (name,)\n</code>\n</pre>\n", "senID": 1}]]