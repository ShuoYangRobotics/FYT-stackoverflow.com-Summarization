[[{"text": ["hasattr internally and rapidly performs the same task as the try/except block: it's a very specific, optimized, one-task tool and thus should be preferred, when applicable, to the very general-purpose alternative."], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "hasattr", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "try/except", "childNum": 0, "tag": "code", "childList": []}]}], [{"text": ["Any benches that illustrate difference in performance?"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "Any benches that illustrate difference in performance?", "childNum": 0, "tag": "em", "pos": 0, "childList": []}]}, {"text": ["(I haven't enough reputation)"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["timeit it's your friend"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n $ python -mtimeit -s 'class C(object): a = 4\nc = C()' 'hasattr(c, \"nonexistent\")'\n1000000 loops, best of 3: 1.87 usec per loop\n$ python -mtimeit -s 'class C(object): a = 4\nc = C()' 'hasattr(c, \"a\")'\n1000000 loops, best of 3: 0.446 usec per loop\n$ python -mtimeit -s 'class C(object): a = 4\nc = C()' 'try:\n c.a\nexcept:\n pass'\n1000000 loops, best of 3: 0.247 usec per loop\n$ python -mtimeit -s 'class C(object): a = 4\nc = C()' 'try:\n c.nonexistent\nexcept:\n pass'\n100000 loops, best of 3: 3.13 usec per loop\n$\n\n       |positive|negative\nhasattr|  0.446 |  1.87 \ntry    |  0.247 |  3.13\n</code>\n</pre>\n", "senID": 3}], [{"text": ["I would say it depends on whether your function may accept objects without the attribute by design, e.g.", "if you have two callers to the function, one providing an object with the attribute and the other providing an object without it. "], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "by design", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}]}, {"text": ["If the only case where you'll get an object without the attribute is due to some error, I would recommend using the exceptions mechanism even though it may be slower, because I believe it is a cleaner design. "], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["Bottom line: I think it's a design and readability issue rather than an efficiency issue. "], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["If it's just one attribute you're testing, I'd say use hasattr.", "However, if you're doing several accesses to attributes which may or may not exist then using a try block may save you some typing."], "childNum": 3, "tag": "p", "senID": 0, "childList": [{"text": "hasattr", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "several", "childNum": 0, "tag": "em", "pos": 1, "childList": []}, {"text": "try", "childNum": 0, "tag": "code", "childList": []}]}], [{"text": ["I'd suggest option 2.", "Option 1 has a race condition if some other thread is adding or removing the attribute."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["Also python has an Idiom, that EAFP ('easier to ask forgiveness than permission') is better than LBYL ('look before you leap')."], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "Idiom", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://jaynes.colorado.edu/PythonIdioms.html"}]}], [{"text": ["From a practical point of view, in most languages using a conditional will always be consderably faster than handling an exception."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["If you're wanting to handle the case of an attribute not existing somewhere outside of the current function, the exception is the better way to go.", "An indicator that you may want to be using an exception instead of a conditional is that the conditional merely sets a flag and aborts the current operation, and something elsewhere checks this flag and takes action based on that."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["That said, as Rax Olgud points out, communication with others is one important attribute of code, and what you want to say by saying \"this is an exceptional situation\" rather than \"this is is something I expect to happen\" may be more important."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["If not having the attribute is not an error condition, the exception handling variant has a problem: it would catch also AttributeErrors that might come internally when accessing obj.attribute (for instance because attribute is a property so that accessing it calls some code)."], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "not", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}, {"text": "internally", "childNum": 0, "tag": "em", "childList": []}]}], [{"text": ["The first."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["Shorter is better.", "Exceptions should be exceptional."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}]]