[[{"text": ["I believe you could use Twisted to implement FTPS by simply using its FTP implementation, but changing the FTPClient.connectFactory attribute to be a function that does something with connectSSL rather than connectTCP."], "childNum": 5, "tag": "p", "senID": 0, "childList": [{"text": "FTPClient.connectFactory", "tag": "a", "pos": 0, "childList": [{"text": "FTPClient.connectFactory", "tag": "code"}], "childNum": 1, "href": "http://twistedmatrix.com/trac/browser/trunk/twisted/protocols/ftp.py?rev=24609#L2186"}, {"text": "FTPClient.connectFactory", "childNum": 0, "tag": "code", "childList": []}, {"href": "http://twistedmatrix.com/documents/8.1.0/api/twisted.internet.interfaces.IReactorSSL.connectSSL.html", "text": "connectSSL", "childNum": 1, "tag": "a", "childList": [{"text": "connectSSL", "tag": "code"}]}, {"text": "connectSSL", "childNum": 0, "tag": "code", "childList": []}, {"text": "connectTCP", "childNum": 0, "tag": "code", "childList": []}]}, {"text": ["Are you sure you want FTPS though?", "SFTP is a different, better, and much more popular protocol these days: Twisted contains an SFTP implementation as well."], "childNum": 2, "tag": "p", "senID": 1, "childList": [{"text": "SFTP is a different, better, and much more popular protocol", "tag": "a", "pos": 1, "childList": [], "childNum": 0, "href": "http://geekswithblogs.net/bvamsi/archive/2006/03/23/73147.aspx"}, {"href": "http://twistedmatrix.com/trac/browser/trunk/twisted/conch/ssh/filetransfer.py?rev=24609", "text": "an SFTP implementation", "childNum": 0, "tag": "a", "childList": []}]}], [{"text": ["Twisted seems to have some implementation of FTPS (FTP over SSL) under the conch sub-project.", "I am no twisted expert, but Glyph, the twisted man himself, is listed in this site.", "Maybe by following his answer to another question, you can find more details (good luck)."], "childNum": 5, "tag": "p", "senID": 0, "childList": [{"text": "Twisted", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://twistedmatrix.com/trac/wiki/TwistedProject"}, {"text": "conch", "childNum": 0, "tag": "em", "pos": -1, "childList": []}, {"text": "Glyph", "tag": "a", "pos": 1, "childList": [], "childNum": 0, "href": "http://stackoverflow.com/users/13564/glyph"}, {"text": "twisted", "childNum": 0, "tag": "em", "pos": -1, "childList": []}, {"text": "answer", "tag": "a", "pos": 2, "childList": [], "childNum": 0, "href": "http://stackoverflow.com/questions/80617/asychronous-programming-in-python-twisted#81456"}]}], [{"text": ["M2Cypto has a FTPS module.", "From the documentation:"], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "M2Cypto", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://chandlerproject.org/bin/view/Projects/MeTooCrypto"}, {"text": "documentation", "tag": "a", "pos": 1, "childList": [], "childNum": 0, "href": "http://eikkitoivonen.net/m2crypto/api/M2Crypto.ftpslib-module.html"}]}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; from M2Crypto import ftpslib\n&gt;&gt;&gt; f = ftpslib.FTP_TLS()\n&gt;&gt;&gt; f.connect('', 9021)\n'220 spinnaker.dyndns.org M2Crypto (Medusa) FTP/TLS server v0.07 ready.'\n&gt;&gt;&gt; f.auth_tls()\n&gt;&gt;&gt; f.set_pasv(0)\n&gt;&gt;&gt; f.login('ftp', 'ngps@')\n'230 Ok.'\n&gt;&gt;&gt; f.retrlines('LIST')\n-rw-rw-r--   1 0        198          2326 Jul  3  1996 apache_pb.gif\ndrwxrwxr-x   7 0        198          1536 Oct 10  2000 manual\ndrwxrwxr-x   2 0        198           512 Oct 31  2000 modpy\ndrwxrwxr-x   2 0        198           512 Oct 31  2000 bobo\ndrwxr-xr-x   2 0        198         14336 May 28 15:54 postgresql\ndrwxr-xr-x   4 100      198           512 May 16 17:19 home\ndrwxr-xr-x   7 100      100          3584 Sep 23  2000 openacs\ndrwxr-xr-x  10 0        0             512 Aug  5  2000 python1.5\n-rw-r--r--   1 100      198           326 Jul 29 03:29 index.html\ndrwxr-xr-x  12 0        0             512 May 31 17:08 python2.1\n'226 Transfer complete'\n&gt;&gt;&gt; f.quit()\n'221 Goodbye.'\n&gt;&gt;&gt;\n</code>\n</pre>\n", "senID": 1}, {"text": ["Alternatively, if you wanted to minimise use of third-party modules, you should be able to subclass the standard library's ftplib.FTP class with the built-in (to Python) SSL support.", "M2Crypto (or Twisted, if you want to go that way) is the easier solution, though."], "childNum": 2, "tag": "p", "senID": 2, "childList": [{"text": "ftplib", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://docs.python.org/library/ftplib.html#module-ftplib"}, {"text": "Twisted", "tag": "a", "pos": 1, "childList": [], "childNum": 0, "href": "http://twistedmatrix.com/trac/"}]}], [{"text": ["The ftplib module in Python version 2.7.1 has all of the functionality you will need, including TLS support."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["http://docs.python.org/library/ftplib.html#module-ftplib"], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "http://docs.python.org/library/ftplib.html#module-ftplib", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://docs.python.org/library/ftplib.html#module-ftplib"}]}], [{"text": ["I haven't tried it myself (yes, I just used Google and followed some links), but http://www.lag.net/paramiko/ seems to be the recommended solution.", "From a cursory glance, it's an SSH implementation in pure Python, which allows tunneling for things like FTP."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "http://www.lag.net/paramiko/", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://www.lag.net/paramiko/"}]}, {"text": ["Update: a commenter pointed out that I mixed up sftp and ftps, sorry.", "I still suggest at least investigating Paramiko briefly to see if it matches the requirements."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}], [{"text": ["As for the server implementation you can take a look at pyftpdlib:\nhttp://code.google.com/p/pyftpdlib/\nIt includes a demo script implementing a working FTPS server:\nhttp://code.google.com/p/pyftpdlib/source/browse/trunk/demo/tls_ftpd.py"], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "http://code.google.com/p/pyftpdlib/", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://code.google.com/p/pyftpdlib/"}, {"href": "http://code.google.com/p/pyftpdlib/source/browse/trunk/demo/tls_ftpd.py", "text": "http://code.google.com/p/pyftpdlib/source/browse/trunk/demo/tls_ftpd.py", "childNum": 0, "tag": "a", "childList": []}]}, {"text": ["As for the client implementation I provided a patch which will be included in python 2.7 and 3.2.\nhttp://bugs.python.org/issue2054"], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "http://bugs.python.org/issue2054", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://bugs.python.org/issue2054"}]}], [{"text": ["I couldn't find a free sftp client for windows so I ended up wrapping Putty's PSFTP using python's subprocess module.", "I probably would have used the twisted implementation mentioned by Glyph if i'd known about it."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["Anyway if your interested it's available at:"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["http://code.google.com/p/psftplib/"], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "http://code.google.com/p/psftplib/", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://code.google.com/p/psftplib/"}]}]]