[[{"text": ["For starters, I recommend reading the entry Modifying Python's Search Path in the docs."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "Modifying Python's Search Path", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://docs.python.org/install/index.html#modifying-python-s-search-path"}]}, {"text": ["It might be frowned upon by some, but if you wish to modify the PYTHONPATH from within your program, according to the documentation's standard modules entry you can use the sys.path.append method:"], "childNum": 2, "tag": "p", "senID": 1, "childList": [{"text": "PYTHONPATH", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://docs.python.org/using/cmdline.html#envvar-PYTHONPATH"}, {"href": "http://docs.python.org/tutorial/modules.html#standard-modules", "text": "standard modules", "childNum": 0, "tag": "a", "childList": []}]}, {"code": "<pre>\n<code>\n import sys\nsys.path.append('..')\nimport module\n</code>\n</pre>\n", "senID": 2}], [{"text": ["Couldn't you use PEP 328 to solve this?"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "PEP 328", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://www.python.org/dev/peps/pep-0328/"}]}], [{"text": ["If you run program.py directly, with python program.py or with #!, then module.py's directory should be in the PYTHONPATH for import module to work.", "This can be achieved using a helper shell script that's kept in programDir, for instance, and looks something like:"], "childNum": 6, "tag": "p", "senID": 0, "childList": [{"text": "program.py", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "python program.py", "childNum": 0, "tag": "code", "pos": -1, "childList": []}, {"text": "#!", "childNum": 0, "tag": "code", "pos": -1, "childList": []}, {"text": "module.py", "childNum": 0, "tag": "code", "pos": -1, "childList": []}, {"text": "import module", "childNum": 0, "tag": "code", "pos": -1, "childList": []}, {"text": "programDir", "childNum": 0, "tag": "code", "pos": 1, "childList": []}]}, {"code": "<pre>\n<code>\n #!/bin/bash\n\nscript_dir=`dirname $0`\n# Add the script's parent directory to the PYTHONPATH\nexport PYTHONPATH=$PYTHONPATH:$script_dir/..\n\npython $script_dir/program.py\n</code>\n</pre>\n", "senID": 1}, {"text": ["Another, probably better, way would be to have program.py export a \"main()\" function, and create a helper python script at src/program that looks like:"], "childNum": 3, "tag": "p", "senID": 2, "childList": [{"text": "program.py", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "main()", "childNum": 0, "tag": "code", "childList": []}, {"text": "src/program", "childNum": 0, "tag": "code", "childList": []}]}, {"code": "<pre>\n<code>\n #!/usr/bin/env python\nfrom programDir.program import main\nmain()\n</code>\n</pre>\n", "senID": 3}, {"text": ["In this case, you can use relative imports in src/programDir/program.py, so this should work:"], "childNum": 2, "tag": "p", "senID": 4, "childList": [{"text": "can", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}, {"text": "src/programDir/program.py", "childNum": 0, "tag": "code", "childList": []}]}, {"code": "<pre>\n<code>\n from .. import module\n</code>\n</pre>\n", "senID": 5}], [{"text": ["The first one worked because Python's sys.path's first entry is '' which means it will look for module names in the current working directory from which you've executed the Python interpreter."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "sys.path", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"text": ["The issue you seem to have is that the directory located at src is not set on your PYTHONPATH.", "So, you can do is set the PYTHONPATH environment variable explicitly."], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "src", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"text": ["Here's an example using bash:"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n export PYTHONPATH=PATH_TO_SRC:${PYTHONPATH}\n</code>\n</pre>\n", "senID": 3}, {"text": ["then run your program as normal"], "childNum": 0, "tag": "p", "senID": 4, "childList": []}, {"text": ["Another approach is that you can explicitly set sys.path by appending to it upon execution of your program."], "childNum": 1, "tag": "p", "senID": 5, "childList": [{"text": "sys.path", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"text": ["So, in your program.py, you would have:"], "childNum": 1, "tag": "p", "senID": 6, "childList": [{"text": "program.py", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n if __name__ == '__main__':\n    import os\n    import sys\n    sys.path.append(os.path.dirname(os.path.dirname(__file__)))\n    your_main_function()\n</code>\n</pre>\n", "senID": 7}, {"text": ["Lastly, for serious python development, you should consider virtualenv and virtualenvwrapper as it will take care of most of these things for you."], "childNum": 2, "tag": "p", "senID": 8, "childList": [{"text": "virtualenv", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://pypi.python.org/pypi/virtualenv"}, {"href": "http://pypi.python.org/pypi/virtualenvwrapper", "text": "virtualenvwrapper", "childNum": 0, "tag": "a", "childList": []}]}], [{"text": ["You need to add __init__.py to /programDir to interpret the directory as a package.", "Once a package, you can import the package's contents."], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "__init__.py", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "/programDir", "childNum": 0, "tag": "code", "pos": -1, "childList": []}]}, {"text": ["So, in your case, if /src is on the PYTHONPATH, from module.py you can import program.py with from programDir import program."], "childNum": 5, "tag": "p", "senID": 1, "childList": [{"text": "/src", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "PYTHONPATH", "childNum": 0, "tag": "code", "childList": []}, {"text": "module.py", "childNum": 0, "tag": "code", "childList": []}, {"text": "program.py", "childNum": 0, "tag": "code", "childList": []}, {"text": "from programDir import program", "childNum": 0, "tag": "code", "childList": []}]}], [{"text": ["If you use program as part of a package, in another python module, such as"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n import src.programDir.program as p\n\np.some_method()\n</code>\n</pre>\n", "senID": 1}, {"text": ["you can use relative import in program.py, assuming you are creating a package with src (__init__.py in both src and programDir)"], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "__init__.py", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n from .. import module\n</code>\n</pre>\n", "senID": 3}, {"text": ["If not, for example you are calling program.py from the command line, you must add the directory containing src to your search path either by modifying sys.path or the PYTHONPATH env var, before importing."], "childNum": 1, "tag": "p", "senID": 4, "childList": [{"text": "sys.path", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}]]