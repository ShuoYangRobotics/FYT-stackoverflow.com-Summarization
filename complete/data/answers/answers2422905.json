[[{"text": ["When two style variations are so close stylistically, I use timeit as the tie-breaker: faster must mean closer to Python's mainstream, i.e., better.", "Hey, it's better than endless debate, y?-)  So:"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "timeit", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n $ python -mtimeit -s'var=0; getvar=lambda:0' 'var = var or getvar()'\n1000000 loops, best of 3: 0.359 usec per loop\n$ python -mtimeit -s'var=0; getvar=lambda:0' 'if not var: var = getvar()'\n1000000 loops, best of 3: 0.361 usec per loop\n$ python -mtimeit -s'var=1; getvar=lambda:1' 'var = var or getvar()'\n10000000 loops, best of 3: 0.123 usec per loop\n$ python -mtimeit -s'var=1; getvar=lambda:1' 'if not var: var = getvar()'\n10000000 loops, best of 3: 0.0899 usec per loop\n</code>\n</pre>\n", "senID": 1}, {"text": ["the if has it -- equivalent when var is false, faster when it's true."], "childNum": 3, "tag": "p", "senID": 2, "childList": [{"text": "if", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "var", "childNum": 0, "tag": "code", "childList": []}, {"text": "true", "childNum": 0, "tag": "code", "childList": []}]}], [{"text": ["The better is the one you like better.", "I would use first version with if but this is very personal."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "if", "childNum": 0, "tag": "code", "pos": 1, "childList": []}]}], [{"text": ["Actually, if you are trying to determine if var has been previously set using a call to get_var, then I would contend that both forms are wrong.", "Python treats a number of perfectly ordinary values as evaluating to a boolean 'false': 0, None, [], (,), set(), and {}.", "So let's say var is going to be an integer, and get_var() happens to return 0.", "Now, regardless of which form you use, get_var() will get called again and again, even though we already know that var is 0!"], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "both forms are wrong", "childNum": 1, "tag": "strong", "pos": 0, "childList": [{"text": "both forms are wrong", "tag": "em"}]}, {"text": "both forms are wrong", "childNum": 0, "tag": "em", "pos": -1, "childList": []}]}, {"text": ["There are several methods for detecting whether a variable has been defined or not:"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"tag": "ul", "num": 3, "lis": [{"text": ["look in the dict returned by globals() or locals()"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["wrap the statement var = var in a try/except block, trapping on NameError"], "childNum": 1, "tag": "p", "senID": 3, "childList": [{"text": "var = var", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"text": ["use a sentinel value like None, and initialize var to this value; then you can test for if var is None: var = get_var() (using 'is', not '==').", "If you are unlucky, and None is a potential value to be returned from get_var(), then you'll need to define your own special not-yet-defined value, using something like NOT_DEFINED = object(), initialize var with it, and then you can test for if var is NOT_DEFINED."], "childNum": 3, "tag": "p", "senID": 4, "childList": [{"text": "if var is None: var = get_var()", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "NOT_DEFINED = object()", "childNum": 0, "tag": "code", "pos": 1, "childList": []}, {"text": "if var is NOT_DEFINED", "childNum": 0, "tag": "code", "childList": []}]}]}], [{"text": ["the first version is more intuitive to me.", "But then again, its all about your own taste."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["To me, the first idiom, the one using the explicit if, is preferable because more explicit."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["However I've seen the or construct being referenced as the preferred / more pythonic one."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["So, on the one hand, Explicit is better than implicit (Zen citation),  on the other hand, the short expression can be viewed as pythonic (although shorter isn't equivalent to pythonic in all cases!"], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "Explicit is better than implicit", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"text": ["A closely related SO question is most idiomatic way to convert None to empty string, and both the if and the or idioms were listed there. "], "childNum": 1, "tag": "p", "senID": 3, "childList": [{"text": "most idiomatic way to convert None to empty string", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://stackoverflow.com/questions/1034573/python-most-idiomatic-way-to-convert-none-to-empty-string"}]}], [{"text": ["Second one is more pythonic, and I normally use that."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["Neither is wrong."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["The former is clearer to understand for someone reading the code."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["Ask yourself if, when you are thinking about the problem you are trying to solve, the concepts that come to mind are closer to \"if this, then that\" or \"a logical OR of two almost, but not quite, Boolean variables."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["Both will eventually compile to the same code, given that or is a short-circuit operator (it doesn't evaluate the right hand argument if left hand is true)."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["I'd prefer the first one as it expresses your intent more clearly.", "The second one is probably more compact."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}], [{"text": ["The interpreter will likely execute them both the way.", "There are tradeoffs regarding code readability.", "Which statement is easier to recognize what it does?", "Certainly, the first is much clearer.", "For me, reading this post, I had to think more about the second one.", "I would use the first due to increased readability, even if the second statement is slightly 'sexier'."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["Hope this helps.", "-tjw"], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "", "childNum": 0, "tag": "br", "pos": 0, "childList": []}]}]]