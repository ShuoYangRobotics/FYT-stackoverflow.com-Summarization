[[{"text": ["PEP 8 authoritatively states:"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "PEP 8", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://www.python.org/dev/peps/pep-0008/"}]}, {"text": ["PEP 8 should be the basis of any \"in-house\" style guide, since it summarizes what the core Python team has found to be the most effective style, overall (and with individual dissent of course, as on any other language, but consensus and the BDFL agree on PEP 8)."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}], [{"text": ["There was a detailed discussion of this topic on the Python mailing list in 2001:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["http://mail.python.org/pipermail/python-list/2001-July/097838.html"], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "http://mail.python.org/pipermail/python-list/2001-July/097838.html", "childNum": 0, "tag": "strike", "pos": 0, "childList": []}]}, {"text": ["The URL appears to have changed"], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "The URL appears to have changed", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}]}, {"text": ["http://mail.python.org/pipermail/python-list/2001-July/097194.html"], "childNum": 1, "tag": "p", "senID": 3, "childList": [{"text": "http://mail.python.org/pipermail/python-list/2001-July/097194.html", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://mail.python.org/pipermail/python-list/2001-July/097194.html"}]}], [{"text": ["It is considered \"Good Form\" to group all imports together at the start of the file."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["From here: http://docs.python.org/tutorial/modules.html"], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "http://docs.python.org/tutorial/modules.html", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://docs.python.org/tutorial/modules.html"}]}], [{"text": ["Everyone else has already mentioned the PEPs, but also take care to not have import statements in the middle of critical code.", "At least under Python 2.6, there are several more bytecode instructions required when a function has an import statement."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "not", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; def f():\n    from time import time\n    print time()\n\n&gt;&gt;&gt; dis.dis(f)\n  2           0 LOAD_CONST               1 (-1)\n              3 LOAD_CONST               2 (('time',))\n              6 IMPORT_NAME              0 (time)\n              9 IMPORT_FROM              0 (time)\n             12 STORE_FAST               0 (time)\n             15 POP_TOP             \n\n  3          16 LOAD_FAST                0 (time)\n             19 CALL_FUNCTION            0\n             22 PRINT_ITEM          \n             23 PRINT_NEWLINE       \n             24 LOAD_CONST               0 (None)\n             27 RETURN_VALUE\n\n&gt;&gt;&gt; def g():\n    print time()\n\n&gt;&gt;&gt; dis.dis(g)\n  2           0 LOAD_GLOBAL              0 (time)\n              3 CALL_FUNCTION            0\n              6 PRINT_ITEM          \n              7 PRINT_NEWLINE       \n              8 LOAD_CONST               0 (None)\n             11 RETURN_VALUE\n</code>\n</pre>\n", "senID": 1}], [{"text": ["if the imported module is infrequently used\nand the import is expensive the in-the-middle-import is ok."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["otherwise is it wise, to follow Alex Martellis suggestion"], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "otherwise is it wise, to follow Alex Martellis suggestion", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}]}], [{"text": ["95% of the time, you should put all your imports at the top of the file.", "One case where you might want to do a function-local import is if you have to do it in order to avoid circular imports.", "Say foo.py imports bar.py, and a function in bar.py needs to import something from foo.py.", "If you put all your imports at the top, you could have unexpected problems importing files that rely on information that hasn't been compiled yet.", "In this case, having a function local import can allow your code to hold off on importing the other module until its code has been fully compiled, and you call the relevant function."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["However, it looks like your use-case is more about making it clear where foo() is coming from.", "In this case, I would far prefer one of two things: "], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["First, rather than"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n from prerequisite import foo\n</code>\n</pre>\n", "senID": 3}, {"text": ["import prerequisite directly, and later on refer to it as prerequisite.foo.", "The added verbosity pays itself back in spades through increased code transparency."], "childNum": 0, "tag": "p", "senID": 4, "childList": []}, {"text": ["Alternatively, (or in conjunction with the above) if it's really such a long distance between your import and the place it's being used, it may be that your module is too big.", "The need for an import that nothing else uses might be an indication of a place where your code could stand to be refactored into a more manageably-sized chunk."], "childNum": 0, "tag": "p", "senID": 5, "childList": []}], [{"text": ["It's generally considered bad practice, but sometimes it's unavoidable (say when you have to avoid a circular import)."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["An example of a time when it is necessary: I use Waf to build all our code.", "The system is split into tools, and each tool is implemented in it's own module.", "Each tool module can implent a detect() method to detect if the pre-requisites are present.", "An example of one of these may do the following:"], "childNum": 2, "tag": "p", "senID": 1, "childList": [{"text": "Waf", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://code.google.com/p/waf/"}, {"text": "detect()", "childNum": 0, "tag": "code", "pos": 2, "childList": []}]}, {"code": "<pre>\n<code>\n def detect(self):\n    import foobar\n</code>\n</pre>\n", "senID": 2}, {"text": ["If this works correctly, the tool is usable.", "Then later in the same module the foobar module may be needed, so you would have to import it again, at function level scope.", "Clearly if it was imported at module level things would blow up completely."], "childNum": 1, "tag": "p", "senID": 3, "childList": [{"text": "foobar", "childNum": 0, "tag": "code", "pos": 1, "childList": []}]}], [{"text": ["PEP8:"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "PEP8", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://www.python.org/dev/peps/pep-0008/"}]}, {"text": ["It is not bad practice to have scopped imports.", "So that the import applies only to the function you used it in."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["I think the code would be more readable though if the imports where grouped together at the top of the block or if you want it globally at the top of the file. "], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["Well, I think it is a good practice to group all imports together at start of file since everyone knows where to look if want to know which libs are loaded"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}]]