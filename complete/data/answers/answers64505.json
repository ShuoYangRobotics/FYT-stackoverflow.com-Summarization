[[{"text": ["The script I use is quite similar; I post it here as an example of how to use the email.", "* modules to generate MIME messages; so this script can be easily modified to attach pictures, etc."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["I rely on my ISP to add the date time header."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["My ISP requires me to use a secure smtp connection to send mail, I rely on the ssmtplib module (downloadable at http://www1.cs.columbia.edu/~db2501/ssmtplib.py)"], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "http://www1.cs.columbia.edu/~db2501/ssmtplib.py", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://www1.cs.columbia.edu/~db2501/ssmtplib.py"}]}, {"text": ["As in your script, the username and password, (given dummy values below), used to authenticate on the SMTP server, are in plain text in the source.", "This is a security weakness; but the best alternative depends on how careful you need (want?", ") to be about protecting these."], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"text": ["======================================="], "childNum": 0, "tag": "p", "senID": 4, "childList": []}, {"code": "<pre>\n<code>\n #! /usr/local/bin/python\n\n\nSMTPserver = 'smtp.att.yahoo.com'\nsender =     'me@my_email_domain.net'\ndestination = ['recipient@her_email_domain.com']\n\nUSERNAME = \"USER_NAME_FOR_INTERNET_SERVICE_PROVIDER\"\nPASSWORD = \"PASSWORD_INTERNET_SERVICE_PROVIDER\"\n\n# typical values for text_subtype are plain, html, xml\ntext_subtype = 'plain'\n\n\ncontent=\"\"\"\\\nTest message\n\"\"\"\n\nsubject=\"Sent from Python\"\n\nimport sys\nimport os\nimport re\n\nfrom smtplib import SMTP_SSL as SMTP       # this invokes the secure SMTP protocol (port 465, uses SSL)\n# from smtplib import SMTP                  # use this for standard SMTP protocol   (port 25, no encryption)\nfrom email.MIMEText import MIMEText\n\ntry:\n    msg = MIMEText(content, text_subtype)\n    msg['Subject']=       subject\n    msg['From']   = sender # some SMTP servers will do this automatically, not all\n\n    conn = SMTP(SMTPserver)\n    conn.set_debuglevel(False)\n    conn.login(USERNAME, PASSWORD)\n    try:\n        conn.sendmail(sender, destination, msg.as_string())\n    finally:\n        conn.close()\n\nexcept Exception, exc:\n    sys.exit( \"mail failed; %s\" % str(exc) ) # give a error message\n</code>\n</pre>\n", "senID": 5}], [{"text": ["Also if you want to do smtp auth with TLS as opposed to SSL then you just have to change the port (use 587) and do smtp.starttls().", "This worked for me:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n ...\nsmtp.connect('YOUR.MAIL.SERVER', 587)\nsmtp.ehlo()\nsmtp.starttls()\nsmtp.ehlo()\nsmtp.login('USERNAME@DOMAIN', 'PASSWORD')\n...\n</code>\n</pre>\n", "senID": 1}], [{"text": ["I would create a message using the email.", "* modules since this will make sure you don't get any encoding gotchas... Or if you do, you know where they are originating."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["The main gotcha I see is that you're not handling any errors: .login() and .sendmail() both have documented exceptions that they can throw, and it seems like .connect() must have some way to indicate that it was unable to connect - probably an exception thrown by the underlying socket code."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["Make sure you don't have any firewalls blocking SMTP.", "The first time I tried to send an email, it was blocked both by Windows Firewall and McAfee - took forever to find them both."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["You should make sure you format the date in the correct format - RFC2822."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "RFC2822", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://www.faqs.org/rfcs/rfc2822.html"}]}]]