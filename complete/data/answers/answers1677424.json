[[{"text": ["You should solve your problem now and for forever by defining a new output function.", "Were print a function, this would have been much easier."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["I suggest writing a new output function, mimicing as much of the modern print function signature as possible (because reusing a good interface is good), for example:"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n def output(*items, end=\"\\n\", file=sys.stdout):\n    pass\n</code>\n</pre>\n", "senID": 2}, {"text": ["Once you have replaced all prints in question, you no longer have this problem -- you can always change the behavior of your function instead!", "This is a big reason why print was made a function in Python 3 -- because in Python 2.x, \"all\" projects invariably go through the stage where all the print statements are no longer flexible, and there is no easy way out."], "childNum": 1, "tag": "p", "senID": 3, "childList": [{"text": "print", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}], [{"text": ["(Not sure how/if this fits with the wrapper you intend to use, but in case...)"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["In Python 2.6 (and many preceding versions), you can suppress the newline by adding a comma at the end of the print statement, as in:"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n data = 'some msg\\r\\n'\nprint data,  # note the comma\n</code>\n</pre>\n", "senID": 2}, {"text": ["The downside of using this approach however is that the print syntax and behavior is changed in Python3."], "childNum": 0, "tag": "p", "senID": 3, "childList": []}], [{"text": ["In python2.x, I think you can do:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n print &gt;&gt;f \"some msg\\r\\n\",\n</code>\n</pre>\n", "senID": 1}, {"text": ["to supress the trailing new line."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["In python3.x, it's a lot simpler:"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"code": "<pre>\n<code>\n print(\"some msg\", end = \"\\r\\n\", file = f)\n</code>\n</pre>\n", "senID": 4}], [{"text": ["I think I would define a new function writeline in an inherited file/stream class and update the code to use writeline instead of print.", "The file object itself can hold the line ending style as a member.", "That should give you some flexibility in behavior and also make the code a little clearer i.e.", "f.writeline(text) as opposed to f.write(text+line_end)."], "childNum": 5, "tag": "p", "senID": 0, "childList": [{"text": "writeline", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "writeline", "childNum": 0, "tag": "code", "pos": 3, "childList": []}, {"text": "print", "childNum": 0, "tag": "code", "childList": []}, {"text": "f.writeline(text)", "childNum": 0, "tag": "code", "childList": []}, {"text": "f.write(text+line_end)", "childNum": 0, "tag": "code", "childList": []}]}], [{"text": ["I also prefer your third solution, but no need to use f.write, any user written function/callable would do.", "Thus the next changes would become easy.", "If you use an object you may even hide target file inside it thus removing some syntaxic noise like file or kind of newline."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["Too bad print is a statement in python 2.x, with python 3.x print could simply be overloaded by something user defined."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}], [{"text": ["Python has modules both to handle email and http headers in an easy compliant way.", "I suggest you use them instead of solving already solved problems again."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}]]