[[{"text": ["I have a fresh MacBook Air, and I managed to get MySQLdb working by doing the following:\n(Snow Leopard 10.6.6, preinstalled Python)"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n uname -a\nDarwin Braindamage.local 10.6.0 Darwin Kernel Version 10.6.0: Wed Nov 10 18:13:17 PST 2010; root:xnu-1504.9.26~3/RELEASE_I386 i386\n</code>\n</pre>\n", "senID": 1}, {"text": ["Download the MySQL 32-bit dmg file from mysql pages, Install it."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["Add the following lines to your ~/.profile (or ~/.bash_profile):"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"code": "<pre>\n<code>\n PATH=\"/usr/local/mysql/bin:${PATH}\"\nexport PATH\nexport DYLD_LIBRARY_PATH=/usr/local/mysql/lib/\nexport VERSIONER_PYTHON_PREFER_64_BIT=no\nexport VERSIONER_PYTHON_PREFER_32_BIT=yes\n</code>\n</pre>\n", "senID": 4}, {"text": ["After saving, type the following in the terminal:\n    source ~/.profile"], "childNum": 0, "tag": "p", "senID": 5, "childList": []}, {"text": ["Download the MySQL-python-1.2.3.tar.gz unzip, untar, cd to that directory"], "childNum": 0, "tag": "p", "senID": 6, "childList": []}, {"code": "<pre>\n<code>\n python2.5 setup.py build\nsudo python2.5 setup.py install\n</code>\n</pre>\n", "senID": 7}, {"text": ["exit that directory (or you'll get a warning)"], "childNum": 0, "tag": "p", "senID": 8, "childList": []}, {"code": "<pre>\n<code>\n python2.5\nimport MySQLdb\n</code>\n</pre>\n", "senID": 9}, {"text": ["or"], "childNum": 0, "tag": "p", "senID": 10, "childList": []}, {"code": "<pre>\n<code>\n python\nimport MySQLdb\n</code>\n</pre>\n", "senID": 11}, {"text": ["works the way it should!"], "childNum": 0, "tag": "p", "senID": 12, "childList": []}], [{"text": ["It's caused by that your Python is 32bits, but somehow, the installed MySQL library is 64bits.", "To solve the problem, here you can install it manually with following commands:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n wget http://downloads.sourceforge.net/project/mysql-python/mysql-python/1.2.3/MySQL-python-1.2.3.tar.gz\ntar xvf MySQL-python-1.2.3.tar.gz\ncd MySQL-python-1.2.3\nARCHFLAGS=\"-arch i386\" python setup.py install\n</code>\n</pre>\n", "senID": 1}, {"text": ["With ARCHFLAGS=\"-arch i386\", it should be compiled as i386 architecture."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["I just struggled with the same, despite the many answers, so I'll risk adding another:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"tag": "ul", "num": 2, "lis": [{"text": "Run ", "tag": "none", "senID": 1}, {"text": "Do ", "tag": "none", "senID": 2}]}, {"text": ["If python says \"64 bit\", then you want mysql for \"x86_64\" (search for that at http://dev.mysql.com/downloads/mysql/).", "If python says \"32 bit\", then you probably want the \"x86\" mysql.", "If you have a match, but it still doesn't work, then read the other answers (about VERSIONER_PYTHON_PREFER_32_BIT etc."], "childNum": 1, "tag": "p", "senID": 3, "childList": [{"text": "http://dev.mysql.com/downloads/mysql/", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://dev.mysql.com/downloads/mysql/"}]}, {"text": ["For me, the mismatch caused the \"mach-o, but wrong architecture\" error.", "The next error was \"Library not loaded: libmysqlclient.18.dylib... Reason: image not found\"."], "childNum": 2, "tag": "p", "senID": 4, "childList": [{"text": "\"mach-o, but wrong architecture\"", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "\"Library not loaded: libmysqlclient.18.dylib... Reason: image not found\"", "childNum": 0, "tag": "code", "pos": 1, "childList": []}]}, {"text": ["To solve this one, I recommend adding a symlink (rather than set DYLD_LIBRARY_PATH, as explained in other answers):"], "childNum": 0, "tag": "p", "senID": 5, "childList": []}, {"code": "<pre>\n<code>\n sudo ln -s /usr/local/mysql/lib/libmysqlclient.18.dylib /usr/local/lib/\n</code>\n</pre>\n", "senID": 6}], [{"text": ["When the interpreter says is:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["SO, it seems that you ended with the wrong version of MySQLdb.", "Delete \n/Users/phoebebr/.python-eggs/MySQL_python-1.2.3c1-py2.6-macosx-10.6-universal.egg-tmp and /Users/phoebebr/Downloads/MySQL-python-1.2.3c1.", "Test again to see if the version\nin /library works.", "If not, donwload the binary for MacOS.", "In last instance, download\nthe source of MySQL-python and compile it."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}], [{"text": ["This is a shot in the dark - not familiar with MACOSX - but I saw a similar problem under Linux and could only resolve it by:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["Next I tried to import MySQLdb and made sure I got a simple error that the package did not exisit - at least I knew MySQLdb was 100% removed"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["Then I a clean install via the package manager if that option exists as it will be 100% compatible with your platform and libs.", "Compiling etc.", "is great but you have to do lots of leg work to make sure that you have the right MySQL client libs etc.", "to link to (based upon my painful experience)"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["Good luck."], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"text": ["Worst case ... you could use the alternative PyMySQL pure python option (http://pypi.python.org/pypi/PyMySQL/0.2) but I have to confess most people recommend MySQLdb"], "childNum": 0, "tag": "p", "senID": 4, "childList": []}], [{"text": ["I got another possible solution to add..."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["I solved the problem by adding the following line to .profile (.bash_profile is ok if it's a development machine):"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n export VERSIONER_PYTHON_PREFER_64_BIT=yes\nexport VERSIONER_PYTHON_PREFER_32_BIT=no\n</code>\n</pre>\n", "senID": 2}, {"text": ["(2nd line might not be necessary, though.", "But after hours of fiddling, trying, recompiling, I just couldn't be bothered trying this out anymore)."], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"text": ["Cheers\nMarkus"], "childNum": 0, "tag": "p", "senID": 4, "childList": []}], [{"text": ["This problem was solved for me by selecting the correct python version.", "If you installed with macports:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n sudo port select python python26\n</code>\n</pre>\n", "senID": 1}], [{"text": ["It appears that this issue is related to the version of mysql that you have on the box.", "When compiling the python mysql component it uses mysql_config which usually lives in /usr/local/mysql/bin to determine what flags to pass to CC when compiling the mysql component.", "If you have a 32 bit version of mysql running then you will get a 32 version of this component even if you have the 64 bit version of python.", "As an example I had the following version of mysql..."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["/usr/local/mysql-5.5.16-osx10.6-x86 and I should have been running...\n/usr/local/mysql-5.5.16-osx10.6-x86_64 "], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["Changing over to the 64bit version of mysql on my machine and then running...\nsudo pip install mysql-python  "], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["fixed the problem for me.", "You can run the following command to verify how it is going to build the mysql component..."], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"text": ["/usr/local/mysql/bin/mysql_config --cflags"], "childNum": 0, "tag": "p", "senID": 4, "childList": []}, {"text": ["You should see something like this..."], "childNum": 0, "tag": "p", "senID": 5, "childList": []}, {"text": ["-I/usr/local/mysql/include  -Os -g -fno-common -fno-strict-aliasing -arch x86_64"], "childNum": 0, "tag": "p", "senID": 6, "childList": []}]]