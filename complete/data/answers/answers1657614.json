[[{"text": ["If you'd like to interact with a subprocess in general, you can use pexpect as mentioned elsewhere.", "But for your particular case, assuming your rsync is running over ssh (the default), then you may want to consider setting up a passwordless ssh connection between the two hosts, which will eliminate the need to enter the password.", "This is a key-based solution and will be much more secure than storing your password in your source code."], "childNum": 3, "tag": "p", "senID": 0, "childList": [{"text": "pexpect", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://www.noah.org/wiki/Pexpect"}, {"text": "passwordless ssh", "tag": "a", "pos": 1, "childList": [], "childNum": 0, "href": "http://www.debian-administration.org/articles/152"}, {"text": "key-based solution", "tag": "a", "pos": 2, "childList": [], "childNum": 0, "href": "http://en.wikipedia.org/wiki/Public%5Fkey%5Finfrastructure"}]}, {"text": ["Here's a blogger who discusses your exact problem and decides to go with passwordless ssh."], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "Here's a blogger", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://blogs.sun.com/jkini/entry/how%5Fto%5Fscp%5Fscp%5Fand"}]}], [{"text": ["I use rsync to back up all of my clients' web sites.", "A script is triggered by cron and it uses Makefiles for each client because of their different needs."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["Rather than do something that enters the password, use ssh-keygen to create a public/private key pair and put your public key on the remote machine.", "This gives you secure, no-password connections.", "This also means you don't have to expose the rsync port to the world.", "After you get past the learning curve on this (and it's not very steep) ssh is most definitely your friend."], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "definitely", "childNum": 0, "tag": "em", "pos": 3, "childList": []}]}], [{"text": ["If you need to programatically control a sub-process, you should look into using expect. "], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "expect", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://sourceforge.net/projects/pexpect/"}]}], [{"text": ["There's a great Python module written by Colin Stewart called RSyncBackup that's little known and little documented, but very useful."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["By default, it doesn't contain any methods for including a password in your rsync commands, so I modified the module and talked about it in this blog post: http://technofart.blogspot.com/2012/02/rsync-controlled-by-python.html"], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "http://technofart.blogspot.com/2012/02/rsync-controlled-by-python.html", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://technofart.blogspot.com/2012/02/rsync-controlled-by-python.html"}]}, {"text": ["A link to my modified module can be found in the Download section of my post."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["A key-based solution is also a great idea.", "Also, many rsync implementation will look for the RSYNC_PASSWORD environment variable, which you can set.", "Just be careful if your environment variables are visible to other users."], "childNum": 0, "tag": "p", "senID": 3, "childList": []}], [{"text": ["I don't think it supports rsync out of the box, but paramiko might have some components you could recycle?"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "paramiko", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://www.lag.net/paramiko/"}]}], [{"text": ["If you just need to enter the password, you can try populating the RSYNC_PASSWORD environmental variable or using the --password-file option."], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "RSYNC_PASSWORD", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "--password-file", "childNum": 0, "tag": "code", "childList": []}]}]]