[[{"text": ["It's quite pleasant, and already implemented."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["Read this: http://docs.python.org/library/logging.html"], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "http://docs.python.org/library/logging.html", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://docs.python.org/library/logging.html"}]}, {"tag": "hr", "senID": 2}, {"text": ["Edit"], "childNum": 1, "tag": "p", "senID": 3, "childList": [{"text": "Edit", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}]}, {"text": ["\"easy to parse, read,\" are generally contradictory features.", "English -- easy to read, hard to parse.", "XML -- easy to parse, hard to read.", "There is no format that achieves easy-to-read and easy-to-parse.", "Some log formats are \"not horrible to read and not impossible to parse\"."], "childNum": 0, "tag": "p", "senID": 4, "childList": []}, {"text": ["Some folks create multiple handlers so that one log has several formats: a summary for people to read and an XML version for automated parsing."], "childNum": 0, "tag": "p", "senID": 5, "childList": []}], [{"text": ["Here are some suggestions for content:"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "Here are some suggestions for content:", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}]}, {"tag": "ul", "num": 4, "lis": [{"text": "timestamp", "tag": "none", "senID": 1}, {"text": "message", "tag": "none", "senID": 2}, {"text": "log message type (such as error, warning, trace, debug)", "tag": "none", "senID": 3}, {"text": "thread id ( so you can make sense of the log file from a multi threaded application)", "tag": "none", "senID": 4}]}, {"text": ["Best practices for implementation:"], "childNum": 1, "tag": "p", "senID": 5, "childList": [{"text": "Best practices for implementation:", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}]}, {"tag": "ul", "num": 3, "lis": [{"text": "Put a mutex around the write method so that you can be sure that each write is thread safe and will make sense.", "tag": "none", "senID": 6}, {"text": "Send 1 message at at a time to the log file, and specify the type of log message each time.  Then you can set what type of logging you want to take on program startup.", "tag": "none", "senID": 7}, {"text": "Use no buffering on the file, or flush often in case there is a program crash.", "tag": "none", "senID": 8}]}, {"text": ["Edit: I just noticed the question was tagged with Python, so please see S. Lott's answer before mine.", "It may be enough for your needs."], "childNum": 1, "tag": "p", "senID": 9, "childList": [{"text": "Edit:", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}]}], [{"text": ["Since you tagged your question python, I refer you to this question as well.", "As for the content, Brian proposal is good.", "Remember however to add the program name if you are using a shared log."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "this question", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://stackoverflow.com/questions/741063/reporting-information-during-code-execution-best-design"}]}, {"text": ["The important thing about a logfile is \"greppability\".", "Try to provide all your info in a single line, with proper string identifiers that are unique (also in radix) for a particular condition.", "As for the timestamp, use the ISO-8601 standard which sorts nicely."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}], [{"text": ["A good idea is to look at log analysis software.", "Unless you plan to write your own, you will probably want to exploit an existing log analysis package such as Analog.", "If that is the case, you will probably want to generate a log output that is similar enough to the formats that it accepts.", "It will allow you to create nice charts and graphs with minimal effort!"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["In my opinion, best approach is to use existing logging libraries such as log4j (or it's variations for other languages).", "It gives you control on how your messages are formatted and you can change it without ever touching your code.", "It follows best practices, robust and used by millions of users.", "Of course, you can write you own logging framework, but that would be very odd thing to do, unless you need something very specific.", "In any case, walk though their documentation and see how log statements are presented there."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "log4j (or it's variations for other languages)", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://logging.apache.org/"}]}, {"text": ["Check out log4py - Python ported version of log4j, I think there are several implementations for Python out there.."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}], [{"text": ["timeStamp i.e.", "DateTime YYYY/MM/DD:HH:mm:ss:ms\nUser\nThread ID\nFunction Name\nMessage/Error Message/Success Message/Function Trace"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["Have this in XML format and you can then easily write a parser for it."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n &lt;log&gt;\n  &lt;logEntry DebugLevel=\"0|1|2|3|4|5....\"&gt;\n    &lt;TimeStamp format=\"YYYY/MM/DD:HH:mm:ss:ms\" value=\"2009/04/22:14:12:33:120\" /&gt;\n    &lt;ThreadId value=\"\" /&gt;\n    &lt;FunctionName value=\"\" /&gt;\n    &lt;Message type=\"Error|Success|Failure|Status|Trace\"&gt;\n      Your message goes here\n    &lt;/Message&gt; \n  &lt;/logEntry&gt;\n&lt;/log&gt;\n</code>\n</pre>\n", "senID": 2}], [{"text": ["Python's logging library are thread-safe for single process threads."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}]]