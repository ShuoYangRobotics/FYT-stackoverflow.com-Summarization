[[{"text": ["You can convert the file easily enough just using the unicode function, but you'll run into problems with Unicode characters without a straight ASCII equivalent."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "unicode", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"text": ["This blog recommends the unicodedata module, which seems to take care of roughly converting characters without direct corresponding ASCII values, e.g."], "childNum": 3, "tag": "p", "senID": 1, "childList": [{"text": "This blog", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://www.peterbe.com/plog/unicode-to-ascii"}, {"text": "unicodedata", "childNum": 1, "tag": "code", "childList": [{"text": "unicodedata", "tag": "a"}]}, {"href": "http://www.python.org/doc/2.5.2/lib/module-unicodedata.html", "text": "unicodedata", "childNum": 0, "tag": "a", "childList": []}]}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; title = \"Kl\u00fcft skr\u00e4ms inf\u00f6r p\u00e5 f\u00e9d\u00e9ral \u00e9lectoral gro\u00dfe\"\n</code>\n</pre>\n", "senID": 2}, {"text": ["is typically converted to "], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"code": "<pre>\n<code>\n Klft skrms infr p fdral lectoral groe\n</code>\n</pre>\n", "senID": 4}, {"text": ["which is pretty wrong.", "However, using the unicodedata module, the result can be much closer to the original text:"], "childNum": 1, "tag": "p", "senID": 5, "childList": [{"text": "unicodedata", "childNum": 0, "tag": "code", "pos": 1, "childList": []}]}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; import unicodedata\n&gt;&gt;&gt; unicodedata.normalize('NFKD', title).encode('ascii','ignore')\n'Kluft skrams infor pa federal electoral groe'\n</code>\n</pre>\n", "senID": 6}], [{"text": ["I think this is a deeper issue than you realize.", "Simply changing the file from Unicode into ASCII is easy, however, getting all of the Unicode characters to translate into reasonable ASCII counterparts (many letters are not available in both encodings) is another."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "I think this is a deeper issue than you realize", "childNum": 0, "tag": "em", "pos": 0, "childList": []}]}, {"text": ["This Python Unicode tutorial may give you a better idea of what happens to Unicode strings that are translated to ASCII: http://www.reportlab.com/i18n/python_unicode_tutorial.html"], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "http://www.reportlab.com/i18n/python_unicode_tutorial.html", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://www.reportlab.com/i18n/python_unicode_tutorial.html"}]}, {"text": ["Here's a useful quote from the site:"], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "Here's a useful quote from the site:", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n &gt; &gt;&gt;&gt; unicode('hello') u'hello'\n&gt; &gt;&gt;&gt; unicode('hello', 'ascii') u'hello'\n&gt; &gt;&gt;&gt; unicode('hello', 'iso-8859-1') u'hello'\n&gt; &gt;&gt;&gt;\n</code>\n</pre>\n", "senID": 3}, {"code": "<pre>\n<code>\n &gt; &gt;&gt;&gt; a = unicode('Andr\u00e9','latin-1')\n&gt; &gt;&gt;&gt; a u'Andr\\202'\n</code>\n</pre>\n", "senID": 4}, {"tag": "hr", "senID": 5}, {"text": ["IMHO, PConroy has a good answer.", "I'd vote him up, but I'm out for today :D"], "childNum": 1, "tag": "p", "senID": 6, "childList": [{"text": "IMHO, PConroy has a good answer.", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}]}], [{"text": ["Like this:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n uc = open(filename).read().decode('utf8')\nascii = uc.decode('ascii')\n</code>\n</pre>\n", "senID": 1}, {"text": ["Note, however, that this will fail with a UnicodeDecodeError exception if there are any characters that can't be converted to ASCII."], "childNum": 2, "tag": "p", "senID": 2, "childList": [{"text": "fail", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}, {"text": "UnicodeDecodeError", "childNum": 0, "tag": "code", "childList": []}]}, {"text": ["EDIT: As Pete Karl just pointed out, there is no one-to-one mapping from Unicode to ASCII.", "So some characters simply can't be converted in an information-preserving way.", "Moreover, standard ASCII is more or less a subset of UTF-8, so you don't really even need to do any decoding."], "childNum": 0, "tag": "p", "senID": 3, "childList": []}], [{"text": ["Here's some simple (and stupid) code to do encoding translation.", "I'm assuming (but you shouldn't) that the input file is in UTF-16 (Windows calls this simply 'Unicode')."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n input_codec = 'UTF-16'\noutput_codec = 'ASCII'\n\nunicode_file = open('filename')\nunicode_data = unicode_file.read().decode(input_codec)\nascii_file = open('new filename', 'w')\nascii_file.write(unicode_data.write(unicode_data.encode(output_codec)))\n</code>\n</pre>\n", "senID": 1}, {"text": ["Note that this will not work if there are any characters in the Unicode file that are not also ASCII characters.", "You can do the following to turn unrecognized characters into '?", "'s:"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n ascii_file.write(unicode_data.write(unicode_data.encode(output_codec, 'replace')))\n</code>\n</pre>\n", "senID": 3}, {"text": ["Check out the docs for more simple choices.", "If you need to do anything more sophisticated, you may wish to check out The UNICODE Hammer at the Python Cookbook."], "childNum": 2, "tag": "p", "senID": 4, "childList": [{"text": "the docs", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://docs.python.org/library/stdtypes.html#str.encode"}, {"text": "The UNICODE Hammer", "tag": "a", "pos": 1, "childList": [], "childNum": 0, "href": "http://code.activestate.com/recipes/251871/"}]}], [{"text": ["By the way, these is a linux command iconv to do this kind of job."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "iconv", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n iconv -f utf8 -t ascii &lt;input.txt &gt;output.txt\n</code>\n</pre>\n", "senID": 1}], [{"text": ["It's important to note that there is no 'Unicode' file format.", "Unicode can be encoded to bytes in several different ways.", "Most commonly UTF-8 or UTF-16.", "You'll need to know which one your 3rd-party tool is outputting.", "Once you know that, converting between different encodings is pretty easy:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n in_file = open(\"myfile.txt\", \"rb\")\nout_file = open(\"mynewfile.txt\", \"wb\")\n\nin_byte_string = in_file.read()\nunicode_string = bytestring.decode('UTF-16')\nout_byte_string = unicode_string.encode('ASCII')\n\nout_file.write(out_byte_string)\nout_file.close()\n</code>\n</pre>\n", "senID": 1}, {"text": ["As noted in the other replies, you're probably going to want to supply an error handler to the encode method.", "Using 'replace' as the error handler is simple, but will mangle your text if it contains characters that cannot be represented in ASCII."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["As other posters have noted, ASCII is a subset of unicode. "], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["However if you:"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"tag": "ul", "num": 3, "lis": [{"text": "have a legacy app ", "tag": "none", "senID": 2}, {"text": "you don't control the code for that app", "tag": "none", "senID": 3}, {"text": "you're sure your input falls into the ASCII subset", "tag": "none", "senID": 4}]}, {"text": ["Then the example below shows how to do it:"], "childNum": 0, "tag": "p", "senID": 5, "childList": []}, {"code": "<pre>\n<code>\n mystring = u'bar'\ntype(mystring)\n    &lt;type 'unicode'&gt;\n\nmyasciistring = (mystring.encode('ASCII'))\ntype(myasciistring)\n    &lt;type 'str'&gt;\n</code>\n</pre>\n", "senID": 6}], [{"text": ["For my problem where I just wanted to skip the Non-ascii characters and just output only ascii output, the below solution worked really well:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n import unicodedata\n    input = open(filename).read().decode('UTF-16')\n    output = unicodedata.normalize('NFKD', input).encode('ASCII', 'ignore')\n</code>\n</pre>\n", "senID": 1}]]