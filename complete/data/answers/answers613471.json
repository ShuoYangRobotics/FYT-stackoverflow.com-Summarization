[[{"text": ["I have made a program that connects to http://whatismyip.com/automation/n09230945.asp\nit is is written in D an getting someone else to tell you what they see your ip as is probably the most reliable way:"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "http://whatismyip.com/automation/n09230945.asp", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://whatismyip.com/automation/n09230945.asp"}]}, {"code": "<pre>\n<code>\n /*\n    Get my IP address\n*/\n\n\nimport tango.net.http.HttpGet;\nimport tango.io.Stdout;\n\nvoid main()\n{\n      try\n      {\n          auto page = new HttpGet (\"http://whatismyip.com/automation/n09230945.asp\");\n          Stdout(cast(char[])page.read);\n      }\n      catch(Exception ex)\n      {\n          Stdout(\"An exception occurred\");\n      }\n}\n</code>\n</pre>\n", "senID": 1}, {"text": ["Edit python code should be like:"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n from urllib import urlopen\nprint urlopen('http://whatismyip.com/automation/n09230945.asp').read()\n</code>\n</pre>\n", "senID": 3}], [{"text": ["Whenever I wanted to do this, I would just scrape whatismyip.org.", "When you go to the site, it gives you your plain text public IP.", "Plain and simple."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "whatismyip.org", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://whatismyip.org"}]}, {"text": ["Just have your script access that site and read the IP."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["I don't know if you were implying this in your post or not, but it isn't possible to get your public IP from your own computer.", "It has to come from an external source."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["Targeting www.whatsmyip.org is rude.", "They plea not to do that on the page."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["Only a system on the same level of NAT as your target will see the same IP.", "For instance, your application may be behind multiple layers of NAT (this happens more as you move away from the US, where the glut of IPs are)."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["STUN is indeed the best method.", "In general, you should be planning to run a (STUN) server somewhere that you \napplication can ask: do not hard code other people's servers.", "You have to code \nto send some specific messages as described in rfc5389."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["I suggest a good read of, and related links.", "http://www.ietf.org/html.charters/behave-charter.html"], "childNum": 1, "tag": "p", "senID": 3, "childList": [{"text": "http://www.ietf.org/html.charters/behave-charter.html", "tag": "a", "pos": 1, "childList": [], "childNum": 0, "href": "http://www.ietf.org/html.charters/behave-charter.html"}]}, {"text": ["You may prefer to look at IPv6, and Teredo to make sure that you always have IPv6 access.", "(Microsoft Vista makes this very easy, I'm told)"], "childNum": 0, "tag": "p", "senID": 4, "childList": []}], [{"text": ["This may be the easiest way.", "Parse the output of the following commands:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["For example, I am on a Windows machine, but the same idea should work from unix too."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n &gt; tracert -d www.yahoo.com\n\nTracing route to www-real.wa1.b.yahoo.com [69.147.76.15]\nover a maximum of 30 hops:\n\n  1    &lt;1 ms    &lt;1 ms    &lt;1 ms  192.168.14.203\n  2     *        *        *     Request timed out.\n  3     8 ms     8 ms     9 ms  68.85.228.121\n  4     8 ms     8 ms     9 ms  68.86.165.234\n  5    10 ms     9 ms     9 ms  68.86.165.237\n  6    11 ms    10 ms    10 ms  68.86.165.242\n</code>\n</pre>\n", "senID": 2}, {"text": ["The 68.85.228.121 is a Comcast (my provider) router.", "We can ping that:"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"code": "<pre>\n<code>\n &gt; ping -r 9 68.85.228.121 -n 1\n\nPinging 68.85.228.121 with 32 bytes of data:\n\nReply from 68.85.228.121: bytes=32 time=10ms TTL=253\n    Route: 66.176.38.51 -&gt;\n           68.85.228.121 -&gt;\n           68.85.228.121 -&gt;\n           192.168.14.203\n</code>\n</pre>\n", "senID": 4}, {"text": ["Voila!", "The 66.176.38.51 is my public IP."], "childNum": 0, "tag": "p", "senID": 5, "childList": []}], [{"text": ["Your simplest way may be to ask some server on the outside of your network."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["One thing to keep in mind is that different destinations may see a different address for you.", "The router may be multihomed.", "And really that's just where problems begin."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}], [{"text": ["If the network has an UpNp server running on the gateway you are able to talk to the gateway and ask it for your outside IP address."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["As mentioned by several people, STUN is indeed the proper solution."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "STUN", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://en.wikipedia.org/wiki/STUN"}]}, {"tag": "ul", "num": 3, "lis": [{"text": "a list of ", "tag": "none", "senID": 1}, {"text": "a free software ", "tag": "none", "senID": 2}, {"text": "The ", "tag": "none", "senID": 3}]}], [{"text": ["another cheeky way:\nif your router has got the option to update it's web IP on dyndns, you can get your own IP with something like:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["IP=`resolveip -s myalias.dyndns-home.com`"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}]]