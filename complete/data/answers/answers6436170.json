[[{"code": "<pre>\n<code>\n countries=[]\ncities=[]\nwith open(\"countries.txt\") as f:\n    gap=True\n    for line in f:\n        line=line.strip()\n        if gap:\n            countries.append(line)\n            gap=False\n        elif line==\"\":\n            gap=True\n        else:\n            cities.append(line)\nprint countries\nprint cities\n</code>\n</pre>\n", "senID": 0}, {"text": ["output:"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n ['Country1', 'Country2']\n['city1', 'city2', 'city3', 'city4']\n</code>\n</pre>\n", "senID": 2}, {"text": ["if you want to write these to files:"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"code": "<pre>\n<code>\n with open(\"countries.txt\",\"w\") as country_file, open(\"cities.txt\",\"w\") as city_file:\n    country_file.write(\"\\n\".join(countries))\n    city_file.write(\"\\n\".join(cities))\n</code>\n</pre>\n", "senID": 4}], [{"code": "<pre>\n<code>\n f = open('b.txt', 'r')\nstatus = True\ncountry = []\ncity = []\nfor line in f:\n    line = line.strip('\\n').strip()\n    if line:\n        if status:\n            country.append(line)\n            status = False\n        else:\n            city.append(line)\n    else:\n        status = True\n\nprint country\nprint city\n\n\noutput :\n\n&gt;&gt;['city1', 'city2', 'city3', 'city4']\n&gt;&gt;['Country1', 'Country2']\n</code>\n</pre>\n", "senID": 0}], [{"text": ["Depending on how regular your file is, it may be this simple in python:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n with open('inputfile.txt') as fh:\n  # To iterate over the entire file.\n  for country in fh:\n    cityLines = [next(fh) for _i in range(2)]\n\n    # read a blank line to advance countries.\n    next(fh)\n</code>\n</pre>\n", "senID": 1}, {"text": ["That's not likely to be exactly right, because I imagine many countries have variable numbers of cities.", "You could modify it like so to address that:"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n with open('inputfile.txt') as fh:\n  # To iterate over the entire file.\n  for country in fh:\n    # we assume here that each country has at least 1 city.\n      cities = [next(fh).strip()]\n\n      while cities[-1]: # will continue until we encounter a blank line.\n        cities.append(next(fh).strip())\n</code>\n</pre>\n", "senID": 3}, {"text": ["That doesn't do anything to put the data into an output file, or store it much past the file handle itself, but it's a start.", "You really should choose a language for your questions though.", "A lot of the time until "], "childNum": 0, "tag": "p", "senID": 4, "childList": []}], [{"code": "<pre>\n<code>\n $countries = array();\n$cities = array();\n$gap = false;\n$file = file('path/to/file');\nforeach($file as $line)\n{\n  if($line == '') $gap = true;\n  elseif ($line != '' and $gap) \n  {\n    $countries[] = $line;\n    $gap = false;\n  }\n  elseif ($line != '' and !$gap) $cities[] = $line;\n}\n</code>\n</pre>\n", "senID": 0}], [{"text": ["Not sure that this would help, but you can try to use the following code to get dictionary and then work with it(write to files, compare and etc):"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n res = {}\nwith open('c:\\\\tst.txt') as f:\n    lines = f.readlines()\n    for i,line in enumerate(lines):\n        line = line.strip()\n        if (i == 0 and line):\n            key = line\n            res[key] = []\n        elif not line and i+1 &lt; len(lines):\n            key = lines[i+1].strip()\n            res[key] = []\n        elif line and line != key:\n            res[key].append(line)\nprint res\n</code>\n</pre>\n", "senID": 1}], [{"text": ["Another PHP example that doesn't read the entire file in an array."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n &lt;?php\n\n$fh = fopen('countries.txt', 'r');\n\n$countries = array();\n$cities = array();\n\nwhile ( $data = fgets($fh) )\n{\n  // If $country is empty (or not defined), the this line is a country.\n  if ( ! isset($country) )\n  {\n    $country = trim($data);\n    $countries[] = $country;\n  }\n  // If an empty line is found, unset $country.\n  elseif ( ! trim($data) )\n    unset($country);\n  // City\n  else\n    $cities[$country][] = trim($data);\n}\n\nfclose($fh);\n</code>\n</pre>\n", "senID": 1}, {"text": ["The $countries array will contain a list of countries while the $cities array will contain a list of cities by countries."], "childNum": 2, "tag": "p", "senID": 2, "childList": [{"text": "$countries", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "$cities", "childNum": 0, "tag": "code", "childList": []}]}], [{"text": ["Is there some pattern that distinguishes countries from cities?", "Or is it that the first line after a blank line is a country and all subsequent lines are city names until the next blank line?", "Alternatively are you finding countries based on a look-up table (a \"dictionary\" in Python; an associative array in PHP; a hash in Perl --- one that includes all the officially recognized countries)?"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["Is it safe to assume that there are no cities whose names collide with any country?", "Is there a France, Iowa, USA, or the old Usa, Japan?"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["What do you want to do with these after you separate them?", "You mention \"some file handling and then extracting to different files\" --- are you thinking of something like one file per country containing a list of all the cities therein?", "Or one directory per country and one file per city?"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["The obvious approach would be to iterate over the file, line by line, and maintain a little state machine:  empty (beginning of file, blank lines between countries?", ") during which you enter the \"country\" state (whenever you found any pattern that matches whatever criteria means you've encountered the name of a country).", "Once you've found a country name then you're in the city loading state.", "I would create a dictionary using country names as keys and set of cities as cities (though perhaps you might really need county/provice, city name tuples in cases where a country has multiple cities by the same name: Portland, Maine vs. Portland, Oregon, for example).", "You can also have some \"error\" state if the contents of your file lead to some sort of ambiguity (city names before you've determined a country, two country names in a row, whatever)."], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"text": ["It's hard to suggest a good fragment of code given how vague your spec.", "here is."], "childNum": 0, "tag": "p", "senID": 4, "childList": []}], [{"text": ["PHP example:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n &lt;?php\nerror_reporting(E_ALL);\ndefine(\"SEPARATOR\", \"\\r\\n\"); // windows text file, change if necessary\n$input_content = file_get_contents(\"input.txt\");\n$output_country = array();\n$output_city = array();\n$data_groups = explode(SEPARATOR . SEPARATOR, $input_content);\nforeach($data_groups as $data_group) {\n    $data_rows = explode(SEPARATOR, $data_group);\n    $output_country[] = array_shift($data_rows);\n    foreach($data_rows as $data_row) {\n        $output_city[] = $data_row;\n    }\n}\nvar_dump($output_country);\nvar_dump($output_city);\n</code>\n</pre>\n", "senID": 1}], [{"text": ["This regex would work for your example:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n /(?:^|\\r\\r)(.+?)\\r(.+?)(?=\\r\\r|$)/s\n</code>\n</pre>\n", "senID": 1}, {"text": ["Catches countries in group 1 and cities in group 2.", "You may have to adjust your newline characters, depending on your system.", "They can be \\n, \\r or \\r\\n.", "edit: added a $ sign, so you don't need two linebreaks at the end.", "You will need the flag for dotall for the regex to work as expected."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["Print fild 1 with awk - countries"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n awk 'BEGIN {RS=\"\";FS=\"\\n\"} {print $1 &gt; \"countries\"} {for (i=2;i&lt;=NF;i++) print $i &gt; \"cities\"}' source.txt\n</code>\n</pre>\n", "senID": 1}]]