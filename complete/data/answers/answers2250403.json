[[{"text": ["Use linalg.lstsq(A,y) since A is not square.", "See here for details.", "You can use linalg.solve(A,y) if A is square, but not in your case."], "childNum": 5, "tag": "p", "senID": 0, "childList": [{"text": "linalg.lstsq(A,y)", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "A", "childNum": 0, "tag": "code", "pos": 2, "childList": []}, {"href": "http://www.scipy.org/NumPy_for_Matlab_Users", "text": "here", "childNum": 0, "tag": "a", "childList": []}, {"text": "linalg.solve(A,y)", "childNum": 0, "tag": "code", "childList": []}, {"text": "A", "childNum": 0, "tag": "code", "childList": []}]}], [{"text": ["Im not sure if it exist in numpy/scipy, but you can also look for the equivalent of the pseudo-inverse function pinv, as an alternative to the other answers that is.."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "pinv", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}], [{"text": ["Here is a method that will work with sparse matrices (which from your comments is what you want) which uses the leastsq function from the optimize package"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n from numpy import *\nfrom scipy.sparse import csr_matrix\nfrom scipy.optimize import leastsq\nfrom numpy.random import rand\n\nA=csr_matrix([[0.,1.],[0.,1.],[1.,0.]])\nb=array([[2.],[2.],[1.]])\n\ndef myfunc(x):\n    x.shape = (2,1)\n    return (A*x - b)[:,0]\n\nprint leastsq(myfunc,rand(2))[0]\n</code>\n</pre>\n", "senID": 1}, {"text": ["generates "], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n [ 1.  2.]\n</code>\n</pre>\n", "senID": 3}, {"text": ["It is kind of ugly because of how I had to get the shapes to match up according to what leastsq wanted.", "Maybe someone else knows how to make this a little more tidy. "], "childNum": 0, "tag": "p", "senID": 4, "childList": []}, {"text": ["I have also tried to get something to work with the functions in scipy.sparse.linalg by using the LinearOperators, but to no avail.", "The problem is that all of those functions are made to handle square functions only.", "If anyone finds a way to do it that way, I would like to know as well. "], "childNum": 0, "tag": "p", "senID": 5, "childList": []}], [{"text": ["For those who wish to solve large sparse least squares problems:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["I have added the LSQR algorithm to SciPy.", "With the next release, you'll be able to do:"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n from scipy.sparse import csr_matrix\nfrom scipy.sparse.linalg import lsqr\nimport numpy as np\n\nA = csr_matrix([[0., 1], [0, 1], [1, 0]])\nb = np.array([[2.], [2.], [1.]])\n\nlsqr(A, b)\n</code>\n</pre>\n", "senID": 2}, {"text": ["which returns the answer [1, 2]."], "childNum": 1, "tag": "p", "senID": 3, "childList": [{"text": "[1, 2]", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"text": ["If you'd like to use this new functionality without upgrading SciPy, you may download lsqr.py from the code repository at"], "childNum": 1, "tag": "p", "senID": 4, "childList": [{"text": "lsqr.py", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"text": ["http://projects.scipy.org/scipy/browser/trunk/scipy/sparse/linalg/isolve/lsqr.py"], "childNum": 1, "tag": "p", "senID": 5, "childList": [{"text": "http://projects.scipy.org/scipy/browser/trunk/scipy/sparse/linalg/isolve/lsqr.py", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://projects.scipy.org/scipy/browser/trunk/scipy/sparse/linalg/isolve/lsqr.py"}]}], [{"text": ["I haven't tested it, but according to this web page it is:"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "this web page", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://mathesaurus.sourceforge.net/matlab-numpy.html"}]}, {"code": "<pre>\n<code>\n linalg.solve(A,y)\n</code>\n</pre>\n", "senID": 1}], [{"text": ["You can use lsqr from scipy.sparse.linalg to solve sparse matrix systems with least squares"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}]]