[[{"text": ["Firstly, you can del other things besides local variables"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n del list_item[4]\ndel dictionary[\"alpha\"]\n</code>\n</pre>\n", "senID": 1}, {"text": ["Both of which should be clearly useful.", "Secondly, using del on a local variable makes the intent clearer."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n del foo\n   foo = None\n</code>\n</pre>\n", "senID": 3}, {"text": ["I know in the case of del foo that the intent is to remove the variable from scope.", "Its not clear that foo = None is doing that.", "If somebody just assigned foo = None I might think it was dead code.", "But I instantly know what somebody who codes del foo was trying to do."], "childNum": 4, "tag": "p", "senID": 4, "childList": [{"text": "del foo", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "foo = None", "childNum": 0, "tag": "code", "pos": 1, "childList": []}, {"text": "foo = None", "childNum": 0, "tag": "code", "pos": 2, "childList": []}, {"text": "del foo", "childNum": 0, "tag": "code", "pos": 3, "childList": []}]}], [{"text": ["There's this part of what del does (from the Python Language Reference):"], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "del", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"href": "http://docs.python.org/reference/simple_stmts.html#the-del-statement", "text": "Python Language Reference", "childNum": 0, "tag": "a", "childList": []}]}, {"text": ["Assigning None to a name does not remove the binding of the name from the namespace."], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "None", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"text": ["(I suppose there could be some debate about whether removing a name binding is actually useful, but that's another question."], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "useful", "childNum": 0, "tag": "em", "pos": 0, "childList": []}]}], [{"text": ["You can use it to remove a single element of an array instead of the slice syntax x[i:i+1]=[].", "This may be useful if for example you are in os.walk and wish to delete an element in the directory.", "I would not consider a keyword useful for this though, since one could just make a [].remove(index) method (the .remove method is actually search-and-remove-first-instance-of-value)."], "childNum": 4, "tag": "p", "senID": 0, "childList": [{"text": "x[i:i+1]=[]", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "os.walk", "childNum": 0, "tag": "code", "pos": 1, "childList": []}, {"text": "[].remove(index)", "childNum": 0, "tag": "code", "pos": 2, "childList": []}, {"text": ".remove", "childNum": 0, "tag": "code", "childList": []}]}], [{"text": ["There is a specific example of when you should use del (there may be others, but I know about this one off hand) when you are using sys.exc_info() to inspect an exception.", "This function returns a tuple, the type of exception that was raised, the message, and a traceback.  "], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "del", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "sys.exc_info()", "childNum": 0, "tag": "code", "pos": -1, "childList": []}]}, {"text": ["The first two values are usually sufficient to diagnose an error and act on it, but the third contains the entire call stack between where the exception was raised and where the the exception is caught.", "In particular, if you do something like"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n try:\n    do_evil()\nexcept:\n    exc_type, exc_value, tb = sys.exc_info()\n    if something(exc_value):\n        raise\n</code>\n</pre>\n", "senID": 2}, {"text": ["the traceback, tb ends up in the locals of the call stack, creating a circular reference that cannot be garbage collected.", "Thus, it is important to do:"], "childNum": 1, "tag": "p", "senID": 3, "childList": [{"text": "tb", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n try:\n    do_evil()\nexcept:\n    exc_type, exc_value, tb = sys.exc_info()\n    del tb\n    if something(exc_value):\n        raise\n</code>\n</pre>\n", "senID": 4}, {"text": ["to break the circular reference.", "In many cases where you would want to call sys.exc_info(), like with metaclass magic, the traceback is useful, so you have to make sure that you clean it up before you can possibly leave the exception handler.", "If you don't need the traceback, you should delete it immediately, or just do:"], "childNum": 2, "tag": "p", "senID": 5, "childList": [{"text": "sys.exc_info()", "childNum": 0, "tag": "code", "pos": 1, "childList": []}, {"text": "is", "childNum": 0, "tag": "em", "pos": -1, "childList": []}]}, {"code": "<pre>\n<code>\n exc_type, exc_value = sys.exc_info()[:2]\n</code>\n</pre>\n", "senID": 6}, {"text": ["To avoid it all together.  "], "childNum": 0, "tag": "p", "senID": 7, "childList": []}], [{"text": ["I think one of the reasons that del has its own syntax is that replacing it with a function might be hard in certain cases given it operates on the binding or variable and not the value it references.", "Thus if a function version of del were to be created a context would need to be passed in.", "del foo would need to become globals().remove('foo') or locals().remove('foo') which gets messy and less readable.", "Still I say getting rid of del would be good given its seemingly rare use.", "But removing language features/flaws can be painful.", "Maybe python 4 will remove it :)"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["You can use __del__() to log warnings\\errors if the object is deleted in an unexpected internal state."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "__del__()", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}]]