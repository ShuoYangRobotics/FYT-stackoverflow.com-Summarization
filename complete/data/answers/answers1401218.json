[[{"text": ["There is no such number as the \"maximum number of urls can be used so that we can avoid duplicates\" for CRC32."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["The problem is that CRC32 can produce duplicates, and it's not a function of how many values you throw at it, it's a function of what those values look like."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["So you might have a collision on the second url, if you're unlucky."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["You should not base your algorithm on producing a unique hash, instead produce a unique value for each url manually."], "childNum": 0, "tag": "p", "senID": 3, "childList": []}], [{"text": ["If you're already storing the full URL in a database table, an integer ID is pretty short, and can be made shorter by converting it to base 16, 64, or 85.", "If you can use a UUID, you can use an integer, and you may as well, since it's shorter and I don't see what benefit a UUID would provide in your lookup table."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["CRC32 means cyclic redundancy check with 32 bits where any arbitrary amount of bits is summed up to a 32 bit check sum.", "And check sum functions are surjective, that means multiple input values have the same output value.", "So you cannot inverse the function."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "cyclic redundancy check", "childNum": 0, "tag": "em", "pos": 0, "childList": []}]}], [{"text": ["No, even you use md5, or any other check sum, the URL CAN BE duplicate, it all depends on your luck."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["So don't make an unique url base on those check sum"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}], [{"text": ["The right way to make a short URL is to store the full one in the database and publish something that maps to the row index.", "A compact way is to use the Base64 of the row ID, for example.", "Or you could use a UID for the primary key and show that."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["Do not use a checksum, because it's too small and very likely to conflict.", "A cryptographic hash is larger and less likely, but it's still not the right way to go."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}], [{"text": ["The quickest (and perhaps best!", ") way to solve things may be to simply use a hash of the local path and query of a given URI, as follows:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n using System;\n\nnamespace HashSample\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            Uri uri = new Uri(\n                \"http://host.com/folder/file.jpg?code=ABC123\");\n\n            string hash = GetPathAndQueryHash(uri);\n\n            Console.WriteLine(hash);\n        }\n\n        public static string GetPathAndQueryHash(Uri uri)\n        {\n            return uri.PathAndQuery.GetHashCode().ToString();\n        }\n    }\n}\n</code>\n</pre>\n", "senID": 1}, {"text": ["The above presumes that the URI scheme and host remain the same.", "If not GetHashCode will work with any string."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["For a great discussion on CRC32 Hash Collision visit: http://episteme.arstechnica.com/eve/forums/a/tpc/f/6330927813/m/821008399831"], "childNum": 1, "tag": "p", "senID": 3, "childList": [{"text": "http://episteme.arstechnica.com/eve/forums/a/tpc/f/6330927813/m/821008399831", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://episteme.arstechnica.com/eve/forums/a/tpc/f/6330927813/m/821008399831"}]}]]