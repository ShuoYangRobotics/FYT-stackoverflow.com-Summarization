[[{"text": ["I reckon that..."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n Object o = map.get(\"x\");\nif(o == null)\n    o = BOOLEAN.TRUE;\n</code>\n</pre>\n", "senID": 1}, {"text": ["... is pretty much the most readable and efficient way of doing this.", "You're only doing one map lookup this way.", "Unfortunately, \"Java\" and \"terse\" don't tend to fit in the same sentence unless it's a negative."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["Both are valid solutions (although introducing a local variable would probably be better...performance-wise) but it's not a good idea to do this everywhere in your code.", "Consider writing an adapter for HashMap that provides you with a new get() method that allows you to specify a default value.", "That's the best way to enhance the functionality of a class."], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "HashMap", "childNum": 0, "tag": "code", "pos": 1, "childList": []}, {"text": "get()", "childNum": 0, "tag": "code", "pos": -1, "childList": []}]}], [{"text": ["OP Edited his question, but I'll leave the answer just in case."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["You should use "], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n map.containsKey(\"x\")\n</code>\n</pre>\n", "senID": 2}, {"text": ["instead of "], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"code": "<pre>\n<code>\n map.get(\"x\") != null\n</code>\n</pre>\n", "senID": 4}, {"text": ["to test if map has a mapping for key. "], "childNum": 0, "tag": "p", "senID": 5, "childList": []}, {"text": ["Maps can contain null as valid value in mapping."], "childNum": 0, "tag": "p", "senID": 6, "childList": []}, {"text": ["The same goes for python.", "It's not enough to test if dict[key] == None to know if a key is mapped to something."], "childNum": 0, "tag": "p", "senID": 7, "childList": []}, {"text": ["Quick test:"], "childNum": 0, "tag": "p", "senID": 8, "childList": []}, {"code": "<pre>\n<code>\n d = {'a': None}\n\n# returns True\nd['a'] == None\n\n# raises KeyError\nd['b'] \n\n# returns 'Whatever'\nd.get('b', 'Whatever')\n</code>\n</pre>\n", "senID": 9}, {"text": ["So java equivalent to python dict.get() is "], "childNum": 0, "tag": "p", "senID": 10, "childList": []}, {"code": "<pre>\n<code>\n map.containsKey(\"x\") ? map.get(\"x\") : default_value\n</code>\n</pre>\n", "senID": 11}, {"text": ["as OP said"], "childNum": 0, "tag": "p", "senID": 12, "childList": []}], [{"text": ["Both are wrong because they will do 2 lookups.", "Generally you'll want to do:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n Boolean ret = map.get(\"x\");\nif (ret == null) {\n    return true\n}\nreturn ret;\n</code>\n</pre>\n", "senID": 1}, {"text": ["You can wrap this in a function"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n public static &lt;K,V&gt; V mapGet(Map&lt;K, V&gt; map, K key, V defaultValue) {\n    V ret = get(key);\n    if (ret == null) {\n        return defaultValue;\n    }\n    return ret;\n}\n</code>\n</pre>\n", "senID": 3}, {"text": ["You can make it non-static if you want.", "If you are the person instantiating the map object (you don't get it from exernal code) you can subclass hashmap.", "If an API returns map instance then you can't use subclassing."], "childNum": 0, "tag": "p", "senID": 4, "childList": []}, {"code": "<pre>\n<code>\n public class MyHashMap&lt;K,V&gt; extends HashMap&lt;K,V&gt; {\n    public V get(K key, V default) {\n        V ret = map.get(key);\n        if (ret == null) {\n            return defaultValue;\n        }\n        return ret;\n    }\n}\n</code>\n</pre>\n", "senID": 5}], [{"text": ["map.get(\"x\") == null ?", "true : map.get(\"x\")"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "map.get(\"x\") == null ? true : map.get(\"x\")", "childNum": 0, "tag": "code", "pos": -1, "childList": []}]}, {"text": ["This sounds good but if you need it extensively you can implement your own implementation to handle  this in get() itlself"], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "get()", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}], [{"text": ["I'd extend the map to expose a get(String key, Boolean defaultValue)... if not that I'd atleast put the terniary in a method, pushing the result of get.", "(\"x\") onto the stack, instead of getting it twice... something like IfNull(map.get(\"x\"), True)"], "childNum": 3, "tag": "p", "senID": 0, "childList": [{"text": "get(String key, Boolean defaultValue)", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "get.(\"x\")", "childNum": 0, "tag": "code", "pos": -1, "childList": []}, {"text": "IfNull(map.get(\"x\"), True)", "childNum": 0, "tag": "code", "pos": 1, "childList": []}]}, {"text": ["If you need to provide default you probably have a \"specialised\" use for the map anyway, hence I guess the wrapper-class would be the way to go, not just for this behaviour, but for any other (current AND FUTURE) specialised behaviours/responsibilities."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["That's just how I'd tackle it...", "I'm NO object-oriented design guru though ;-)"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["Cheers.", "Keith."], "childNum": 0, "tag": "p", "senID": 3, "childList": []}], [{"text": ["A short and reasonably generic way to do it, although not necessarily good practice, would be a helper class and a static import:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["Helper.java"], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "Helper.java", "childNum": 0, "tag": "em", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n package vlad;\nimport java.util.Map;\npublic class Helper{    \n    public static &lt;K,V&gt; V get(Map&lt;K,V&gt; m, K key, V def){\n        V v = m.get(key);\n        return (v!=null) ? v : def;\n    }\n}\n</code>\n</pre>\n", "senID": 2}, {"text": ["Test.java"], "childNum": 1, "tag": "p", "senID": 3, "childList": [{"text": "Test.java", "childNum": 0, "tag": "em", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n import java.util.*;\nimport static vlad.Helper.get;\n\nclass Test{\n\n    public static void main(String[]args){\n\n        Map&lt;String, Integer&gt; m = new HashMap&lt;String,Integer&gt;();\n\n        m.put(\"forty-two\", 42);\n        m.put(\"three\", 3);\n        m.put(\"one\", 1);\n\n        System.out.println(get(m,\"forty-two\",-1));\n        System.out.println(get(m,\"three\",-1));\n        System.out.println(get(m,\"one\",-1));\n        System.out.println(get(m,\"something_else\",-1));\n\n    }\n}\n</code>\n</pre>\n", "senID": 4}]]