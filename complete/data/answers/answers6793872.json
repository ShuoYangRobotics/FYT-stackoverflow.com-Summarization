[[{"text": ["Objects in Python are stored by reference\u2014you aren't assigning the value of a to b, but a pointer to the object that a is pointing to."], "childNum": 3, "tag": "p", "senID": 0, "childList": [{"text": "a", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "b", "childNum": 0, "tag": "code", "childList": []}, {"text": "a", "childNum": 0, "tag": "code", "childList": []}]}, {"text": ["To emulate assignation by value, you can make a copy like so: "], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n import copy\n\nb = copy.copy(a)\n\n# now the code works as \"expected\"\n</code>\n</pre>\n", "senID": 2}, {"text": ["Be aware this has performance disadvantages."], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"text": ["In the case of an array, there's a special method that relies on slices:"], "childNum": 0, "tag": "p", "senID": 4, "childList": []}, {"code": "<pre>\n<code>\n b = a[:]\n\n# code also works as expected here\n</code>\n</pre>\n", "senID": 5}, {"text": ["Update\u2013 In addition to this, with some objects you can use the constructor\u2014this includes lists:"], "childNum": 1, "tag": "p", "senID": 6, "childList": [{"text": "Update", "childNum": 0, "tag": "em", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n b = list(a)\n</code>\n</pre>\n", "senID": 7}], [{"text": ["Memory management in Python involves a private heap memory location containing all Python objects and data structures."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["Python's runtime only deals in references to objects (which all live in the heap): what goes on Python's stack are always references to values that live elsewhere."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; a = [1, 2]\n</code>\n</pre>\n", "senID": 2}, {"src": "http://i.stack.imgur.com/PDvGQ.png", "tag": "img", "senID": 3}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; b = a\n</code>\n</pre>\n", "senID": 4}, {"src": "http://i.stack.imgur.com/01ufg.png", "tag": "img", "senID": 5}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; a.append(3)\n</code>\n</pre>\n", "senID": 6}, {"src": "http://i.stack.imgur.com/3HsUL.png", "tag": "img", "senID": 7}, {"text": ["Here we can clearly see that the variable b is bound to the same object as a."], "childNum": 2, "tag": "p", "senID": 8, "childList": [{"text": "b", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "a", "childNum": 0, "tag": "code", "childList": []}]}, {"text": ["You can use the is operator to tests if two objects are physically the same, that means if they have the same address in memory.", "This can also be tested also using the id() function."], "childNum": 3, "tag": "p", "senID": 9, "childList": [{"text": "is", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "id()", "tag": "a", "pos": 1, "childList": [{"text": "id()", "tag": "code"}], "childNum": 1, "href": "http://docs.python.org/library/functions.html#id"}, {"text": "id()", "childNum": 0, "tag": "code", "childList": []}]}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; a is b\n&gt;&gt;&gt; True\n&gt;&gt;&gt; id(a) == id(b)\n&gt;&gt;&gt; True\n</code>\n</pre>\n", "senID": 10}, {"text": ["So, in this case, you must explicitly ask for a copy.", "Once you've done that, there will be no more connection between the two distinct list objects."], "childNum": 1, "tag": "p", "senID": 11, "childList": [{"text": "you must explicitly ask for a copy", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; b = list(a)\n&gt;&gt;&gt; a is b\n&gt;&gt;&gt; False\n</code>\n</pre>\n", "senID": 12}, {"src": "http://i.stack.imgur.com/1OKJv.png", "tag": "img", "senID": 13}], [{"text": ["You might want to look at this link.", "The problem you have here is a and b both point to the same memory location, so changing one changes the other.", "Instead, you want to do something like this:"], "childNum": 3, "tag": "p", "senID": 0, "childList": [{"text": "this", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://henry.precheur.org/python/copy_list"}, {"text": "a", "childNum": 0, "tag": "code", "pos": 1, "childList": []}, {"text": "b", "childNum": 0, "tag": "code", "pos": -1, "childList": []}]}, {"code": "<pre>\n<code>\n a = [1,2]\nb = list(a)\n</code>\n</pre>\n", "senID": 1}], [{"text": ["Short answer - Pointers."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["When you type b = a it is setting b to look at the same array that a looks at.", "You have to make a new array with copies of the elements to separate them.", "In this case, something like b = [n for n in a] would work fine.", "For more complex operations you may want to check out http://docs.python.org/library/copy.html."], "childNum": 5, "tag": "p", "senID": 1, "childList": [{"text": "b = a", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "b", "childNum": 0, "tag": "code", "pos": 2, "childList": []}, {"text": "a", "childNum": 0, "tag": "code", "pos": 3, "childList": []}, {"text": "b = [n for n in a]", "childNum": 0, "tag": "code", "childList": []}, {"href": "http://docs.python.org/library/copy.html", "text": "http://docs.python.org/library/copy.html", "childNum": 0, "tag": "a", "childList": []}]}], [{"text": ["a is a pointer to the list [1,2]."], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "a", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "[1,2]", "childNum": 0, "tag": "code", "childList": []}]}, {"text": ["When you do the assignment b = a the value of b is the address of the list [1,2]."], "childNum": 2, "tag": "p", "senID": 1, "childList": [{"text": "b = a", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "[1,2]", "childNum": 0, "tag": "code", "childList": []}]}, {"text": ["So when you do a.append(3) you are not actually changing a, you are changing the list that a points to.", "Since a and b both point to the same list, they both appear to change when you modify the other."], "childNum": 5, "tag": "p", "senID": 2, "childList": [{"text": "a.append(3)", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "a", "childNum": 0, "tag": "code", "pos": 1, "childList": []}, {"text": "a", "childNum": 0, "tag": "code", "childList": []}, {"text": "a", "childNum": 0, "tag": "code", "childList": []}, {"text": "b", "childNum": 0, "tag": "code", "childList": []}]}], [{"text": ["If you simply want to copy the contents of list a to b, instead of making b a pointer to a:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n b = a[:]\n</code>\n</pre>\n", "senID": 1}, {"text": ["Using the slice operator will copy the contents of the list into b such that you example would become:"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n a = [1,2]\nb = a[:]\na.append(3)\nprint a\n&gt;&gt;&gt;&gt; [1,2,3]\nprint b\n&gt;&gt;&gt;&gt; [1,2]\n</code>\n</pre>\n", "senID": 3}]]