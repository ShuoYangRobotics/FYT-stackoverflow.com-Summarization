[[{"text": ["You're testing every number between 1 and the limit (let's say 30000) against every abundant number, so you're doing roughly 30000 * 7428 iterations; and you're checking if the result is in a list, which is a very slow operation -- it checks every item on the list until it finds a match!"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["Instead, you should generate every number that is a sum of two abundant numbers.", "At the most, that would take 7428 * 7428 iterations -- fewer if properly executed (hint: avoid checking both a + b and b + a by ensuring that b is always >= a; and as someone else suggested, be sure to stop when sums get too large).", "Mark those numbers off a list of numbers below limit and sum the remaining numbers. "], "childNum": 2, "tag": "p", "senID": 1, "childList": [{"text": "generate", "childNum": 0, "tag": "em", "pos": 0, "childList": []}, {"text": "limit", "childNum": 0, "tag": "code", "pos": 2, "childList": []}]}, {"text": ["In other words:"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n [... 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43 ...]\n</code>\n</pre>\n", "senID": 3}, {"text": ["becomes"], "childNum": 0, "tag": "p", "senID": 4, "childList": []}, {"code": "<pre>\n<code>\n [... 31, 0, 33, 34, 35, 0, 37, 0, 39, 0, 41, 0, 43 ...]\n</code>\n</pre>\n", "senID": 5}, {"text": ["Edit: After playing with implementations for a few minutes, I can confidently say that if i - x in Abundant[:i]: is the problem.", "The first python solution posted to Project Euler's p23 forum is essentially a clever implementation of your algorithm, the only major difference being that it uses a set of abundant numbers instead of a list.", "It solves the problem on an Atom processor in 15 seconds; when I changed it to use a list, after fifteen minutes, it still hadn't solved the problem. "], "childNum": 2, "tag": "p", "senID": 6, "childList": [{"text": "if i - x in Abundant[:i]:", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "set", "childNum": 0, "tag": "em", "pos": 1, "childList": []}]}, {"text": ["Moral of the story: x in list is SLOW."], "childNum": 1, "tag": "p", "senID": 7, "childList": [{"text": "x in list", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"text": ["Still, generating the sums directly is faster than subtracting and checking.", ":)"], "childNum": 0, "tag": "p", "senID": 8, "childList": []}], [{"code": "<pre>\n<code>\n for x in Abundant:\n        if i - x in Abundant[:i]:\n            AbSum = 1\n            break\n</code>\n</pre>\n", "senID": 0}, {"text": ["Note that the in expression here takes O(i) time, and thus the loop is O(n\u00b2).", "You can improve this to O(n) if you use a set instead of a list."], "childNum": 3, "tag": "p", "senID": 1, "childList": [{"text": "in", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "set", "childNum": 0, "tag": "code", "pos": 1, "childList": []}, {"text": "list", "childNum": 0, "tag": "code", "childList": []}]}], [{"text": ["Let's start by searching a little bit, and find out the largest number not expressible as the sum of two abundant numbers is actually 20161.", "Then, we can solve the problem with a simple set membership test.", "Plus, it runs pretty fast.", ":-)"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n #!/usr/bin/env python\n# -*- coding: utf-8 -*-\nfrom math import sqrt\n\ndef d(n):\n    sum = 1\n    t = sqrt(n)\n    # only proper divisors; start from 2.\n    for i in range(2, int(t)+1):\n        if n % i == 0:\n            sum += i + n / i\n    # don't count the square root twice!\n    if t == int(t):\n        sum -= t\n    return sum\n\nlimit = 20162\nsum = 0\n# it's a set, after all. sets are faster than lists for our needs.\nabn = set()\nfor n in range(1, limit):\n    if d(n) &gt; n:\n        abn.add(n)\n    # if the difference of the number we're examining and every number in the set\n    # is in the set, then the number is the sum of two abundant numbers.\n    # otherwise, we must add it to our sum in question.\n    if not any( (n-a in abn) for a in abn ):\n        sum += n\n</code>\n</pre>\n", "senID": 1}, {"text": ["Runs in 0.6463340939061518 seconds on average on an i5, based on timeit."], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "timeit", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}], [{"text": ["One thing that would help is bailing out of your inner loop once the abundant numbers go larger than the one you're testing."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["I also don't understand this bit of your code:"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n for q in range(len(Divisors)):\n    if Divisors[q] != (Number / Divisors[q]):\n        Divisors.append(Number / Divisors[q])\n</code>\n</pre>\n", "senID": 2}, {"text": ["Once you have verified that the modulo is 0, it's a divisor.", "I don't know why you're doing an identity check essentially."], "childNum": 0, "tag": "p", "senID": 3, "childList": []}], [{"text": ["Your code looks like it might benefit from map, filter or list comprehension in favour of those for loops."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["You can use a simple mathematical trick: The sum of all numbers that can not be written as a sum of two abundant numbers is the sum of all numbers minus the numbers that can be written as a sum of two abundant numbers:"], "childNum": 3, "tag": "p", "senID": 0, "childList": [{"text": "can not be written", "childNum": 0, "tag": "em", "pos": 0, "childList": []}, {"text": "all numbers", "childNum": 0, "tag": "em", "childList": []}, {"text": "can be written", "childNum": 0, "tag": "em", "childList": []}]}, {"code": "<pre>\n<code>\n solution = sum(range(limit)) - sum(all_two_sums(abundant_numbers))\n</code>\n</pre>\n", "senID": 1}, {"text": ["(sum(range(limit)) can also be simplified with math, but you might not find it unless you're Gauss ;-))"], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "sum(range(limit))", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"text": ["You already have a list of abundant numbers, so it's relatively easy to create the set of numbers that can be written as the sum of two abundant numbers and where the sum is smaller than the limit.", "Just make sure you have no duplicate numbers, a Python set does that."], "childNum": 2, "tag": "p", "senID": 3, "childList": [{"text": "can", "childNum": 0, "tag": "em", "pos": 0, "childList": []}, {"text": "set", "childNum": 0, "tag": "code", "pos": 1, "childList": []}]}]]