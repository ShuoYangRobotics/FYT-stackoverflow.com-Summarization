[[{"text": ["You can use get(name) to use a specific browser."], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "get(name)", "tag": "a", "pos": 0, "childList": [{"text": "get(name)", "tag": "code"}], "childNum": 1, "href": "http://docs.python.org/library/webbrowser.html#webbrowser.get"}, {"text": "get(name)", "childNum": 0, "tag": "code", "childList": []}]}, {"text": ["You'll need to register the Chrome webbrowser, as it doesn't seem to be one of the predefined browser types, and then you should be able to do this:"], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "You'll need to register the Chrome webbrowser", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://docs.python.org/library/webbrowser.html#webbrowser.register"}]}, {"text": ["webbrowser.get('chrome').open('http://www.google.com')"], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "webbrowser.get('chrome').open('http://www.google.com')", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"text": ["Update:"], "childNum": 0, "tag": "h2", "senID": 3, "childList": []}, {"text": ["Actually, you might be able to just do:"], "childNum": 0, "tag": "p", "senID": 4, "childList": []}, {"text": ["webbrowser.get('windows-default').open('http://www.google.com')"], "childNum": 1, "tag": "p", "senID": 5, "childList": [{"text": "webbrowser.get('windows-default').open('http://www.google.com')", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}], [{"text": ["Looking at the module source code, it first tries to use the Windows default browser but if it doesn't work, it searches for common browser names that are commands, ie.", "that are in the PATH variable.", "Try adding the location of your web browser to your PATH. "], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "module source code", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://hg.python.org/cpython/file/5661480f7763/Lib/webbrowser.py#l503"}]}], [{"text": ["The webbrowser module is supposed to use the default browser, so this might be a bug.", "On the other hand, use this explanation from the docs to troubleshoot your problem:"], "childNum": 3, "tag": "p", "senID": 0, "childList": [{"text": "webbrowser", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "supposed to", "childNum": 0, "tag": "em", "pos": -1, "childList": []}, {"text": "docs", "tag": "a", "pos": 1, "childList": [], "childNum": 0, "href": "http://docs.python.org/library/webbrowser.html"}]}], [{"text": ["My main issue was a bad URL by attempting prepend file:// to a relative path.", "It can be fixed with this:"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "file://", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n webbrowser.open('file://' + os.path.realpath(filename))\n</code>\n</pre>\n", "senID": 1}, {"text": ["Using webbrowser.open will try multiple methods until one \"succeeds\", which is a loose definition."], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "webbrowser.open", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"text": ["The WindowsDefault class calls os.startfile() which fails and returns False.", "I can verify that by entering the URL in the windows run command and seeing an error message rather than a browser."], "childNum": 3, "tag": "p", "senID": 3, "childList": [{"text": "WindowsDefault", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "os.startfile()", "childNum": 0, "tag": "code", "pos": -1, "childList": []}, {"text": "False", "childNum": 0, "tag": "code", "pos": -1, "childList": []}]}, {"text": ["Both GenericBrowser and BackgroundBrowser will call subprocess.Popen() with an exe which will succeed, even with a bad URL, and return True.", "IE gives no indication of the issue, all other browsers have a nice messages saying they can't find the file."], "childNum": 4, "tag": "p", "senID": 4, "childList": [{"text": "GenericBrowser", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "BackgroundBrowser", "childNum": 0, "tag": "code", "pos": -1, "childList": []}, {"text": "subprocess.Popen()", "childNum": 0, "tag": "code", "pos": -1, "childList": []}, {"text": "True", "childNum": 0, "tag": "code", "pos": -1, "childList": []}]}, {"text": ["Here is my original setup:"], "childNum": 0, "tag": "p", "senID": 5, "childList": []}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; import webbrowser\n&gt;&gt;&gt; webbrowser._tryorder\n['windows-default',\n 'C:\\\\Program Files\\\\Internet Explorer\\\\IEXPLORE.EXE']\n&gt;&gt;&gt; webbrowser._browsers.items()\n[('windows-default', [&lt;class 'webbrowser.WindowsDefault'&gt;, None]),\n ('c:\\\\program files\\\\internet explorer\\\\iexplore.exe', [None, &lt;webbrowser.BackgroundBrowser object at 0x00000000022E3898&gt;])]\n&gt;&gt;&gt;\n</code>\n</pre>\n", "senID": 6}, {"text": ["Here is my setup after modifiying the environment variables:"], "childNum": 0, "tag": "p", "senID": 7, "childList": []}, {"code": "<pre>\n<code>\n C:&gt;path=C:\\Program Files (x86)\\Mozilla Firefox;%path%\n\nC:&gt;set BROWSER=C:\\Users\\Scott\\AppData\\Local\\Google\\Chrome\\Application\\chrome.exe\n\nC:&gt;python\nPython 2.7.1 (r271:86832, Nov 27 2010, 17:19:03) [MSC v.1500 64 bit (AMD64)] on win32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import webbrowser\n&gt;&gt;&gt; webbrowser._tryorder\n['C:\\\\Users\\\\Scott\\\\AppData\\\\Local\\\\Google\\\\Chrome\\\\Application\\\\chrome.exe',\n 'windows-default',\n 'firefox',\n 'C:\\\\Program Files\\\\Internet Explorer\\\\IEXPLORE.EXE']\n&gt;&gt;&gt; webbrowser._browsers.items()\n[('windows-default', [&lt;class 'webbrowser.WindowsDefault'&gt;, None]),\n ('c:\\\\program files\\\\internet explorer\\\\iexplore.exe',[None, &lt;webbrowser.BackgroundBrowser object at 0x000000000235E828&gt;]),\n ('firefox', [None, &lt;webbrowser.BackgroundBrowser object at 0x000000000235E780&gt;]),\n ('c:\\\\users\\\\scott\\\\appdata\\\\local\\\\google\\\\chrome\\\\application\\\\chrome.exe', [None, &lt;webbrowser.GenericBrowser object at 0x000000000235E8D0&gt;])]\n&gt;&gt;&gt;\n</code>\n</pre>\n", "senID": 8}, {"text": ["The webbrowser._tryorder gives the list of browsers tried.", "Registering chrome or adding a BROWSER env var or modifiying my path all would have gotten me the correct browser with a better error message."], "childNum": 1, "tag": "p", "senID": 9, "childList": [{"text": "webbrowser._tryorder", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"text": ["Thanks for the help guys, I couldn't have solved this without your ideas."], "childNum": 0, "tag": "p", "senID": 10, "childList": []}], [{"text": ["I have the same problem with firefox.", "http://www.google.com is opened in ff while file:///test.html is opened in IE."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "http://www.google.com", "tag": "a", "pos": 1, "childList": [], "childNum": 0, "href": "http://www.google.com"}]}, {"text": ["webbrowser doc says:"], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "webbrowser doc", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://docs.python.org/library/webbrowser.html#webbrowser.open"}]}], [{"text": ["This problem appears for me only with file:/// protocol URLs, which are probably not registered to chrome, so os.startfile() (which is the first thing webbrowser.open tries on Windows) opens them in Internet Explorer.", "I don't think putting your other browser in the PATH will help, since os.startfile() still gets invoked before even trying the browsers in the path."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "file:///", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"text": ["What you can do, is to check the default browser for http:// in the registry (for instance, by checking the registry key HKEY_CLASSES_ROOT\\http\\shell\\open\\command) and use that one for file:/// URLs.", "Not pretty, but it should work."], "childNum": 4, "tag": "p", "senID": 1, "childList": [{"text": "can", "childNum": 0, "tag": "em", "pos": 0, "childList": []}, {"text": "http://", "childNum": 0, "tag": "code", "pos": -1, "childList": []}, {"text": "HKEY_CLASSES_ROOT\\http\\shell\\open\\command", "childNum": 0, "tag": "code", "pos": -1, "childList": []}, {"text": "file:///", "childNum": 0, "tag": "code", "pos": -1, "childList": []}]}, {"code": "<pre>\n<code>\n import _winreg\nimport webbrowser\nimport shlex\nimport subprocess\n\ndef win_browser_open(url):\n    if url.startswith('file:///'):\n        browser = _winreg.QueryValue(_winreg.HKEY_CLASSES_ROOT, r'http\\shell\\open\\command')\n        browser = browser.replace('%1', url)\n        subprocess.Popen(shlex.split(browser))\n    else:\n        webbrowser.open(url)\n</code>\n</pre>\n", "senID": 2}]]