[[{"text": ["In the second example, code_that_needs_to_run_when_there_are_no_exceptions() will be ran when you do have an exception and then you handle it, continuing after the except."], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "code_that_needs_to_run_when_there_are_no_exceptions()", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "do", "childNum": 0, "tag": "strong", "childList": []}]}, {"text": ["so ..."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["In both cases code_that_needs_to_run_when_there_are_no_exceptions() will execute when there are no exceptions, but in the latter will execute when there are and are not exceptions."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["Try this on your CLI"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"code": "<pre>\n<code>\n #!/usr/bin/python\n\ndef throws_ex( raise_it=True ):\n        if raise_it:\n                raise Exception(\"Handle me\")\n\ndef do_more():\n        print \"doing more\\n\"\n\nif __name__ == \"__main__\":\n        print \"Example 1\\n\"\n        try:\n                throws_ex()\n        except Exception, e:\n                # Handle it\n                print \"Handling Exception\\n\"\n        else:\n                print \"No Exceptions\\n\"\n                do_more()\n\n        print \"example 2\\n\"\n        try:\n                throws_ex()\n        except Exception, e:\n                print \"Handling Exception\\n\"\n        do_more()\n\n        print \"example 3\\n\"\n        try:\n                throws_ex(False)\n        except Exception, e:\n                print \"Handling Exception\\n\"\n        else:\n                do_more()\n\n        print \"example 4\\n\"\n        try:\n                throws_ex(False)\n        except Exception, e:\n                print \"Handling Exception\\n\"\n        do_more()\n</code>\n</pre>\n", "senID": 4}, {"text": ["It will output"], "childNum": 0, "tag": "p", "senID": 5, "childList": []}, {"text": ["You get the idea, play around with exceptions, bubbling and other things!", "Crack out the command-line and VIM!"], "childNum": 1, "tag": "p", "senID": 6, "childList": [{"text": "play around", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}]}], [{"text": ["Actually, in the second snippet, the last line executes always."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["You probably meant"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n try:\n    some_code_that_can_cause_an_exception()\n    code_that_needs_to_run_when_there_are_no_exceptions()\nexcept:\n    some_code_to_handle_exceptions()\n</code>\n</pre>\n", "senID": 2}, {"text": ["I believe you can use theelseversion if it makes the code more readable.", "You use the else variant if you don't want to catch exceptions from code_that_needs_to_run_when_there_are_no_exceptions."], "childNum": 4, "tag": "p", "senID": 3, "childList": [{"text": "I believe you can use theelseversion if it makes the code more readable.", "childNum": 1, "tag": "strike", "pos": 0, "childList": [{"text": "else", "tag": "code"}]}, {"text": "else", "childNum": 0, "tag": "code", "pos": 1, "childList": []}, {"text": "else", "childNum": 0, "tag": "code", "childList": []}, {"text": "code_that_needs_to_run_when_there_are_no_exceptions", "childNum": 0, "tag": "code", "childList": []}]}], [{"text": ["Example 1:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n try:\n    a()\n    b()\nexcept:\n    c()\n</code>\n</pre>\n", "senID": 1}, {"text": ["Here, b() will only be run if a() didn't throw, but the except block will also catch any exceptions that may be thrown byb(), which you might not want.", "A general rule is: only catch exceptions that you know might happen (and have a way of handling).", "Therefore, if you don't know whether b() will throw, or if you can't do anything useful by catching an exception thrown by b(), then don't putb()in thetry:block."], "childNum": 9, "tag": "p", "senID": 2, "childList": [{"text": "b()", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "a()", "childNum": 0, "tag": "code", "pos": -1, "childList": []}, {"text": "thrown byb()", "childNum": 1, "tag": "em", "pos": -1, "childList": [{"text": "b()", "tag": "code"}]}, {"text": "b()", "childNum": 0, "tag": "code", "pos": 2, "childList": []}, {"text": "b()", "childNum": 0, "tag": "code", "childList": []}, {"text": "b()", "childNum": 0, "tag": "code", "childList": []}, {"text": "don't putb()in thetry:block", "childNum": 2, "tag": "em", "childList": [{"text": "b()", "tag": "code"}, {"text": "try:", "tag": "code"}]}, {"text": "b()", "childNum": 0, "tag": "code", "childList": []}, {"text": "try:", "childNum": 0, "tag": "code", "childList": []}]}, {"text": ["Example 2:"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"code": "<pre>\n<code>\n try:\n    a()\nexcept:\n    c()\nelse:\n    b()\n</code>\n</pre>\n", "senID": 4}, {"text": ["Here, b() will only be run if a() didn't throw, but any exceptions that b() throws will not be caught here and will continue to propagate up the stack.", "This is very often what you want."], "childNum": 3, "tag": "p", "senID": 5, "childList": [{"text": "b()", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "a()", "childNum": 0, "tag": "code", "pos": -1, "childList": []}, {"text": "b()", "childNum": 0, "tag": "code", "pos": -1, "childList": []}]}, {"text": ["Example 3:"], "childNum": 0, "tag": "p", "senID": 6, "childList": []}, {"code": "<pre>\n<code>\n try:\n    a()\nexcept:\n    c()\n\nb()\n</code>\n</pre>\n", "senID": 7}, {"text": ["Here, b() is always run, even if a() didn't throw anything.", "This is also quite commonly useful, of course."], "childNum": 2, "tag": "p", "senID": 8, "childList": [{"text": "b()", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "a()", "childNum": 0, "tag": "code", "pos": -1, "childList": []}]}], [{"text": ["You had the original code almost right.", "Here's the full treatment:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n try:\n    some_code_that_can_cause_an_exception()\nexcept:\n    some_code_to_handle_exceptions()\nelse:\n    code_that_needs_to_run_when_there_are_no_exceptions()\n\ncode_that_runs_whether_there_was_an_exception_or_not()\n</code>\n</pre>\n", "senID": 1}], [{"text": ["According to the docs..."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "docs", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://docs.python.org/reference/compound%5Fstmts.html"}]}, {"text": ["\"The optional else clause is executed if and when control flows off the end of the try clause.7.2 Exceptions in the else clause are not handled by the preceding except clauses."], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "\"The optional else clause is executed if and when control flows off the end of the try clause.7.2 Exceptions in the else clause are not handled by the preceding except clauses.\"", "childNum": 0, "tag": "em", "pos": -1, "childList": []}]}, {"text": ["So look at this basic example as your answer"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n try:\n  print(\"Try with Exception\")\n  print(sys.path)\nexcept NameError:\n  print \"Exception\"\nelse:\n  print \"Else\"\n\nprint(\"Out of try/except block\")\n\ntry:\n  print(\"Try without Exception\")\nexcept NameError:\n  print \"Exception\"\nelse:\n  print \"Else is now executed\"\n\nprint(\"Out of try/except finally\")\n</code>\n</pre>\n", "senID": 3}, {"text": ["See how the else got executed when the exception didn't occur.  "], "childNum": 0, "tag": "p", "senID": 4, "childList": []}], [{"text": ["I use try:..except:..else: a lot!"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["This is the pattern: try..except should span just one line of code where I anticipate an exception.", "Then except does the fallback/default handling, and else: does the thing I really wanted to do (no exceptions => go on to make what I wanted)."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["A simple example:"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n # Exhibit 1\n   data_paths = []\n   try:\n       from . import version_subst\n   except ImportError:\n       first_datadir = \"./data\"\n   else:\n       first_datadir = os.path.join(version_subst.DATADIR, PACKAGE_NAME)\n\n\n# Exhibit 2\nfor attr in attrs:\n    try:\n        obj = getattr(plugin, attr)\n    except AttributeError, e:\n        if warn:\n            pretty.print_info(__name__, \"Plugin %s: %s\" % (plugin_name, e))\n        yield None\n    else:\n        yield obj\n</code>\n</pre>\n", "senID": 3}], [{"text": ["I haven't been using Python for all that long, but I try to handle specific exceptions in a try block, and use else to handle the \"other\" exceptions I might not have expected, similar to a default block in C/C++ switch blocks.", "Is that an appropriate use for else as well?"], "childNum": 5, "tag": "p", "senID": 0, "childList": [{"text": "try", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "else", "childNum": 0, "tag": "code", "pos": 1, "childList": []}, {"text": "default", "childNum": 0, "tag": "code", "childList": []}, {"text": "switch", "childNum": 0, "tag": "code", "childList": []}, {"text": "else", "childNum": 0, "tag": "code", "childList": []}]}]]