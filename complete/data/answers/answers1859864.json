[[{"text": ["two ways:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n x = [0] * 10\nx = [0 for i in xrange(10)]\n</code>\n</pre>\n", "senID": 1}, {"text": ["Edit: replaced range by xrange to avoid creating another list."], "childNum": 2, "tag": "p", "senID": 2, "childList": [{"text": "range", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "xrange", "childNum": 0, "tag": "code", "childList": []}]}, {"text": ["Also: as many others have noted including Pi and Ben James, this creates a list, not a Python array.", "While a list is in many cases sufficient and easy enough, for performance critical uses (e.g.", "when duplicated in thousands of objects) you could look into python arrays.", "Look up the array module, as explained in the other answers in this thread."], "childNum": 2, "tag": "p", "senID": 3, "childList": [{"text": "list", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "array", "childNum": 0, "tag": "code", "pos": 2, "childList": []}]}], [{"text": ["Use the array module.", "With it you can store collections of the same type efficiently."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "array", "childNum": 0, "tag": "em", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; import array\n&gt;&gt;&gt; import itertools\n&gt;&gt;&gt; a = array_of_signed_ints = array.array(\"i\", itertools.repeat(0, 10))\n</code>\n</pre>\n", "senID": 1}, {"text": ["For more information - e.g.", "different types, look at the documentation of the array module.", "For up to 1 million entries this should feel pretty snappy.", "For 10 million entries my local machine thinks for 1.5 seconds. "], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "the documentation of the array module", "tag": "a", "pos": 1, "childList": [], "childNum": 0, "href": "http://docs.python.org/library/array.html"}]}, {"text": ["The second parameter to array.array is a generator, which constructs the defined sequence as it is read.", "This way, the array module can consume the zeros one-by-one, but the generator only uses constant memory.", "This generator does not get bigger (memory-wise) if the sequence gets longer.", "The array will grow of course, but that should be obvious."], "childNum": 2, "tag": "p", "senID": 3, "childList": [{"text": "array.array", "childNum": 0, "tag": "em", "pos": 0, "childList": []}, {"text": "generator", "childNum": 0, "tag": "em", "pos": 1, "childList": []}]}, {"text": ["You use it just like a list:"], "childNum": 0, "tag": "p", "senID": 4, "childList": []}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; a.append(1)\n&gt;&gt;&gt; a.extend([1, 2, 3])\n&gt;&gt;&gt; a[-4:]\narray('i', [1, 1, 2, 3])\n&gt;&gt;&gt; len(a)\n14\n</code>\n</pre>\n", "senID": 5}, {"text": ["...or simply convert it to a list:"], "childNum": 0, "tag": "p", "senID": 6, "childList": []}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; l = list(a)\n&gt;&gt;&gt; len(l)\n14\n</code>\n</pre>\n", "senID": 7}, {"text": ["Surprisingly"], "childNum": 0, "tag": "p", "senID": 8, "childList": []}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; a = [0] * 10000000\n</code>\n</pre>\n", "senID": 9}, {"text": ["is faster at construction than the array method.", "Go figure!", ":)"], "childNum": 0, "tag": "p", "senID": 10, "childList": []}], [{"code": "<pre>\n<code>\n &gt;&gt;&gt; a = [0] * 10\n&gt;&gt;&gt; a\n[0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n</code>\n</pre>\n", "senID": 0}], [{"code": "<pre>\n<code>\n a = 10 * [0]\n</code>\n</pre>\n", "senID": 0}, {"text": ["gives you an array of length 10, filled with zeroes."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}], [{"text": ["If you are not satisfied with lists (because they can contain anything and take up too much memory) you can use efficient array of integers:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n array.array('i')\n</code>\n</pre>\n", "senID": 1}, {"text": ["See here"], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "here", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://docs.python.org/library/array.html"}]}, {"text": ["If you need to initialize it, "], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"code": "<pre>\n<code>\n a=array.array('i',(0 for i in range(0,10)))\n</code>\n</pre>\n", "senID": 4}], [{"code": "<pre>\n<code>\n import random\n\ndef random_zeroes(max_size):\n  \"Create a list of zeros for a random size (up to max_size).\"\n  a = []\n  for i in xrange(random.randrange(max_size)):\n    a += [0]\n</code>\n</pre>\n", "senID": 0}, {"text": ["Use range instead if you are using Python 3.x."], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "range", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}], [{"text": ["If you need to initialize an array fast, you might do it by blocks instead of with a generator initializer, and it's going to be much faster.", "Creating a list by [0]*count is just as fast, still."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "[0]*count", "childNum": 0, "tag": "code", "pos": 1, "childList": []}]}, {"code": "<pre>\n<code>\n import array\n\ndef zerofill(arr, count):\n    count *= arr.itemsize\n    blocksize = 1024\n    blocks, rest = divmod(count, blocksize)\n    for _ in xrange(blocks):\n        arr.fromstring(\"\\x00\"*blocksize)\n    arr.fromstring(\"\\x00\"*rest)\n\ndef test_zerofill(count):\n    iarr = array.array('i')\n    zerofill(iarr, count)\n    assert len(iarr) == count\n\ndef test_generator(count):\n    iarr = array.array('i', (0 for _ in xrange(count)))\n    assert len(iarr) == count\n\ndef test_list(count):\n    L = [0]*count\n    assert len(L) == count\n\nif __name__ == '__main__':\n    import timeit\n    c = 100000\n    n = 10\n    print timeit.Timer(\"test(c)\", \"from __main__ import c, test_zerofill as test\").repeat(number=n)\n    print timeit.Timer(\"test(c)\", \"from __main__ import c, test_generator as test\").repeat(number=n)\n    print timeit.Timer(\"test(c)\", \"from __main__ import c, test_list as test\").repeat(number=n)\n</code>\n</pre>\n", "senID": 1}, {"text": ["Results:"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n (array in blocks) [0.022809982299804688, 0.014942169189453125, 0.014089107513427734]\n(array with generator) [1.1884641647338867, 1.1728270053863525, 1.1622772216796875]\n(list) [0.023866891860961914, 0.035660028457641602, 0.023386955261230469]\n</code>\n</pre>\n", "senID": 3}]]