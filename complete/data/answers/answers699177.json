[[{"text": ["Don't worry: Of course it saves the count and thus len() on lists is a pretty cheap operation.", "Same is true for strings, dictionaries and sets, by the way!"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "len()", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}], [{"text": ["And one more way to find out how it's done is to look it up on Google Code Search, if you don't want to download the source yourself."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "to look it up on Google Code Search", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://www.google.com/codesearch/p?hl=en#ggVSD6_h0Ho/Python-2.5/Objects/listobject.c&q=package:python-2.5%20listobject.c%20lang:c&l=370"}]}, {"code": "<pre>\n<code>\n static Py_ssize_t list_length(PyListObject *a)\n{\n    return a-&gt;ob_size;\n}\n</code>\n</pre>\n", "senID": 1}], [{"text": ["Write your program so that it's optimised for clarity and easily maintainable.", "Is your program clearer with a call to \u2018len(foo)\u2019?", "Then do that."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "optimised for clarity and easily maintainable", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}]}, {"text": ["Are you worried about the time taken?", "Use the \u2018timeit\u2019 module in the standard library to measure the time taken, and see whether it is significant in your code."], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "measure", "childNum": 0, "tag": "em", "pos": 1, "childList": []}]}, {"text": ["You will, like most people, very likely be wrong in your guesses about which parts of your program are slowest."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["Remember that premature optimisation is the root of all evil, in the words of Donald Knuth.", "Only focus on the speed of code that you have measured the speed of, to know whether it's worth the cost of changing how it works."], "childNum": 2, "tag": "p", "senID": 3, "childList": [{"text": "premature optimisation is the root of all evil", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}, {"text": "measured", "childNum": 0, "tag": "em", "pos": 1, "childList": []}]}], [{"text": ["lenis an O(1) operation."], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "lenis an O(1) operation", "tag": "a", "pos": 0, "childList": [{"text": "len", "tag": "code"}], "childNum": 1, "href": "http://books.google.com/books?id=JnR9hQA3SncC&pg=PA478&dq=Python%2Blen%2Bbig%2BO&ei=JUbRSYPqGofqkwTy9%5FihAQ"}, {"text": "len", "childNum": 0, "tag": "code", "childList": []}]}], [{"text": ["A Python \"list\" is really a resizeable array, not a linked list, so it stores the size somewhere."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["The question has been answered (len is O(1)), but here's how you can check for yourself:"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "len", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n $ python -m timeit -s \"l = range(10)\" \"len(l)\"\n10000000 loops, best of 3: 0.119 usec per loop\n$ python -m timeit -s \"l = range(1000000)\" \"len(l)\"\n10000000 loops, best of 3: 0.131 usec per loop\n</code>\n</pre>\n", "senID": 1}, {"text": ["Yep, not really slower."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["It has to store the length somewhere, so you aren't counting the number of items every time."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}]]