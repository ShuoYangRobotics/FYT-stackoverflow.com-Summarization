[[{"text": ["Let me explain a little what you do here."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["If you write:"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n NumPFCs = eval(line[2])\n</code>\n</pre>\n", "senID": 2}, {"text": ["the order of evaluation is:"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"tag": "ul", "num": 2, "lis": [{"text": "take the second character of the string line, i.e. a quote '\"'", "tag": "none", "senID": 4}, {"text": "eval this quote as a python expression, which is an error.", "tag": "none", "senID": 5}]}, {"text": ["If you write it instead as:"], "childNum": 0, "tag": "p", "senID": 6, "childList": []}, {"code": "<pre>\n<code>\n NumPFCs = eval(line)[2]\n</code>\n</pre>\n", "senID": 7}, {"text": ["then the order of evaluation is:"], "childNum": 0, "tag": "p", "senID": 8, "childList": []}, {"tag": "ul", "num": 3, "lis": [{"text": "eval the line, producing a python list", "tag": "none", "senID": 9}, {"text": "take the second element of that list, which is a one-character string: \"0\"", "tag": "none", "senID": 10}, {"text": "a string cannot be compared with a number; this is an error too.", "tag": "none", "senID": 11}]}, {"text": ["In your terms, you want to do the following:"], "childNum": 0, "tag": "p", "senID": 12, "childList": []}, {"code": "<pre>\n<code>\n NumPFCs = eval(eval(line)[2])\n</code>\n</pre>\n", "senID": 13}, {"text": ["or, slightly better, compare NumPFCs to a string:"], "childNum": 0, "tag": "p", "senID": 14, "childList": []}, {"code": "<pre>\n<code>\n if NumPFCs == \"0\":\n</code>\n</pre>\n", "senID": 15}, {"text": ["but the ways this could go wrong are almost innumerable.", "You should forget about eval and try to use other methods: string splitting, regular expressions etc.", "Others have already provided some suggestions, and I'm sure more will follow."], "childNum": 1, "tag": "p", "senID": 16, "childList": [{"text": "eval", "childNum": 0, "tag": "code", "pos": 1, "childList": []}]}], [{"text": ["Your question is kind of hard to read, but using eval there is definitely not a good idea.", "Either just do a direct string comparison:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n line=TcsLine.split(\",\")\nif line[2] == \"0\":\n    print line\n</code>\n</pre>\n", "senID": 1}, {"text": ["or use int"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n line=TcsLine.split(\",\")\nif int(line[2]) == 0:\n    print line\n</code>\n</pre>\n", "senID": 3}, {"text": ["Either way, your bad data will fail you."], "childNum": 0, "tag": "p", "senID": 4, "childList": []}, {"text": ["I'd also recomment reading PEP 8."], "childNum": 1, "tag": "p", "senID": 5, "childList": [{"text": "PEP 8", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://www.python.org/dev/peps/pep-0008/"}]}], [{"text": ["There are a few issues I see in your code segment:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["This is a safer way to do this"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n line=TcsLine.split(\",\")\nif len(line) &gt;=3 and line[2].rfind(\"0\") != -1:\n     print line\n</code>\n</pre>\n", "senID": 2}], [{"text": ["I'd recommend using a regular expression to capture all of the variants of how 0 can be specified: with double-quotes, without any quotes, with single quotes, with extra whitespace outside the quotes, with whitespace inside the quotes, how you want the square brackets handled, etc."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["There are many ways of skinning a cat, as it were :)"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["Before we begin though, don't use eval on strings that are not yours so if the string has ever left your program; i.e.", "it has stayed in a file, sent over a network, someone can send in something nasty.", "And if someone can, you can be sure someone will."], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "don't use eval on strings that are not yours", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}]}, {"text": ["And you might want to look over your data format.", "Putting strings like [\"baa\",\"beee\",\"0\", \"\\n\"] in a file does not make much sense to me."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["The first and simplest way would be to just strip away the stuff you don't need and to a string comparison.", "This would work as long as the '0'-string always looks the same and you're not really after the integer value 0, only the character pattern:"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"code": "<pre>\n<code>\n TcsLine = '[\"baa\",\"beee\",\"0\"]'\n\nline = TcsLine.strip('[]').split(\",\")\nif line[2] == '\"0\"':\n   print line\n</code>\n</pre>\n", "senID": 4}, {"tag": "hr", "senID": 5}, {"text": ["The second way would be to similar to the first except that we cast the numeric string to an integer, yielding the integer value you were looking for (but printing 'line' without all the quotation marks):"], "childNum": 0, "tag": "p", "senID": 6, "childList": []}, {"code": "<pre>\n<code>\n TcsLine = '[\"baa\",\"beee\",\"0\"]'\n\nline = [e.strip('\"') for e in TcsLine.strip('[]').split(\",\")]\nNumPFCs = int(line[2])\nif NumPFCs==0:\n   print line\n</code>\n</pre>\n", "senID": 7}, {"tag": "hr", "senID": 8}, {"text": ["Could it be that the string is actually a json array?", "Then I would probably go get simplejson to parse it properly if I were running Python&lt;2.6 or just import json on Python>=2.6.", "Then cast the resulting '0'-string to an integer as in the previous example."], "childNum": 1, "tag": "p", "senID": 9, "childList": [{"text": "simplejson", "tag": "a", "pos": 1, "childList": [], "childNum": 0, "href": "http://pypi.python.org/pypi/simplejson"}]}, {"code": "<pre>\n<code>\n TcsLine = '[\"baa\",\"beee\",\"0\"]'\n\n#import json # for &gt;= Python2.6\nimport simplejson as json # for &lt;Python2.6\n\nline = json.loads(TcsLine)\nNumPFCs = int(line[2])\nif NumPFCs==0:\n   print line\n</code>\n</pre>\n", "senID": 10}], [{"text": ["thanks a lot for your help guys."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["Actually the: if NumPFCs == \"0\": "], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["solve the problem.", "But I think I can do that even better using regulas expressions..."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["But...", "I don't understand much about regulas expressions.", "Can you please tell me where can \nI read something really good to learn Regular Expressions?"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"text": ["Thanks"], "childNum": 0, "tag": "p", "senID": 4, "childList": []}]]