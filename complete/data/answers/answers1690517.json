[[{"code": "<pre>\n>>> def foo(): return dict(a=1)\n...\n>>> def bar(): return {'a':1}\n...\n>>> import dis\n>>> dis.dis(foo)\n  1           0 LOAD_GLOBAL              0 (dict)\n              3 LOAD_CONST               1 ('a')\n              6 LOAD_CONST               2 (1)\n              9 CALL_FUNCTION          256\n             12 RETURN_VALUE\n>>> dis.dis(bar)\n  1           0 BUILD_MAP                1\n              3 LOAD_CONST               1 (1)\n              6 LOAD_CONST               2 ('a')\n              9 STORE_MAP\n             10 RETURN_VALUE\n>>> import timeit\n>>> timeit.Timer(foo).timeit()\n0.76093816757202148\n>>> timeit.Timer(bar).timeit()\n0.31897807121276855\n</pre>\n", "senID": 0}, {"text": ["There is no functional difference, but the latter is more efficient."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}], [{"text": ["They are semantically identical.  "], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["The dict( param=value, ... ) notation limits your keys to strings which are valid python identifiers."], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "dict( param=value, ... )", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"text": ["The dict( sequence-of-2-tuples ) is effectively the same as {}."], "childNum": 2, "tag": "p", "senID": 2, "childList": [{"text": "dict( sequence-of-2-tuples )", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "{}", "childNum": 0, "tag": "code", "childList": []}]}, {"text": ["The {} notation places no limits on the keys.", "Except that they be hashable objects."], "childNum": 1, "tag": "p", "senID": 3, "childList": [{"text": "{}", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"text": ["There are performance differences."], "childNum": 0, "tag": "p", "senID": 4, "childList": []}], [{"text": ["{somekey:somevalue} can only be used as a literal, it doesn't allow any looping inside the brackets."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "{somekey:somevalue}", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"text": ["dict takes **kwargs, which means you can for example do dict( **locals() ).", "dict(somekey=somevalue) is just a nice shortcut when you don't want to type quotes and braces. "], "childNum": 4, "tag": "p", "senID": 1, "childList": [{"text": "dict", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "**kwargs", "childNum": 0, "tag": "code", "pos": -1, "childList": []}, {"text": "dict( **locals() )", "childNum": 0, "tag": "code", "pos": -1, "childList": []}, {"text": "dict(somekey=somevalue)", "childNum": 0, "tag": "code", "pos": 1, "childList": []}]}, {"text": ["There is a third dict constructor too, dict([(key,val),(key2,val2)]).", "Its the most powerful and often used with zip"], "childNum": 2, "tag": "p", "senID": 2, "childList": [{"text": "dict([(key,val),(key2,val2)])", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "zip", "childNum": 0, "tag": "code", "pos": 1, "childList": []}]}], [{"text": ["Python is dynamic -- so you can redefine what 'dict' means in any of your scopes, while Python's syntax is absolutely nonprogrammable.", "Thus the Python parser can conclude, when it sees the curly braces, that it must build a dict.", "A dict(..) expression must always be evaluated like any other function call; lookup the name, build argument tuple etc."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "dict(..)", "childNum": 0, "tag": "code", "pos": 2, "childList": []}]}, {"text": ["In effect, using container literals like the {} curly braces is the closest you can come to static type declarations in Python."], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "{}", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"text": ["I think this has influenced the Python 3 decision to introduce set literals like s = {1,2,3}."], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "s = {1,2,3}", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"tag": "hr", "senID": 3}, {"text": ["It does happen that programmers reassign python builtins!", "I think this is mostly by mistake, and mostly limited to local variables (and Python's namespaces make sure it can't do too much harm!", ") Here is a Google Code Search for code reassigningdict.", "I think the strangest example is dict = dict(); by that point, it should be obvious what you are doing!"], "childNum": 3, "tag": "p", "senID": 4, "childList": [{"text": "Here is a Google Code Search for code reassigningdict", "tag": "a", "pos": 2, "childList": [{"text": "dict", "tag": "code"}], "childNum": 1, "href": "http://www.google.com/codesearch?hl=en&sa=N&q=%22dict+%3D%22++lang%3Apython&ct=rr&cs%5Fr=lang%3Apython"}, {"text": "dict", "childNum": 0, "tag": "code", "pos": 3, "childList": []}, {"text": "dict = dict()", "childNum": 0, "tag": "code", "childList": []}]}, {"text": ["That it's possible to do this doesn't mean you should do it.", "Yes, for example thinking that dict should really be called hash in python and swapping out the other builtin called hash is not something you should do:"], "childNum": 1, "tag": "p", "senID": 5, "childList": [{"text": "hash", "childNum": 0, "tag": "code", "pos": 1, "childList": []}]}, {"code": "<pre>\n<code>\n hash, checksum = dict, hash\n</code>\n</pre>\n", "senID": 6}, {"text": [":-)"], "childNum": 0, "tag": "p", "senID": 7, "childList": []}, {"text": ["An example of code that does this is found right in the Python standard library.", "That's right, here is from line 92 of shelve.py:"], "childNum": 0, "tag": "p", "senID": 8, "childList": []}, {"code": "<pre>\n<code>\n def __init__(self, dict, protocol=None, writeback=False):\n    self.dict = dict\n    if protocol is None:\n        protocol = 0\n    self._protocol = protocol\n    self.writeback = writeback\n    self.cache = {}\n</code>\n</pre>\n", "senID": 9}, {"text": ["This is a very typical example; dict is used as a method argument, and no-one notices and it does no harm, since the method is very short.", "Use syntax highlighting for builtins to catch this, is my suggestion."], "childNum": 0, "tag": "p", "senID": 10, "childList": []}], [{"text": ["The curly braces are a syntaxtic nicity, so the only benefit is can more clearly express the structure of the dict.  "], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["dict(somekey=somevalue) is exactly the same as {'somekey': somevalue}.", "(Your two examples, then, aren't quite quivalent\u2014in the first case the key is the string 'somekey' as the key and in the second it is whatever somekey is.", ") It is generally nicer just to use dict literals unless you are avoiding typing all the quotes."], "childNum": 3, "tag": "p", "senID": 0, "childList": [{"text": "dict(somekey=somevalue)", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "{'somekey': somevalue}", "childNum": 0, "tag": "code", "pos": -1, "childList": []}, {"text": "'somekey'", "childNum": 0, "tag": "code", "pos": 1, "childList": []}]}]]