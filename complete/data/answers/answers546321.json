[[{"text": ["I found this solution to be good."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n from datetime import date\nfrom dateutil.relativedelta import relativedelta\n\nsix_months = date.now() + relativedelta( months = +6 )\n</code>\n</pre>\n", "senID": 1}, {"text": ["The advantage of this approach is that it takes care of issues with 28,30,31 days etc.", "This becomes very useful in handling business rules and scenarios (say invoice generation etc."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n $ date(2010,12,31)+relativedelta(months=+1)\n  datetime.date(2011, 1, 31)\n\n$ date(2010,12,31)+relativedelta(months=+2)\n  datetime.date(2011, 2, 28)\n</code>\n</pre>\n", "senID": 3}], [{"text": ["Well, that depends what you mean by 6 months from the current date."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["1) natural months, "], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n (day,month,year) = (day,(month+6)%12,year+(month+6)/12)\n</code>\n</pre>\n", "senID": 2}, {"text": ["2) bankers definition, 6*30"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"code": "<pre>\n<code>\n date += datetime.timedelta(6*30)\n</code>\n</pre>\n", "senID": 4}], [{"code": "<pre>\n<code>\n import datetime\nprint (datetime.date.today() + datetime.timedelta(6*365/12)).isoformat()\n</code>\n</pre>\n", "senID": 0}], [{"text": ["What do you mean by '6 months'.", "Is 2009-02-13 + 6 months == 2009-08-13 or is it 2009-02-13 + 6*30 days?"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n import mx.DateTime as dt\n\n#6 Months\ndt.now()+dt.RelativeDateTime(months=6)\n#result is '2009-08-13 16:28:00.84'\n\n#6*30 days\ndt.now()+dt.RelativeDateTime(days=30*6)\n#result is '2009-08-12 16:30:03.35'\n</code>\n</pre>\n", "senID": 1}, {"text": ["More info about mx.DateTime"], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "mx.DateTime", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://www.egenix.com/products/python/mxBase/mxDateTime/"}]}], [{"text": ["Just use the timetuple method to extract the months, add your months and build a new dateobject.", "If there is a already existing method for this I do not know it."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "timetuple", "childNum": 0, "tag": "em", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n import datetime\n\ndef in_the_future(months=1):\n    year, month, day = datetime.date.today().timetuple()[:3]\n    new_month = month + months\n    return datetime.date(year + (new_month / 12), new_month % 12, day)\n</code>\n</pre>\n", "senID": 1}, {"text": ["The API is a bit clumsy, but works as an example.", "Will also obviously not work on corner-cases like 2008-01-31 + 1 month.", ":)"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["Dateutil package has implementation of such functionality.", "But be aware, that this will be naive, as others pointed already."], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "Dateutil package", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://labix.org/python-dateutil"}, {"text": "naive", "childNum": 0, "tag": "em", "pos": 1, "childList": []}]}], [{"text": ["There's no direct way to do it with Python's datetime."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["Check out the relativedelta type at python-dateutil.", "It allows you to specify a  time delta in months."], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "python-dateutil", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://labix.org/python-dateutil#head-ba5ffd4df8111d1b83fc194b97ebecf837add454"}]}], [{"text": ["Use the python datetime module to add a timedelta of six months to datetime.today() ."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["http://docs.python.org/library/datetime.html"], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "http://docs.python.org/library/datetime.html", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://docs.python.org/library/datetime.html"}]}, {"text": ["You will of course have to solve the issue raised by Johannes Wei\u00df-- what do you mean by 6 months?"], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "do", "childNum": 0, "tag": "em", "pos": 0, "childList": []}]}], [{"text": ["This solution works correctly for December, which most of the answers on this page do not.", "You need to first shift the months from base 1 (ie Jan = 1) to base 0 (ie Jan = 0) before using modulus ( % ) or integer division ( // ), otherwise November (11) plus 1 month gives you 12, which when finding the remainder ( 12 % 12 ) gives 0."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["(And dont suggest \"(month % 12) + 1\" or Oct + 1 = december!"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n def AddMonths(d,x):\n    newmonth = ((( d.month - 1) + x ) % 12 ) + 1\n    newyear  = d.year + ((( d.month - 1) + x ) // 12 ) \n    return datetime.date( newyear, newmonth, d.day)\n</code>\n</pre>\n", "senID": 2}, {"text": ["However ...", "This doesnt account for problem like Jan 31 + one month.", "So we go back to the OP - what do you mean by adding a month?", "One soln is to backtrack until you get to a valid day, given that most people would presume the last day of jan, plus one month, equals the last day of Feb.", "This will work on negative numbers of months too.", "Proof:"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; import datetime\n&gt;&gt;&gt; AddMonths(datetime.datetime(2010,8,25),1)\ndatetime.date(2010, 9, 25)\n&gt;&gt;&gt; AddMonths(datetime.datetime(2010,8,25),4)\ndatetime.date(2010, 12, 25)\n&gt;&gt;&gt; AddMonths(datetime.datetime(2010,8,25),5)\ndatetime.date(2011, 1, 25)\n&gt;&gt;&gt; AddMonths(datetime.datetime(2010,8,25),13)\ndatetime.date(2011, 9, 25)\n&gt;&gt;&gt; AddMonths(datetime.datetime(2010,8,25),24)\ndatetime.date(2012, 8, 25)\n&gt;&gt;&gt; AddMonths(datetime.datetime(2010,8,25),-1)\ndatetime.date(2010, 7, 25)\n&gt;&gt;&gt; AddMonths(datetime.datetime(2010,8,25),0)\ndatetime.date(2010, 8, 25)\n&gt;&gt;&gt; AddMonths(datetime.datetime(2010,8,25),-12)\ndatetime.date(2009, 8, 25)\n&gt;&gt;&gt; AddMonths(datetime.datetime(2010,8,25),-8)\ndatetime.date(2009, 12, 25)\n&gt;&gt;&gt; AddMonths(datetime.datetime(2010,8,25),-7)\ndatetime.date(2010, 1, 25)&gt;&gt;&gt;\n</code>\n</pre>\n", "senID": 4}], [{"text": ["I know this was for 6 months, however the answer shows in google for \"adding months in python\" if you are adding one month:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n import calendar\n\ndate = datetime.date.today()    //Or your date\n\ndatetime.timedelta(days=calendar.monthrange(date.year,date.month)[1])\n</code>\n</pre>\n", "senID": 1}, {"text": ["this would count the days in the current month and add them to the current date, using 365/12 would ad 1/12 of a year can causes issues for short / long months if your iterating over the date."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["The QDate class of PyQt4 has an addmonths function."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n &gt;&gt;&gt;from PyQt4.QtCore import QDate  \n&gt;&gt;&gt;dt = QDate(2009,12,31)  \n&gt;&gt;&gt;required = dt.addMonths(6) \n\n&gt;&gt;&gt;required\nPyQt4.QtCore.QDate(2010, 6, 30)\n\n&gt;&gt;&gt;required.toPyDate()\ndatetime.date(2010, 6, 30)\n</code>\n</pre>\n", "senID": 1}], [{"text": ["So, here is an example of the dateutil.relativedelta which I found useful for iterating through the past year, skipping a month each time to the present date:"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "dateutil.relativedelta", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; import datetime\n&gt;&gt;&gt; from dateutil.relativedelta import relativedelta\n&gt;&gt;&gt; today = datetime.datetime.today()\n&gt;&gt;&gt; month_count = 0\n&gt;&gt;&gt; while month_count &lt; 12:\n...  day = today - relativedelta(months=month_count)\n...  print day\n...  month_count += 1\n... \n2010-07-07 10:51:45.187968\n2010-06-07 10:51:45.187968\n2010-05-07 10:51:45.187968\n2010-04-07 10:51:45.187968\n2010-03-07 10:51:45.187968\n2010-02-07 10:51:45.187968\n2010-01-07 10:51:45.187968\n2009-12-07 10:51:45.187968\n2009-11-07 10:51:45.187968\n2009-10-07 10:51:45.187968\n2009-09-07 10:51:45.187968\n2009-08-07 10:51:45.187968\n</code>\n</pre>\n", "senID": 1}, {"text": ["As with the other answers, you have to figure out what you actually mean by \"6 months from now.", "\"  If you mean \"today's day of the month in the month six years in the future\" then this would do:"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n datetime.datetime.now() + relativedelta(months=6)\n</code>\n</pre>\n", "senID": 3}], [{"text": ["I solved this problem like this:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n import calendar\nfrom datetime import datetime\nmoths2add = 6\nnow = datetime.now()\ncurrent_year = now.year\ncurrent_month = now.month\n#count days in months you want to add using calendar module\ndays = sum(\n  [calendar.monthrange(current_year, elem)[1] for elem in range(current_month, current_month + moths)]\n    )\nprint now + days\n</code>\n</pre>\n", "senID": 1}], [{"text": ["This is what I came up with.", "It moves the correct number of months and years but ignores days (which was what I needed in my situation)."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n import datetime\n\nmonth_dt = 4\ntoday = datetime.date.today()\ny,m = today.year, today.month\nm += month_dt-1\nyear_dt = m//12\nnew_month = m%12\nnew_date = datetime.date(y+year_dt, new_month+1, 1)\n</code>\n</pre>\n", "senID": 1}], [{"text": ["I use this function to change year and month but keep day:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n def replace_month_year(date1, year2, month2):\n    try:\n        date2 = date1.replace(month = month2, year = year2)\n    except:\n        date2 = datetime.date(year2, month2 + 1, 1) - datetime.timedelta(days=1)\n    return date2\n</code>\n</pre>\n", "senID": 1}, {"text": ["You should write:"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n new_year = my_date.year + (my_date.month + 6) / 12\nnew_month = (my_date.month + 6) % 12\nnew_date = replace_month_year(my_date, new_year, new_month)\n</code>\n</pre>\n", "senID": 3}], [{"text": ["I think it would be safer to do something like this instead of manually adding days:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n import datetime\ntoday = datetime.date.today()\n\ndef addMonths(dt, months = 0):\n    new_month = months + dt.month\n    year_inc = 0\n    if new_month&gt;12:\n        year_inc +=1\n        new_month -=12\n    return dt.replace(month = new_month, year = dt.year+year_inc)\n\nnewdate = addMonths(today, 6)\n</code>\n</pre>\n", "senID": 1}], [{"code": "<pre>\n<code>\n import datetime\n\n\n'''\nCreated on 2011-03-09\n\n@author: tonydiep\n'''\n\ndef add_business_months(start_date, months_to_add):\n    \"\"\"\n    Add months in the way business people think of months. \n    Jan 31, 2011 + 1 month = Feb 28, 2011 to business people\n    Method: Add the number of months, roll back the date until it becomes a valid date\n    \"\"\"\n    # determine year\n    years_change = months_to_add / 12\n\n    # determine if there is carryover from adding months\n    if (start_date.month + (months_to_add % 12) &gt; 12 ):\n        years_change = years_change + 1\n\n    new_year = start_date.year + years_change\n\n    # determine month\n    work = months_to_add % 12\n    if 0 == work:\n        new_month = start_date.month\n    else:\n        new_month = (start_date.month + (work % 12)) % 12\n\n    if 0 == new_month:\n        new_month = 12 \n\n    # determine day of the month\n    new_day = start_date.day\n    if(new_day in [31, 30, 29, 28]):\n        #user means end of the month\n        new_day = 31\n\n\n    new_date = None\n    while (None == new_date and 27 &lt; new_day):\n        try:\n            new_date = start_date.replace(year=new_year, month=new_month, day=new_day)\n        except:\n            new_day = new_day - 1   #wind down until we get to a valid date\n\n    return new_date\n\n\nif __name__ == '__main__':\n    #tests\n    dates = [datetime.date(2011, 1, 31),\n             datetime.date(2011, 2, 28),\n             datetime.date(2011, 3, 28),\n             datetime.date(2011, 4, 28),\n             datetime.date(2011, 5, 28),\n             datetime.date(2011, 6, 28),\n             datetime.date(2011, 7, 28),\n             datetime.date(2011, 8, 28),\n             datetime.date(2011, 9, 28),\n             datetime.date(2011, 10, 28),\n             datetime.date(2011, 11, 28),\n             datetime.date(2011, 12, 28),\n             ]\n    months = range(1, 24)\n    for start_date in dates:\n        for m in months:\n            end_date = add_business_months(start_date, m)\n            print(\"%s\\t%s\\t%s\" %(start_date, end_date, m))\n</code>\n</pre>\n", "senID": 0}], [{"text": ["my modification to tony diep's answer, possibly marginally more elegant:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n def add_months(date, months):\n    month = date.month + months - 1\n    year = date.year + (month / 12)\n    month = (month % 12) + 1\n    day = date.day\n    while (day &gt; 0):\n        try:\n            new_date = date.replace(year=year, month=month, day=day)\n            break\n        except:\n            day = day - 1    \n    return new_date\n</code>\n</pre>\n", "senID": 1}, {"text": ["adds months according to a business needs interpretation"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["I have a better way to solve the 'February 31st' problem:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n def add_months(start_date, months):\n    import calendar\n\n    year = start_date.year + (months / 12)\n    month = start_date.month + (months % 12)\n    day = start_date.day\n\n    if month &gt; 12:\n        month = month % 12\n        year = year + 1\n\n    days_next = calendar.monthrange(year, month)[1]\n    if day &gt; days_next:\n        day = days_next\n\n    return start_date.replace(year, month, day)\n</code>\n</pre>\n", "senID": 1}, {"text": ["I think that it also works with negative numbers (to subtract months), but I haven't tested this very much."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["Modified the AddMonths() for use in Zope and handling invalid day numbers:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n def AddMonths(d,x):\n    days_of_month = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\n    newmonth = ((( d.month() - 1) + x ) % 12 ) + 1\n    newyear  = d.year() + ((( d.month() - 1) + x ) // 12 ) \n    if d.day() &gt; days_of_month[newmonth-1]:\n      newday = days_of_month[newmonth-1]\n    else:\n      newday = d.day() \n    return DateTime( newyear, newmonth, newday)\n</code>\n</pre>\n", "senID": 1}], [{"code": "<pre>\n<code>\n import time\n\ndef add_month(start_time, months):  \n\n        ret = time.strptime(start_time, '%Y-%m-%d')\n        t = list(ret)\n\n        t[1] += months\n\n        if t[1] &gt; 12:\n            t[0] += 1 + int(months / 12)\n\n            t[1] %= 12\n\n        return int(time.mktime(tuple(t)))\n</code>\n</pre>\n", "senID": 0}], [{"text": ["Rework of an earlier answer by user417751.", "Maybe not so pythonic way, but it takes care of different month lengths and leap years.", "In this case 31 January 2012 + 1 month = 29 February 2012. "], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n import datetime\nimport calendar\n\ndef add_mths(d, x):\n    newday = d.day\n    newmonth = (((d.month - 1) + x) % 12) + 1\n    newyear  = d.year + (((d.month - 1) + x) // 12)\n    if newday &gt; calendar.mdays[newmonth]:\n        newday = calendar.mdays[newmonth]\n        if newyear % 4 == 0 and newmonth == 2:\n            newday += 1\n    return datetime.date(newyear, newmonth, newday)\n</code>\n</pre>\n", "senID": 1}], [{"text": ["Modified Johannes Wei's answer in the case 1new_month = 121.", "This works perfectly for me.", "The months could be positive or negative."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n def addMonth(d,months=1):\n    year, month, day = d.timetuple()[:3]\n    new_month = month + months\n    return datetime.date(year + ((new_month-1) / 12), (new_month-1) % 12 +1, day)\n</code>\n</pre>\n", "senID": 1}]]