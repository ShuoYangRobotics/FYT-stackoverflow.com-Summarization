[[{"text": ["I have just found the builtin imghdr module.", "From python documentation:"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "imghdr", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://docs.python.org/library/imghdr.html"}]}, {"text": ["This is how it works:"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; import imghdr\n&gt;&gt;&gt; imghdr.what('/tmp/bass')\n'gif'\n</code>\n</pre>\n", "senID": 2}, {"text": ["Using a module is much better than reimplementing similar functionality"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}], [{"text": ["A lot of times the first couple chars will be a magic number for various file formats.", "You could check for this in addition to your exception checking above. "], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["In addition to what Brian is suggesting you could use PIL's verify method to check if the file is broken."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "verify", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://www.pythonware.com/library/pil/handbook/image.htm"}]}], [{"text": ["Would checking the file extensions be acceptable or are you trying to confirm the data itself represents an image file?"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["If you can check the file extension a regular expression or a simple comparison could satisfy the requirement."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}], [{"text": ["On Linux, you could use python-magic (http://pypi.python.org/pypi/python-magic/0.1) which uses libmagic to identify file formats."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "http://pypi.python.org/pypi/python-magic/0.1", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://pypi.python.org/pypi/python-magic/0.1"}]}, {"text": ["AFAIK, libmagic looks into the file and tries to tell you more about it than just the format, like bitmap dimensions, format version etc..", "So you might see this as a superficial test for \"validity\"."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["For other definitions of \"valid\" you might have to write your own tests."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["You could use the Python bindings to libmagic, python-magic and then check the mime types.", "This won't tell you if the files are corrupted or intact but it should be able to determine what type of image it is."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "python-magic", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://pypi.python.org/pypi/python-magic/"}]}], [{"text": ["Well, I do not know about the insides of psd, but I, sure, know that, as a matter of fact, svg is not an image file per se, -- it is based on xml, so it is, essentially, a plain text file."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}]]