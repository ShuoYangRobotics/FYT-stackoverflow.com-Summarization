[[{"text": ["Need notice that the list may have millions of numbers.", "So ideally, we shouldn't iterate over the entire list unless it's necessary.", "Also we need avoid construct new list, which may have significant memory consumption.", "Using all and a generator will solve the problem"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; x = [5, 10, 15, 20, 25]\n &gt;&gt;&gt; all(x[i] - x[i-1] == x[i+1] - x[i] for i in xrange(1, len(x) - 1))\n True\n</code>\n</pre>\n", "senID": 1}], [{"text": ["The straight approach here is the best:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n x = s[1] - s[0]\nfor i in range(2, len(s)):\n    if s[i] - s[i-1] != x: break\nelse:\n    #do some work here...\n</code>\n</pre>\n", "senID": 1}], [{"text": ["Using pure Python:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; x = [0,5,10,15,20]\n&gt;&gt;&gt; xdiff = [x[n]-x[n-1] for n in range(1,len(x))]\n&gt;&gt;&gt; xdiff\n[5, 5, 5, 5]\n&gt;&gt;&gt; all([xdiff[0] == xdiff[n] for n in range(1,len(xdiff))])\nTrue\n</code>\n</pre>\n", "senID": 1}, {"text": ["It's a little easier, and probably faster, if you use NumPy:"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; import numpy as np\n&gt;&gt;&gt; xdiff = np.diff(x)\n&gt;&gt;&gt; np.all(xdiff[0] == xdiff)\nTrue\n</code>\n</pre>\n", "senID": 3}, {"text": ["But both of these create two extra lists (or arrays, in the case of NumPy) which may gobble up your available memory if you have millions of numbers."], "childNum": 0, "tag": "p", "senID": 4, "childList": []}], [{"text": ["I came to this while playing around:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; exm = [0,5,10,15,20,25,30,35]\n&gt;&gt;&gt; len(set(exm[a + 1] - exm[a] for a in range(0, len(exm) - 1))) == 1\n</code>\n</pre>\n", "senID": 1}, {"text": ["What I do is for each pair of consecutive items determine their difference in a generator.", "I then add all those differences to a set to only keep the unique values.", "If the length of this set is 1 all the differences are the same."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["Edit: Looking at cldy's answer you can halt execution early when any item is found not the be the same as your initial difference:"], "childNum": 1, "tag": "p", "senID": 3, "childList": [{"text": "cldy's answer", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://stackoverflow.com/questions/7172933/calculate-difference-between-adjacent-items-in-a-python-list/7173025#7173025"}]}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; exm = [0,5,10,15,20,25,30,35]\n&gt;&gt;&gt; initial_diff = exm[1] - exm[0]\n&gt;&gt;&gt; difference_found = any((exm[a + 1] - exm[a]) != initial_diff for a in range(1, len(exm) - 1))\n</code>\n</pre>\n", "senID": 4}], [{"code": "<pre>\n<code>\n &gt;&gt;&gt; x=[10,15,20,25]\n&gt;&gt;&gt; diff=(x[-1]-x[0])/(len(x)-1)\n&gt;&gt;&gt; diff\n5\n&gt;&gt;&gt; all(x[i]+diff==x[i+1] for i in range(len(x)-1))\nTrue\n</code>\n</pre>\n", "senID": 0}], [{"text": ["Here's a solution using iterators just for comparison.. and possibly an advantage of not needing to know the length of your input data; you might be able to avoid having the millions of list items loaded into memory in the first place..."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n from itertools import tee, izip\n\n# From itertools recipes: http://docs.python.org/library/itertools.html\ndef pairwise(iterable):\n    \"s -&gt; (s0,s1), (s1,s2), (s2, s3), ...\"\n    a, b = tee(iterable)\n    next(b, None)\n    return izip(a, b)\n\nclass DifferenceError(Exception):\n  pass\n\ndef difference_check(data):\n  idata = pairwise(data)\n  (a,b) = idata.next()\n  delta = b - a\n  for (a,b) in idata:\n    if b - a != delta:\n      raise DifferenceError(\"%s -&gt; %s != %s\" % (a,b,delta))\n  return True\n</code>\n</pre>\n", "senID": 1}], [{"text": ["Here's an example using the diff function in numpy."], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "diff function", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://www.scipy.org/Numpy_Example_List#head-37c6c7ffae4e0925823e02735de299a00e413689"}, {"text": "numpy", "childNum": 0, "tag": "code", "childList": []}]}, {"text": ["e.g."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n import numpy\nnumpy_array = numpy.zeros(10**6)\nfor i in xrange(10**6):\n    numpy_array[i] = i\nprint numpy.any(numpy.diff(a) == 1)\n</code>\n</pre>\n", "senID": 2}]]