[[{"text": ["You are running into the old problem with floating point numbers that all numbers cannot be represented.", "The command line is just showing you the full floating point form from memory.", "In floating point your rounded version is the same number.", "Since computers are binary they store floating point numbers as an integer and then divide it by a power of two so 13.95 will be represented in a similar fashion to 125650429603636838/(2**53).", "Double precision numbers have 53 bits (16 digits) of precision and regular floats have 24 bits (8 digits) of precision.", "The floating point in python uses double precision to store the values."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "floating point in python uses double precision", "tag": "a", "pos": 5, "childList": [], "childNum": 0, "href": "http://docs.python.org/tutorial/floatingpoint.html"}]}, {"text": ["for example"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n &gt;&gt;&gt;125650429603636838/(2**53)\n  13.949999999999999\n\n  &gt;&gt;&gt; 234042163/(2**24)\n  13.949999988079071\n\n  a=13.946\n  print(a)\n  13.946\n  print(\"%.2f\" % a)\n  13.95\n  round(a,2)\n  13.949999999999999\n  print(\"%.2f\" % round(a,2))\n  13.95\n</code>\n</pre>\n", "senID": 2}, {"text": ["If you are after only two decimal places as in currency then you have a couple of better choices use integers and store values in cents not dollars and then divide by 100 to convert to dollars.", "Or use a fixed point number like decimal"], "childNum": 1, "tag": "p", "senID": 3, "childList": [{"text": "decimal", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://docs.python.org/library/decimal.html"}]}], [{"text": ["Most numbers cannot be exactly represented in floats.", "If you want to round the number because that's what your mathematical formula or algorithm requires, then you want to use round.", "If you just want to restrict the display to a certain precision, then don't even use round and just format it as that string.", "(If you want to display it with some alternate rounding method, and there are tons, then you need to mix the two approaches."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; \"%.2f\" % 3.14159\n'3.14'\n&gt;&gt;&gt; \"%.2f\" % 13.9499999\n'13.95'\n</code>\n</pre>\n", "senID": 1}, {"text": ["And lastly, though perhaps most importantly, if you want exact math then you don't want floats at all.", "The usual example is dealing with money and to store 'cents' as an integer."], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "exact", "childNum": 0, "tag": "em", "pos": 0, "childList": []}]}], [{"text": ["What you can do is modify the output format:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; a = 13.95\n&gt;&gt;&gt; a\n13.949999999999999\n&gt;&gt;&gt; print \"%.2f\" % a\n13.95\n</code>\n</pre>\n", "senID": 1}], [{"text": ["It's doing exactly what you told it to do, and working correctly.", "Read more about floating point confusion and maybe try Decimal objects instead."], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "floating point confusion", "tag": "a", "pos": 1, "childList": [], "childNum": 0, "href": "http://www.lahey.com/float.htm"}, {"href": "http://docs.python.org/library/decimal.html", "text": "Decimal", "childNum": 0, "tag": "a", "childList": []}]}], [{"text": ["There are new format specifications, here:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["http://docs.python.org/library/string.html#format-specification-mini-language"], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "http://docs.python.org/library/string.html#format-specification-mini-language", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://docs.python.org/library/string.html#format-specification-mini-language"}]}, {"text": ["You can do the same as:"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n \"{0:.2f}\".format(13.949999999999999)\n</code>\n</pre>\n", "senID": 3}], [{"text": ["The python tutorial has an appendix called: Floating Point Arithmetic: Issues and Limitations.", "Read it.", "It explains what is happening and why python is doing its best.", "It has even an example that matches yours.", "Let me quote a bit:"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "Floating Point Arithmetic: Issues and Limitations", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://docs.python.org/tutorial/floatingpoint.html"}]}, {"text": ["One alternative and solution to your problems would be using the decimal module."], "childNum": 2, "tag": "p", "senID": 1, "childList": [{"text": "decimal", "tag": "a", "pos": 0, "childList": [{"text": "decimal", "tag": "code"}], "childNum": 1, "href": "http://docs.python.org/library/decimal.html"}, {"text": "decimal", "childNum": 0, "tag": "code", "childList": []}]}], [{"text": ["Hmm... Are you trying to represent currency?", "If so, you should not be using floats for dollars.", "You could probably use floats for pennies, or whatever the smallest common unit of currency you're trying to model happens to be, but the best practice is to use a decimal representation, as HUAGHAGUAH suggested in his answer."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["I tried this in python 2.6.6 and it seems to give the right answer!"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n a =  13.949999999999999\nround(a,2)\nprint a\n</code>\n</pre>\n", "senID": 1}, {"text": ["Just make a file called sth.py and try!"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}]]