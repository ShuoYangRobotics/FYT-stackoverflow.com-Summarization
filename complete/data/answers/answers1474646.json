[[{"text": ["There is a fantastic package in Python called itertools."], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "itertools", "tag": "a", "pos": 0, "childList": [{"text": "itertools", "tag": "code"}], "childNum": 1, "href": "http://docs.python.org/library/itertools.html"}, {"text": "itertools", "childNum": 0, "tag": "code", "childList": []}]}, {"text": ["But before I get into that, it'd serve well to explain how the iteration protocol is implemented in Python.", "When you want to provide iteration over your container, you specify the __iter__() class method that provides an iterator type.", "\"Understanding Python's 'for' statement\" is a nice article covering how the for-in statement actually works in Python and provides a nice overview on how the iterator types work."], "childNum": 5, "tag": "p", "senID": 1, "childList": [{"text": "__iter__()", "tag": "a", "pos": 1, "childList": [{"text": "__iter__()", "tag": "code"}], "childNum": 1, "href": "http://docs.python.org/reference/datamodel.html#object.%5F%5Fiter%5F%5F"}, {"text": "__iter__()", "childNum": 0, "tag": "code", "pos": -1, "childList": []}, {"text": "iterator type", "tag": "a", "pos": 2, "childList": [], "childNum": 0, "href": "http://docs.python.org/library/stdtypes.html#iterator-types"}, {"href": "http://effbot.org/zone/python-for-statement.htm", "text": "\"Understanding Python's 'for' statement\"", "childNum": 0, "tag": "a", "childList": []}, {"text": "for-in", "childNum": 0, "tag": "code", "childList": []}]}, {"text": ["Take a look at the following:"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; sequence = [1, 2, 3, 4, 5]\n&gt;&gt;&gt; iterator = sequence.__iter__()\n&gt;&gt;&gt; iterator.next()\n1\n&gt;&gt;&gt; iterator.next()\n2\n&gt;&gt;&gt; for number in iterator:\n    print number \n3\n4\n5\n</code>\n</pre>\n", "senID": 3}, {"text": ["Now back to itertools.", "The package contains functions for various iteration purposes.", "If you ever need to do special sequencing, this is the first place to look into."], "childNum": 1, "tag": "p", "senID": 4, "childList": [{"text": "itertools", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"text": ["At the bottom you can find the Recipes section that contain recipes for creating an extended toolset using the existing itertools as building blocks."], "childNum": 2, "tag": "p", "senID": 5, "childList": [{"text": "Recipes", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://docs.python.org/library/itertools.html#recipes"}, {"text": "recipes for creating an extended toolset using the existing itertools as building blocks", "childNum": 0, "tag": "em", "childList": []}]}, {"text": ["And there's an interesting function that does exactly what you need:"], "childNum": 0, "tag": "p", "senID": 6, "childList": []}, {"code": "<pre>\n<code>\n def consume(iterator, n):\n    '''Advance the iterator n-steps ahead. If n is none, consume entirely.'''\n    collections.deque(islice(iterator, n), maxlen=0)\n</code>\n</pre>\n", "senID": 7}, {"text": ["Here's a quick, readable, example on how it works (Python 2.5):"], "childNum": 1, "tag": "p", "senID": 8, "childList": [{"text": "(Python 2.5)", "childNum": 0, "tag": "em", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; import itertools, collections\n&gt;&gt;&gt; def consume(iterator, n):\n    collections.deque(itertools.islice(iterator, n))\n&gt;&gt;&gt; iterator = range(1, 16).__iter__()\n&gt;&gt;&gt; for number in iterator:\n    if (number == 5):\n        # Disregard 6, 7, 8, 9 (5 doesn't get printed just as well)\n        consume(iterator, 4)\n    else:\n        print number\n\n1\n2\n3\n4\n10\n11\n12\n13\n14\n15\n</code>\n</pre>\n", "senID": 9}], [{"code": "<pre>\n<code>\n lines = iter(cdata.splitlines())\nfor line in lines:\n    if exp.match(line):\n       #increment the position of the iterator by 5\n       for _ in itertools.islice(lines, 4):\n           pass\n       continue # skip 1+4 lines\n    print line\n</code>\n</pre>\n", "senID": 0}, {"text": ["For example, if exp, cdata are:"], "childNum": 2, "tag": "p", "senID": 1, "childList": [{"text": "exp", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "cdata", "childNum": 0, "tag": "code", "childList": []}]}, {"code": "<pre>\n<code>\n exp = re.compile(r\"skip5\")\ncdata = \"\"\"\nbefore skip\nskip5\n1 never see it\n2 ditto\n3 ..\n4 ..\n5 after skip\n6 \n\"\"\"\n</code>\n</pre>\n", "senID": 2}, {"text": ["Then the output is:"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"code": "<pre>\nbefore skip\n5 after skip\n6\n</pre>\n", "senID": 4}, {"code": "<pre>\n<code>\n i = 0\nwhile i &lt; 100:\n    if i == 50:\n       i += 10\n    print i\n    i += 1\n</code>\n</pre>\n", "senID": 5}, {"text": ["As  @[Glenn Maynard] pointed out in the comment if you need to do a very large jumps such as i += 100000000 then you should use explicit while loop instead of just skipping steps in a for loop."], "childNum": 3, "tag": "p", "senID": 6, "childList": [{"text": "the comment", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://stackoverflow.com/questions/1474646/python-arbitrarily-incrementing-an-iterator-inside-a-loop/1474848#1474848"}, {"text": "while", "childNum": 0, "tag": "code", "childList": []}, {"text": "for", "childNum": 0, "tag": "code", "childList": []}]}, {"text": ["Here's the example that uses explicit while loop instead islice:"], "childNum": 2, "tag": "p", "senID": 7, "childList": [{"text": "while", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "islice", "childNum": 0, "tag": "code", "childList": []}]}, {"code": "<pre>\n<code>\n lines = cdata.splitlines()\ni = 0\nwhile i &lt; len(lines):\n    if exp.match(lines[i]):\n       #increment the position of the iterator by 5\n       i += 5\n    else:\n       print lines[i]\n       i += 1\n</code>\n</pre>\n", "senID": 8}, {"text": ["This example produces the same output as the above islice example."], "childNum": 1, "tag": "p", "senID": 9, "childList": [{"text": "islice", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}], [{"text": ["Not exactly sure I follow your thought process but here is something to feed on.."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n for i in range(len(cdata.split('\\n'))):\n  if i in range(50,60): continue\n  line = cdata[i]\n  if exp.match(line):\n    #increment the position of the iterator by 5?\n    pass\n  print line\n</code>\n</pre>\n", "senID": 1}, {"text": ["Not sure what you are really after but the range(len(..)) should help you."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["If you're doing it with numbers a list comprehension can work:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n for i in [x for x in range(0, 99) if x &lt; 50 and x &gt; 59]:\n    print i\n</code>\n</pre>\n", "senID": 1}, {"text": ["Moving an iterator forward is a bit more difficult though.", "I'd suggest setting your list up beforehand if you don't want to do the counter approach, probably by splitting cdata, then working out the indexes of the matching line and removing that line and the following ones.", "Apart from that you're stuck with the counter approach which isn't nearly as unpleasant as you make it out to be to be honest."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["Another option is this:"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"code": "<pre>\n<code>\n iterator = iter(cdata.split('\\n'))\nfor line in iterator:\n    if exp.match(line):\n        for i in range(0, 5):\n            try:\n                iterator.next()\n            except StopIteration:\n                break\n    else:\n        print line\n</code>\n</pre>\n", "senID": 4}], [{"text": ["You can drop values from an iterator"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n def dropvalues(iterator, vals):\n    for i in xrange(vals): iterator.next()\n</code>\n</pre>\n", "senID": 1}, {"text": ["Now just make sure you have an iterator object to work on with lines = iter(cdata.split('\\n')); and loop over it."], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "lines = iter(cdata.split('\\n'))", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}], [{"text": ["Maybe with genexps.", "Not pretty but..."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["Something like that:"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; gx = (line for line in '1 2 x 3 4 5 6 7 x 9 10 11 12 x 1'.split('\\n'))\n&gt;&gt;&gt; for line in gx:\n...   if line == 'x':\n...      for i in range(2):\n...          line = gx.next()\n...   print line\n</code>\n</pre>\n", "senID": 2}, {"text": ["The only problem is to ensure that gx can be next()-ed.", "The above example purposely generates an exception due to the last x."], "childNum": 0, "tag": "p", "senID": 3, "childList": []}], [{"text": ["for your example, as you're working with lists (indexable sequences) and not with iterators, I would recommend the following:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n lines = cdata.split(\"\\n\")\nfor line in lines[:50]+lines[60:]:\n  print line\n</code>\n</pre>\n", "senID": 1}, {"text": ["that's not the most efficient since it potentially constructs 3 new lists (but if the skipped part is bigger that the processed part, it could be more efficient than the other options), but it's quite clean and explicit."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["If you don't mind to use the itertools module, you can convert the lists to sequences easily:"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"code": "<pre>\n<code>\n from itertools import chain, islice\nfor line in chain(islice(lines, None, 50), islice(lines, 60,None)):\n  print line\n</code>\n</pre>\n", "senID": 4}], [{"text": ["I can't parse the question vary well because there's this block of confusing and irrelevant C code.", "Please delete it."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["Focusing on just the Python code and the question about how to skip 5 lines..."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n lineIter= iter( cdata.splitlines() )\nfor line in lineIter:\n  if exp.match(line):\n    for count in range(5):\n        line = lineIter.next()\n  print line\n</code>\n</pre>\n", "senID": 2}]]