[[{"text": ["If you want to look for 10 active users, you're going to need to be a bit more clever."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "active", "childNum": 0, "tag": "em", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n for user in itertools.islice((x for x in users if x.is_active), 10):\n  # do something\n</code>\n</pre>\n", "senID": 1}], [{"text": ["The while-loops condition is not evaluated until you've passed through all the users.", "You could remove the while and put an if i &gt;= 10: break at the end of the for loop instead."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "if i &gt;= 10: break", "childNum": 0, "tag": "code", "pos": 1, "childList": []}]}], [{"text": ["Actually, it's not endless, it just runs through all users 10 times."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["If you want the first 10 users (regardless if they're active or not):"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n while i &lt; 10:\n    user = users[i]\n    if user.is_active:\n        # do something\n    i += 1\n</code>\n</pre>\n", "senID": 2}, {"text": ["If you want the first 10 active users:"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"code": "<pre>\n<code>\n for user in users:\n    if user.is_active:\n        #do something\n        i += 1\n    if i &gt;= 10:\n        break\n</code>\n</pre>\n", "senID": 4}], [{"text": ["Try to follow your code on paper and see what it does.", "You'll notice that you're not grabbing the first ten users, but you are iterating over all the users ten times.", "The for-loop iterates over all user in users, and the while-loop repeats the for-loop ten times."], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "user", "childNum": 0, "tag": "code", "pos": 1, "childList": []}, {"text": "users", "childNum": 0, "tag": "code", "pos": 2, "childList": []}]}], [{"text": ["Mabybe your i is never reaching 10.", "Maybe not even 10 of your users active."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "i", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"text": ["Maybe i &gt; 10 and the condition wasn't checked before that happens."], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "i &gt; 10", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n filter(lambda u:u.is_active, users)[:10]\n</code>\n</pre>\n", "senID": 2}], [{"text": ["It seems like your code would be equivalent to"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n users = User.objects.filter(is_active=True)[:10]\nfor user in users:\n    #do something\n</code>\n</pre>\n", "senID": 1}, {"text": ["providing you have ten users."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["Except for using special iterators (sometimes you import tens of lines of code to write your in a single one, you can call it being clever ^^, while you could do the same with 5 lines and no imports) I think this is the typical case to use break in a for loop"], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "break", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "for", "childNum": 0, "tag": "code", "childList": []}]}, {"code": "<pre>\n<code>\n users = User.objects.all()\ni = 0\nfor user in users:\n    if user.is_active:\n        #do something\n        i += 1\n    if i == 10:\n        break\nelse:\n    #do something if less than 10 active users (if necessary)\n</code>\n</pre>\n", "senID": 1}], [{"text": ["Using list comprehension:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n [user for user in User.objects.all() if user.is_active][:10]\n</code>\n</pre>\n", "senID": 1}, {"text": ["And in case you need to perform any action on such users you can use again list comprehension:"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n [action(usr) for usr in [user for user in User.objects.all() if user.is_active][:10]]\n</code>\n</pre>\n", "senID": 3}, {"text": ["Or map:"], "childNum": 0, "tag": "p", "senID": 4, "childList": []}, {"code": "<pre>\n<code>\n map(action, [user for user in User.objects.all() if user.is_active][:10])\n</code>\n</pre>\n", "senID": 5}], [{"code": "<pre>\n<code>\n users = User.objects.all()\ni = 0\nwhile i &lt; 10:\n    for user in users:\n        if user.is_active:\n            # do something\n    i += 1\n</code>\n</pre>\n", "senID": 0}]]