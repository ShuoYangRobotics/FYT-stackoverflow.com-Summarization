[[{"text": ["Here are instructions on how to setup your own PyPi mirror.", "The homepage of this project is here.", "There also seems to be a growing number of mirrors out there."], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "instructions on how to setup your own PyPi mirror", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://www.zopyx.de/blog/creating-a-local-pypi-mirror"}, {"text": "here", "tag": "a", "pos": 1, "childList": [], "childNum": 0, "href": "http://www.openplans.org/projects/pypi-mirroring/project-home"}]}, {"text": ["For instructions on how to setup your own package index, check out this blog post where one solution is explained at the end.", "Then you can also host your own internal packages in there.", "The advantage is also that the versions are fixed that way.", "(For a way to pin the versions directly in buildout, check out this post)."], "childNum": 2, "tag": "p", "senID": 1, "childList": [{"text": "this blog post", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://plope.com/Members/chrism/distribution_links_considered_harmful"}, {"text": "this post", "tag": "a", "pos": 3, "childList": [], "childNum": 0, "href": "http://maurits.vanrees.org/weblog/archive/2008/01/easily-creating-repeatable-buildouts"}]}, {"text": ["If there is only metadata on PyPI and the archive is stored somewhere else you might of course copy that over to your index as well.", "If you just use a PyPI mirror I assume that you still need access to these servers."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["You can also use a mirror.", "Put this in the \"[global]\" section of \"~/.pip/pip.conf\":"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n index-url = http://d.pypi.python.org/simple/\n</code>\n</pre>\n", "senID": 1}, {"text": ["This is a recent feature as announced here."], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "here", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://mail.python.org/pipermail/catalog-sig/2010-July/003132.html"}]}], [{"text": ["This page shows how to use the alternate mirror mentioned in @moraes post, but for easy_install, buildout and virtualenv as well as pip:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["http://jacobian.org/writing/when-pypi-goes-down/"], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "http://jacobian.org/writing/when-pypi-goes-down/", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://jacobian.org/writing/when-pypi-goes-down/"}]}], [{"text": ["PyPI has had mirroring since mid 2010 http://pypi.python.org/mirrors"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "http://pypi.python.org/mirrors", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://pypi.python.org/mirrors"}]}], [{"text": ["Add a line to your find-links in buildout.cfg, e.g."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["find-links += http://pypi.it.uwosh.edu"], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "http://pypi.it.uwosh.edu", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://pypi.it.uwosh.edu"}]}, {"text": ["That will add the mirror we run at UW Oshkosh via the pypi-mirror package.", "When you next run buildout, if it can't connect to the default pypi and other URLs, it will try this one."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["In case of zc.buildout: use its local download caching features.", "There are mostly three things to cache: "], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"tag": "ul", "num": 3, "lis": [{"text": "external extends, i.e. ", "tag": "none", "senID": 1}, {"text": "eggs from some distserver, i.e. pypi", "tag": "none", "senID": 2}, {"text": "downloads from zc.recipe.cmmi or similar recipes using the download infrastructure provided by zc.buildout", "tag": "none", "senID": 3}]}, {"text": ["For all three we need to tweak the global configuration and set a cache folder for the extends and one for eggs and other downloads."], "childNum": 0, "tag": "p", "senID": 4, "childList": []}, {"text": ["In your home folder create a .buildout folder."], "childNum": 1, "tag": "p", "senID": 5, "childList": [{"text": ".buildout", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"text": ["In this folder create the folders extends-cache and downloads "], "childNum": 2, "tag": "p", "senID": 6, "childList": [{"text": "extends-cache", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "downloads", "childNum": 0, "tag": "code", "childList": []}]}, {"text": ["In .buildout create a file default.cfg with:"], "childNum": 1, "tag": "p", "senID": 7, "childList": [{"text": ".buildout", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n [buildout]  \nextends-cache = /home/USERNAME/.buildout/extends-cache \ndownload-cache = /home/USERNAME/.buildout/downloads\n</code>\n</pre>\n", "senID": 8}, {"text": ["so you have:"], "childNum": 0, "tag": "p", "senID": 9, "childList": []}, {"code": "<pre>\n<code>\n .buildout/\n\u251c\u2500\u2500 default.cfg\n\u251c\u2500\u2500 downloads\n\u2514\u2500\u2500 extends-cache\n</code>\n</pre>\n", "senID": 10}, {"text": ["Thats it.", "Make sure to not override these two variables from default.cfg in your specific buildout.", "After first successful run of buildout subsequent runs are running in offline mode ./bin/buildout -o."], "childNum": 1, "tag": "p", "senID": 11, "childList": [{"text": "./bin/buildout -o", "childNum": 0, "tag": "code", "pos": 2, "childList": []}]}, {"text": ["As a side effect buildout is much faster if used in offline mode, i.e.", "when no new downloads are expected but some configuration changed"], "childNum": 0, "tag": "p", "senID": 12, "childList": []}, {"text": ["Beside this it makes sense to run your own pypi-mirror.", "As another source of information you might be interested in the article I wrote some time ago about this topic: http://bluedynamics.com/articles/jens/setup-z3c.pypimirror"], "childNum": 1, "tag": "p", "senID": 13, "childList": [{"text": "http://bluedynamics.com/articles/jens/setup-z3c.pypimirror", "tag": "a", "pos": 1, "childList": [], "childNum": 0, "href": "http://bluedynamics.com/articles/jens/setup-z3c.pypimirror"}]}]]