[[{"text": ["Try SSHkey.", "It's allow you to connect to the server without password.", "In this case, you will have to setup a sshkey between your remote server and the repo."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["At remote server: Generate key pair"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n $ ssh-keygen -t dsa\n</code>\n</pre>\n", "senID": 2}, {"text": ["Leave the passphase empty!", "This will gerenate 2 files "], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"tag": "ul", "num": 2, "lis": [{"text": "~/.ssh/id_dsa (private key)", "tag": "none", "senID": 4}, {"text": "~/.ssh/id_dsa.pub (public key)", "tag": "none", "senID": 5}]}, {"text": ["Then, append the content in id_dsa.pub to ~/.ssh/authorized_keys at repo server."], "childNum": 0, "tag": "p", "senID": 6, "childList": []}, {"text": ["Your remote server will be able to update the source tree without using password."], "childNum": 0, "tag": "p", "senID": 7, "childList": []}], [{"text": ["We had a problem similar to this a while back and actually proposed a new feature for Fabric, but the developer we spoke to suggested this instead."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n import getpass\npassword = getpass.getpass('Enter SVN Password: ')\nrun(\"svn update --password '%s'\" % password)\n</code>\n</pre>\n", "senID": 1}, {"text": ["This will prompt you for a password when the time comes for fabric to run this command."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["I believe that will display your password in the fabric log, however, so a better option would be to get SVN to prompt you for the password and echo the password into it."], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"code": "<pre>\n<code>\n run('echo %s | svn update --password' % password)\n</code>\n</pre>\n", "senID": 4}, {"text": ["I don't use SVN though, so I'm afraid I'm not sure if that is possible.", "I hope someone else can help there!"], "childNum": 0, "tag": "p", "senID": 5, "childList": []}], [{"text": ["My standard answer for automating interactive command lines is \"use Expect\", but you're using Python, so I will slightly refine that to \"use Pexpect\".  "], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "Pexpect", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://pexpect.sourceforge.net/pexpect.html"}]}, {"text": ["It might take a bit of thought to integrate Pexpect within Fabric, or perhaps you will just end up falling back to Pexpect alone for this particular case.", "But it's definitely the way I would go."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}], [{"text": ["You might need to supply the user as well?", "If not, you may have better luck exporting your repo and making a tar of it (locally) to upload+deploy on the server.", "If you run the svn commands locally, you'll be able to get prompted for your username and/or password."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["You should take a look at the Fabric's env documentation.", "There states that you should make something like this:"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "Fabric's env documentation", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://docs.fabfile.org/0.9.0/usage/env.html"}]}, {"code": "<pre>\n<code>\n from fabric.api import env\n\nenv.user = 'your_user'\nenv.password = 'your_password'\n</code>\n</pre>\n", "senID": 1}, {"text": ["Hope it helps!"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["If yout just want to hide your password from log, you can use something like this:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n from fabric.state import output\n\ndef xrun(command, hidden='', *args, **kwargs):\n    old_state = output.running\n    output.running = False\n    print '[%s] run: %s' % (env.host_string, command)\n    run(command + hidden, *args, **kwargs)\n    output.running = command\n\nxrun('svn update', '--password \"your password\"')\n</code>\n</pre>\n", "senID": 1}]]