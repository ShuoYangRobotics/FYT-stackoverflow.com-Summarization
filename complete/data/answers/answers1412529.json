[[{"text": ["With Python and PIL:"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "PIL", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://www.pythonware.com/products/pil/"}]}, {"code": "<pre>\n<code>\n import Image\ngif= Image.open('path.gif')\ntry:\n    gif.seek(1)\nexcept EOFError:\n    isanimated= False\nelse:\n    isanimated= True\n</code>\n</pre>\n", "senID": 1}], [{"text": ["A few solutions are given on the PHP docs page for the imagecreatefromgif function."], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "PHP docs", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://php.net/manual/en/function.imagecreatefromgif.php#88005"}, {"text": "imagecreatefromgif", "childNum": 0, "tag": "code", "childList": []}]}, {"text": ["From the solutions I've read, this one seems the best due to its tighter memory requirements."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n &lt;?php\nfunction is_ani($filename) {\n    if(!($fh = @fopen($filename, 'rb')))\n        return false;\n    $count = 0;\n    //an animated gif contains multiple \"frames\", with each frame having a\n    //header made up of:\n    // * a static 4-byte sequence (\\x00\\x21\\xF9\\x04)\n    // * 4 variable bytes\n    // * a static 2-byte sequence (\\x00\\x2C)\n\n    // We read through the file til we reach the end of the file, or we've found\n    // at least 2 frame headers\n    while(!feof($fh) &amp;&amp; $count &lt; 2)\n        $chunk = fread($fh, 1024 * 100); //read 100kb at a time\n        $count += preg_match_all('#\\x00\\x21\\xF9\\x04.{4}\\x00\\x2C#s', $chunk, $matches);\n\n    fclose($fh);\n    return $count &gt; 1;\n}\n?&gt;\n</code>\n</pre>\n", "senID": 2}], [{"text": ["I've never seen a program that will tell you this.", "But GIF is a block structured format and you can check if the block indicating animated GIF is present in your files. "], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["From wikipedia article noted below: at offset 0x30D an Application Extension (ie: 3 byte magic number 21 FF 0B) block in the GIF file, followed by magic number 4E 45 54 53 43 41 50 45 32 9at offset 0x310 indicates that the rest of the file contains multiple images, and they should be animated."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["Really the Wikipedia article explains it better and the format docs noted below expand on the Wiki article. "], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["So you can parse the GIFs using a program written in Python (I parsed GIFs using C many years ago, it was mainly an exercise in moving the file pointer around and reading bytes).", "Determine if the AE is present with the correct 3 byte ID, and followed by the 9 byte magic number."], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"text": ["See http://en.wikipedia.org/wiki/Graphics%5FInterchange%5FFormat#Animated%5F.gif"], "childNum": 1, "tag": "p", "senID": 4, "childList": [{"text": "http://en.wikipedia.org/wiki/Graphics%5FInterchange%5FFormat#Animated%5F.gif", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://en.wikipedia.org/wiki/Graphics%5FInterchange%5FFormat#Animated%5F.gif"}]}, {"text": ["Also see http://www.martinreddy.net/gfx/2d/GIF87a.txt"], "childNum": 1, "tag": "p", "senID": 5, "childList": [{"text": "http://www.martinreddy.net/gfx/2d/GIF87a.txt", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://www.martinreddy.net/gfx/2d/GIF87a.txt"}]}, {"text": ["Also see http://www.martinreddy.net/gfx/2d/GIF89a.txt"], "childNum": 1, "tag": "p", "senID": 6, "childList": [{"text": "http://www.martinreddy.net/gfx/2d/GIF89a.txt", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://www.martinreddy.net/gfx/2d/GIF89a.txt"}]}, {"text": ["Sorry, best I can do for you."], "childNum": 0, "tag": "p", "senID": 7, "childList": []}], [{"text": ["If you're on Linux (or any system with ImageMagick) you can use a one-liner shell script and identify program:"], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "ImageMagick", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://www.imagemagick.org/"}, {"text": "identify", "childNum": 0, "tag": "code", "childList": []}]}, {"code": "<pre>\n<code>\n identify *.gif | fgrep '.gif[1] '\n</code>\n</pre>\n", "senID": 1}, {"text": ["I know you said you prefer PHP and Python, but you also said you are willing to explore other solutions.", ":)"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["See http://stackoverflow.com/questions/280658/can-i-detect-animated-gifs-using-php-and-gd"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "http://stackoverflow.com/questions/280658/can-i-detect-animated-gifs-using-php-and-gd", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://stackoverflow.com/questions/280658/can-i-detect-animated-gifs-using-php-and-gd"}]}], [{"text": ["Read the GIF89A specification and extract the information.", "http://www.w3.org/Graphics/GIF/spec-gif89a.txt"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "http://www.w3.org/Graphics/GIF/spec-gif89a.txt", "tag": "a", "pos": 1, "childList": [], "childNum": 0, "href": "http://www.w3.org/Graphics/GIF/spec-gif89a.txt"}]}, {"text": ["Or easy and lazy and ready for a hack use the intergif program which can extract the single images out of an animated gif.", "Extract into a temp directory and look how many files you get.", "http://utter.chaos.org.uk/~pdh/software/intergif/download.htm"], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "http://utter.chaos.org.uk/~pdh/software/intergif/download.htm", "tag": "a", "pos": 2, "childList": [], "childNum": 0, "href": "http://utter.chaos.org.uk/~pdh/software/intergif/download.htm"}]}], [{"text": ["I'm no GIF file format expert, but this is an interesting problem to me so I looked into it a bit.", "This would work only if it's always true that animated gifs have the value NETSCAPE2.0 at position 0x310 (edit)AND static gifs do not,(/edit) which was the case in my test files.", "This is C#, if you want I could compile it to a console app that takes a directory as an argument and you could run some test on your very large gif collection to see if it produces reliable results."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Xml.Linq;\nusing System.IO;\n\nnamespace ConsoleApplication2\n{\n    class Program\n    {\n    \tstatic void Main(string[] args)\n    \t{\n    \t\tstring ani = @\"C:\\path\\to\\ani.gif\";\n    \t\tstring sta = @\"C:\\path\\to\\static.gif\";\n\n    \t\tConsole.WriteLine(isAnimated(ani));\n    \t\tConsole.WriteLine(isAnimated(sta));\n    \t}\n\n    \tstatic bool isAnimated(string path)\n    \t{\n    \t\tbyte[] bytes = File.ReadAllBytes(path);\n    \t\tbyte[] netscape = bytes.Skip(0x310).Take(11).ToArray();\n\n    \t\tStringBuilder sb = new StringBuilder();\n\n    \t\tforeach (var item in netscape)\n    \t\t{\n    \t\t\tsb.Append((char)item);\n    \t\t}\n\n    \t\treturn sb.ToString() == \"NETSCAPE2.0\";\n    \t}\n    }\n}\n</code>\n</pre>\n", "senID": 1}], [{"text": ["try this"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n import Image\n\ndef checkAnimate():\n    im = Image.open('image.gif')\n    if not im.info['version'].__contains__('GIF'):\n        print \"It's not a GIF file\"\n    else:\n        if im.info.has_key('duration'):\n            if im.info['duration'] &gt; 0:\n                return True\n            else:\n                return False\n        else:\n            return False\n</code>\n</pre>\n", "senID": 1}], [{"text": ["see if there is more than one LocalDescriptor are there in the GIF file."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}]]