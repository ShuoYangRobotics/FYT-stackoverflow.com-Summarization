[[{"text": ["This is because of a change in the API for libpng v1.5 (which is included with Mac OSX Lion).", "The changes has already been pushed upstream, so you will need to compile from the upstream repository until the next release."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["You can follow the instructions on http://jholewinski.wordpress.com/2011/07/21/installing-matplotlib-on-os-x-10-7-with-homebrew/"], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "http://jholewinski.wordpress.com/2011/07/21/installing-matplotlib-on-os-x-10-7-with-homebrew/", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://jholewinski.wordpress.com/2011/07/21/installing-matplotlib-on-os-x-10-7-with-homebrew/"}]}], [{"text": ["I would recommend using macports, it should take care of dependencies and would be indepedent of the system python version."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "macports", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://www.macports.org/ports.php?by=name&substr=matplotlib"}]}, {"text": ["EDIT: Just a few clarifications, taking into account comments to this answer."], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "EDIT", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}]}, {"text": ["Why use macports (or another installer)?", "Because they take care of dependencies, provide functionality to uninstall and switch between versions (I've used the latter successfully for gcc and python).", "And because the default installation location is not the system executable location.", "Overriding the system python can break applications that rely on it (this is certainly true in many Linux distributions, maybe less so on mac OS X). "], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["When is it particularly useful?", "When you want to install on top of a version of python that is different to system python, and when you have non-python extensions (C, C++, Fortran...)."], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"text": ["What's the down side?", "As @Trond has mentioned in the comments, it is good if you're OK with default compilations of packages.", "You don't have a handle over configuration or compiler flags as you would if you built from source."], "childNum": 0, "tag": "p", "senID": 4, "childList": []}, {"text": ["A good alternative to macports is fink, which seems to give you more control (build from source).", "I am not sure it is completely ready for mac OS X Lion yet."], "childNum": 1, "tag": "p", "senID": 5, "childList": [{"text": "fink", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://www.finkproject.org/"}]}], [{"text": ["You can try with an \"official\" python distribution, apple might have tweaked the supplied one.", "You can find the 2.7 here: http://www.python.org/download/ \nYou might have to re-install numpy as well afterwords: http://sourceforge.net/projects/numpy/files/NumPy/1.6.1/"], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "http://www.python.org/download/", "tag": "a", "pos": 1, "childList": [], "childNum": 0, "href": "http://www.python.org/download/"}, {"href": "http://sourceforge.net/projects/numpy/files/NumPy/1.6.1/", "text": "http://sourceforge.net/projects/numpy/files/NumPy/1.6.1/", "childNum": 0, "tag": "a", "childList": []}]}, {"text": ["I would suggest to install scipy as well \nLet me know if it works ;)"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}], [{"text": ["I followed this page's instructions.", "I got stuck at "], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "page's instructions", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://www.thisisthegreenroom.com/2011/installing-python-numpy-scipy-matplotlib-and-ipython-on-lion/"}]}, {"code": "<pre>\n<code>\n pip install -e git+https://github.com/matplotlib/matplotlib#egg=matplotlib-dev\n</code>\n</pre>\n", "senID": 1}, {"text": ["Then I did:"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n git clone https://github.com/matplotlib/matplotlib.git\ncd matplotlib\npython setup.py build\npython setup.py install\n</code>\n</pre>\n", "senID": 3}, {"text": ["Checked my installation by typing in terminal:"], "childNum": 0, "tag": "p", "senID": 4, "childList": []}, {"code": "<pre>\n<code>\n python\nimport matplotlib\nprint matplotlib.__version__\nprint matplotlib.__file__\n</code>\n</pre>\n", "senID": 5}, {"text": ["I got version 0.10.0 dev (as of this writing) and path /usr/local/Cellar/..."], "childNum": 0, "tag": "p", "senID": 6, "childList": []}], [{"text": ["I know it will take a lot more time, but I would reccomend installing python, numpy, and matplotlib from source to ensure that you have consistency in your system.", "From the error it could look like you have a problem with libPNG support.", "I have a written a \"How to install python dev tools on Mac OSX\" that you may find useful.", "It contains directions for how to install python, numpy, matplotlib and all necessary dependencies.", "I understand you are working with Python 2.7 and the directions I am listing is for Python 2.6.5, but it would be the same approach.", "Hope you get it to work. "], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "How to install python dev tools on Mac OSX", "tag": "a", "pos": 2, "childList": [], "childNum": 0, "href": "http://www.trondkristiansen.com/?page_id=79"}]}], [{"text": ["I wrote a blog posting of how I solved this problem,\nhttp://kalikallin.tumblr.com/post/11983195781/lions-and-pythons-dont-mix"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "http://kalikallin.tumblr.com/post/11983195781/lions-and-pythons-dont-mix", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://kalikallin.tumblr.com/post/11983195781/lions-and-pythons-dont-mix"}]}], [{"text": ["You could just install the Python 2.6 version of Matplotlib, assuming that Python2.6 is included with Lion (py2.5 &amp; 2.6 are included with Mac OS 10.6 \"Snow Leopard\" - try typing python2.6 to find out if that version is installed.", ").  "], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "python2.6", "childNum": 1, "tag": "strong", "pos": 0, "childList": [{"text": "python2.6", "tag": "em"}]}, {"text": "python2.6", "childNum": 0, "tag": "em", "pos": -1, "childList": []}]}, {"text": ["On MacPorts you do this via something like:"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n sudo port install py26-matplotlib\n</code>\n</pre>\n", "senID": 2}, {"text": ["where py26-... (or py25-..., py27-...", "etc.", ") indicates which python version it is meant for.", "(check the Pallet/ports list to get the correct package name, in case I guessed wrong)"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}]]