[[{"text": ["Use thesetattrfunction."], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "thesetattrfunction", "tag": "a", "pos": 0, "childList": [{"text": "setattr", "tag": "code"}], "childNum": 1, "href": "http://docs.python.org/library/functions.html#setattr"}, {"text": "setattr", "childNum": 0, "tag": "code", "childList": []}]}, {"code": "<pre>\n<code>\n class A(object):\n  pass\n\nfor field in ['one', 'two', 'three']:\n  setattr(A, field, field + ' value')\n</code>\n</pre>\n", "senID": 1}], [{"text": ["I'd just inherit from the metaclass and do it there"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n class MyMetaClass(MetaClass):\n    def __new__(meta, classname, baseclasses, classdict):\n        fields = classdict['__myfields__']\n        for field in fields:\n            classdict[field] = field + ' value'\n        del classDict['__myfields__']\n        MetaClass.__new__(meta, classname, baseclasses, classdict)\n</code>\n</pre>\n", "senID": 1}, {"text": ["Then you can just do:"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n class A(object):\n    __metaclass__ = MyMetaClass\n    __myfields__ = ['one', 'two', 'three']\n</code>\n</pre>\n", "senID": 3}], [{"code": "<pre>\n<code>\n &gt;&gt;&gt; values = 'one', 'two', 'three'\n&gt;&gt;&gt; A = type('A', (object,), {i: i + ' value' for i in values})\n&gt;&gt;&gt; A.one\n'one value'\n&gt;&gt;&gt; A.three\n'three value'\n</code>\n</pre>\n", "senID": 0}], [{"text": ["You say you want to generate something dynamically that the metaclass can process.", "There's a very simple way to achieve that without resorting to hackery like exec.", "All you have to do is think of this in a different way: modify the metaclass so that the names are generated there."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "exec", "childNum": 0, "tag": "code", "pos": 1, "childList": []}]}, {"code": "<pre>\n<code>\n class AutoFieldMeta(type):\n    def __new__(mcs, name, bases, d):\n        for field in d.get('AUTOFIELDS', ()):\n            d[field] = field + ' value'\n        return type.__new__(mcs, name, bases, d)\n\nclass A(object, metaclass=AutoFieldMeta):\n    AUTOFIELDS = ('one', 'two', 'three')\n\n&gt;&gt;&gt; A.one\n'one value'\n&gt;&gt;&gt;\n</code>\n</pre>\n", "senID": 1}, {"text": ["and if you don't want to modify the existing metaclass you can subclass it."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["This works too and I think it's a happy end..."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n class A(object):\n    for a in ['one', 'two', 'three']:\n        locals().update({a: a + ' value'})\n</code>\n</pre>\n", "senID": 1}, {"text": ["And for anyone searching for assignment expression in Python, this is in the same mood as aaronasterling answer :):"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["http://code.activestate.com/recipes/202234-assignment-in-expression/"], "childNum": 1, "tag": "p", "senID": 3, "childList": [{"text": "http://code.activestate.com/recipes/202234-assignment-in-expression/", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://code.activestate.com/recipes/202234-assignment-in-expression/"}]}], [{"text": ["Let me preface this by saying that this is incredibly hackish but eliminates the exec.", "We just stick the attributes on the current stack frame as the code in the class statement is being executed.", "It is only guaranteed to work on CPython and there are warnings against doing it in the manual.", "I would highly recommend that you go with duncans metaclass solution."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n import sys\n\nclass A(object):\n    for field in ['one', 'two', 'three']:\n        sys._getframe().f_locals[field] = field + ' value'\n</code>\n</pre>\n", "senID": 1}]]