[[{"code": "<pre>\n<code>\n import subprocess\np=subprocess.Popen(args, stdout=subprocess.PIPE)\nprint p.communicate()[0]\n</code>\n</pre>\n", "senID": 0}, {"text": ["It would look pretty much the same.", "But the path should not be r'\"whatever the path is\"'.", "Because that gives me an error.", "You want \"the path with escaped backslashes\" or r'the path without escaping'."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["Also args should be of the form ['-arg', 'args'] instead of ['arg argsval']."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["Remove quotes from the name of the executable.", "On the first line of your example, instead of"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n sqlpubwiz = r'\"C:\\Program Files\\Microsoft SQL Server\\90\\Tools\\Publishing\\sqlpubwiz.exe\"'\n</code>\n</pre>\n", "senID": 1}, {"text": ["use:"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n sqlpubwiz = r'C:\\Program Files\\Microsoft SQL Server\\90\\Tools\\Publishing\\sqlpubwiz.exe'\n</code>\n</pre>\n", "senID": 3}, {"text": ["That's because you don't have to escape anything since a shell won't be involved."], "childNum": 0, "tag": "p", "senID": 4, "childList": []}, {"text": ["Then just use subprocess.call(args) (don't join the args, pass them as a list)"], "childNum": 2, "tag": "p", "senID": 5, "childList": [{"text": "subprocess.call(args)", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "join", "childNum": 0, "tag": "code", "childList": []}]}, {"text": ["If you want to capture the output (os.system can't do it) just follow subprocess documentation:"], "childNum": 2, "tag": "p", "senID": 6, "childList": [{"text": "os.system", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"href": "http://docs.python.org/library/subprocess.html", "text": "subprocess", "childNum": 0, "tag": "a", "childList": []}]}, {"code": "<pre>\n<code>\n result = subprocess.Popen(args, stdout=subprocess.PIPE).communicate()[0]\nprint result\n</code>\n</pre>\n", "senID": 7}], [{"text": ["Below is my revised code based on Carlos Rendon (and nosklo) help and suggestions: "], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "Carlos Rendon", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://stackoverflow.com/questions/421206/in-python-how-i-do-use-subprocess-instead-of-os-system#421228"}, {"href": "http://stackoverflow.com/questions/421206/in-python-how-i-do-use-subprocess-instead-of-os-system#421269", "text": "nosklo", "childNum": 0, "tag": "a", "childList": []}]}, {"code": "<pre>\n<code>\n # import os\nimport subprocess    \n\nsqlpubwiz = r'C:\\Program Files\\Microsoft SQL Server\\90\\Tools\\Publishing\\sqlpubwiz.exe'\nserver = 'myLocalServer'\ndatabase = 'myLocalDatabase'\nconnection_values = ['server=' + server, 'database=' + database, 'trusted_connection=true']\nconnection_string = ';'.join(connection_values)\ndbms_version = '2000'\nsqlscript_filename = 'CreateSchema.sql'       \n\nargs = [\n            sqlpubwiz,\n            'script',\n            '-C',\n            connection_string,\n            sqlscript_filename,\n            '-schemaonly',\n            '-targetserver',\n            dbms_version,\n            '-f',\n    ]   \n\n# cmd = ' '.join(args)\n# os.system(cmd)\n\nsubprocess.call(args)\n</code>\n</pre>\n", "senID": 1}, {"text": ["(Note: The original argument values that contained spaces needed to be converted into separate list items."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["FYI, subprocess has a list2cmdline() function that will let you see the string that Popen will be using."], "childNum": 3, "tag": "p", "senID": 0, "childList": [{"text": "subprocess", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "list2cmdline()", "childNum": 0, "tag": "code", "childList": []}, {"text": "Popen", "childNum": 0, "tag": "code", "childList": []}]}, {"text": ["Your version gives:"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n '\"C:\\\\Program Files\\\\Microsoft SQL Server\\\\90\\\\Tools\\\\Publishing\\\\sqlpubwiz.exe\" script \"-C server=myLocalServer;database=myLocalDatabase;trusted_connection=true\" CreateSchema.sql -schemaonly \"-targetserver 2000\" -f'\n</code>\n</pre>\n", "senID": 2}, {"text": ["with extra quotes around \"-C server=myLocalServer;database=myLocalDatabase;trusted_connection=true\" and \"-targetserver 2000\"."], "childNum": 2, "tag": "p", "senID": 3, "childList": [{"text": "\"-C server=myLocalServer;database=myLocalDatabase;trusted_connection=true\"", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "\"-targetserver 2000\"", "childNum": 0, "tag": "code", "childList": []}]}, {"text": ["Properly formatted:"], "childNum": 0, "tag": "p", "senID": 4, "childList": []}, {"code": "<pre>\n<code>\n args = [\n        sqlpubwiz,\n        'script',\n        '-C', connection_string,\n        sqlscript_filename,\n        '-schemaonly',\n        '-targetserver', dbms_version,\n        '-f',\n]\n</code>\n</pre>\n", "senID": 5}, {"text": ["gives:"], "childNum": 0, "tag": "p", "senID": 6, "childList": []}, {"code": "<pre>\n<code>\n '\"C:\\\\Program Files\\\\Microsoft SQL Server\\\\90\\\\Tools\\\\Publishing\\\\sqlpubwiz.exe\" script -C server=myLocalServer;database=myLocalDatabase;trusted_connection=true CreateSchema.sql -schemaonly -targetserver 2000 -f'\n</code>\n</pre>\n", "senID": 7}, {"text": ["Also, minor point, but it's a good habit to make sequences such as args that don't need to be mutable into tuples instead of lists."], "childNum": 1, "tag": "p", "senID": 8, "childList": [{"text": "args", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}], [{"text": ["This isnt an answer directly to your question but I thought it might be helpful."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["In case you ever want more granular control over what is returned for exception handling etc, you can also check out pexpect.", "I have used it in situations where the process I was calling didn't necessarily exit with normal status signals, or I wanted to interact with it more.", "It's a pretty handy function."], "childNum": 2, "tag": "p", "senID": 1, "childList": [{"text": "pexpect", "tag": "a", "pos": 0, "childList": [{"text": "pexpect", "tag": "strong"}], "childNum": 1, "href": "http://www.noah.org/wiki/Pexpect"}, {"text": "pexpect", "childNum": 0, "tag": "strong", "pos": -1, "childList": []}]}], [{"text": ["Windows commands will accept forward slashes '/' in place of backslashes in pathnames, so you can use the former to avoid escaping backslashes in your command strings.", "Not exactly an answer to your question, but perhaps useful to know."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["Please remember that os.system uses the shell, and so you must really pass"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n shell=True\n</code>\n</pre>\n", "senID": 1}, {"text": ["to the Popen constructor/call to emulate it properly.", "You may not actually need a shell, of course, but there it is."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}]]