[[{"text": ["For a text file just iterating over it with a for loop is almost always the way to go.", "Never mind about speed, it is the cleanest."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "for", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"text": ["In some versions of python readline() really does just read a single line while the for loop reads large chunks and splits them up into lines so it may be faster.", "I think that more recent versions of Python use buffering also for readline() so the performance difference will be miniscule (for is probably still microscopically faster because it avoids a method call).", "However choosing one over the other for performance reasons is probably premature optimisation."], "childNum": 4, "tag": "p", "senID": 1, "childList": [{"text": "readline()", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "for", "childNum": 0, "tag": "code", "pos": 1, "childList": []}, {"text": "readline()", "childNum": 0, "tag": "code", "pos": -1, "childList": []}, {"text": "for", "childNum": 0, "tag": "code", "pos": 2, "childList": []}]}, {"text": ["Edit to add: I just checked back through some Python release notes.", "Python 2.5 said:"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["Python 2.6 introduced TextIOBase which supports both iterating and readline() simultaneously."], "childNum": 1, "tag": "p", "senID": 3, "childList": [{"text": "readline()", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"text": ["Python 2.7 fixed interleaving read() and readline()."], "childNum": 2, "tag": "p", "senID": 4, "childList": [{"text": "read()", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "readline()", "childNum": 0, "tag": "code", "childList": []}]}], [{"text": ["If file is huge, read() is definitevely bad idea, as it loads (without size parameter), whole file into memory."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["Readline reads only one line at time, so I would say that is better choice for huge files."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["And just iterating over file object should be as effective as using readline."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["See http://docs.python.org/tutorial/inputoutput.html#methods-of-file-objects for more info"], "childNum": 1, "tag": "p", "senID": 3, "childList": [{"text": "http://docs.python.org/tutorial/inputoutput.html#methods-of-file-objects", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://docs.python.org/tutorial/inputoutput.html#methods-of-file-objects"}]}], [{"text": ["The docs for readlines indicate there is an optional sizehint.", "Because it is so vague, it's easy to overlook, but I found this to often be the fastest way to read files.", "Use readlines(1), which hints one line, but in fact reads in about 4k or 8k worth of lines IIRC.", "This takes advantage of the OS buffering and reduces the number of calls somewhat without using an excessive amount of memory."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "readlines", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://docs.python.org/library/stdtypes.html#file.readlines"}]}, {"text": ["You can experiment with different sizes of the sizehint, but I found 1 to be optimal on my platform  when I was testing this"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}], [{"text": ["If your file is a text file then use readlines() which is obviously the way to read file containing lines.", "Apart from that: perform benchmarks if you are really aware of possible performance problems.", "I doubt that you will encounter any issues....the speed of the filesystem should be the limiting factor."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["If you have enough memory use readline if performance is a concern.", "I have seen that while using a gzip file doing: read().split('\\n') took 5 seconds to loop through, whereas using the iterator took 38 seconds.", "The size of GZ file was around 45 MB."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "read().split('\\n')", "childNum": 0, "tag": "code", "pos": 1, "childList": []}]}], [{"text": ["Neither.", "Both of them will read the content into memory.", "In case of big files, iterating over the file object only loads one line of your file at a time and is perhaps a good way to deal with the contents of a huge file."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}]]