[[{"text": ["That's all you need:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n import re\n\nwith open(\"filename\") as f:\n    for line in f:\n        s=re.search(r'\\d+',line)\n        if s:\n            print(s.group())\n            break\n</code>\n</pre>\n", "senID": 1}], [{"text": ["Use &lt;string&gt;.isdigit() method to check if the given string (a single character in your case) is a digit."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "&lt;string&gt;.isdigit()", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}], [{"text": ["I had the wrong idea, sorry. "], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["I don't recommend mixing iterating through a file"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n for line in datain:\n</code>\n</pre>\n", "senID": 1}, {"text": ["with using the read method (or any similar one)"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n c=datain.read(1)\n</code>\n</pre>\n", "senID": 3}, {"text": ["Just stick with one or the other.", "Personally, I would go with iterating here."], "childNum": 0, "tag": "p", "senID": 4, "childList": []}], [{"text": ["readlines() method returns a list of all the lines in the file.", "You can then iterate trough the list of characters in each line:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n filenm = raw_input(\"Enter a file name: \")\ndatain=open(filenm,\"r\")\n\ntry:\n\n    result = []\n\n    for line in datain.readlines():\n        print 'line: ' + line\n        for each in line:\n            try:\n                # attempt casting a number to int\n                int(each)\n                # if it worked it add it to the result list\n                result.append(each)\n            except:\n                pass\nexcept:\n    pass\n\nprint result\nif len(result) &gt; 0:\n   print \"The first number is\",(\" \".join(result[0]))+\". \"\nelse:\n   print \"There is no number in\" , filenm + \".\"\n</code>\n</pre>\n", "senID": 1}, {"text": ["This will only work with the first number character it finds, not sure if you actually need to extract multi digit numbers. "], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["My thoughts:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["1) As others noted, don't mask the exception.", "It would be better to let it be thrown - at least that way you find out what went wrong, if something went wrong."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["2) You do want to read the file a line at a time, using for line in file:.", "The reason for this is that the numbers you want to read are basically \"words\" (things separated by spaces), and there isn't a built-in way to read the file a word at a time.", "file.read(1) reads a single byte (i.e.", "character, for an ASCII file), and then you have to put them together into words yourself, which is tedious.", "It's much easier to tell Python to split a line into words.", "At least, I'm assuming here that you're not supposed to pick out the \"20\" from \"spam ham20eggs 10 lobster thermidor\"."], "childNum": 3, "tag": "p", "senID": 2, "childList": [{"text": "do", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}, {"text": "for line in file:", "childNum": 0, "tag": "code", "pos": -1, "childList": []}, {"text": "file.read(1)", "childNum": 0, "tag": "code", "pos": 2, "childList": []}]}, {"text": [".readlines() is somewhat redundant; it's a convenience for making a list of the lines in the file - but we don't need that list; we just need the lines one at a time.", "There is a function defined called .xreadlines() which does that, but it's deprecated - because we can just use for line in file:.", "Seriously - just keep it simple."], "childNum": 3, "tag": "p", "senID": 3, "childList": [{"text": ".readlines()", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": ".xreadlines()", "childNum": 0, "tag": "code", "pos": 1, "childList": []}, {"text": "for line in file:", "childNum": 0, "tag": "code", "pos": -1, "childList": []}]}, {"text": ["3) int in Python will not return a negative value if the input is non-numeric.", "It will throw an exception.", "Your code does not handle that exception properly, because it would break out of the loop.", "There is no way to tell Python \"keep going from where you threw the exception\" - and there shouldn't be, because how is the rest of the code supposed to account for what happened?"], "childNum": 1, "tag": "p", "senID": 4, "childList": [{"text": "int", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}], [{"text": ["Actually your code isn't too far off.", "There are a number of problems.", "One big one is that the try/except hides errors from you which might have help you figure things out yourself.", "Another was that you're reading the file with a mixture of a line at a time (and ignoring its contents entirely) as well as a character at a time. "], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "try/except", "childNum": 0, "tag": "code", "pos": 2, "childList": []}]}, {"text": ["There also seems to be a misunderstand on your part about what the int() function does when given a non-numeric character string, what it does is raise an exception rather than returning something less than 0.", "While you could enclose a call to it it in a try/except with the except being specifically for ValueError, in this case however it would be easier to just check ahead of time to see if the character is a digit since all you want to do is continue doing that until one that isn't is seen."], "childNum": 5, "tag": "p", "senID": 1, "childList": [{"text": "int()", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "could", "childNum": 0, "tag": "em", "pos": 1, "childList": []}, {"text": "try/except", "childNum": 0, "tag": "code", "childList": []}, {"text": "except", "childNum": 0, "tag": "code", "childList": []}, {"text": "ValueError", "childNum": 0, "tag": "code", "childList": []}]}, {"text": ["So here's one way your code could be revised that would address the above issues:"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n import string\n\nfilenm = raw_input(\"Enter a file name: \")\ndatain = open(filenm,\"r\")\n\n# find first sequence of one or more digits in file\nresult = []\nwhile True:\n    c = datain.read(1)\n\n    while c in string.digits:  # digit?\n        result.append(c)\n        c = datain.read(1)\n\n    if c == \"\" or len(result) &gt; 0:  # end-of-file or a number has been found\n        break  # get out of loop\n\nif len(result) &gt; 0:\n    print \"The first number is'\", \"\".join(result) + \"'.\"\nelse:\n    print \"There is no number in'\", filenm + \"'.\"\n\nclose(datain)\n</code>\n</pre>\n", "senID": 3}]]