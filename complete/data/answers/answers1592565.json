[[{"code": "<pre>\n<code>\n try:\n  thevariable\nexcept NameError:\n  print \"well, it WASN'T defined after all!\"\nelse:\n  print \"sure, it was defined.\"\n</code>\n</pre>\n", "senID": 0}, {"text": ["Despite the unexplained downvotes, try/except/else is nevertheless the right way to handle anomalous situations in Python.", "If you trust the anonymous, silent downvoters more than you trust me, go ahead and do it wrong; otherwise, you might want to consider this suggestion as it deserves!-)"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}], [{"text": ["I think it's better to avoid the situation.", "It's cleaner and clearer to write:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n a = None\nif condition:\n    a = 42\n</code>\n</pre>\n", "senID": 1}], [{"text": ["'a' in vars() or 'a' in globals()"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "'a' in vars() or 'a' in globals()", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"text": ["if you want to be pedantic, you can check the builtins too\n'a' in vars(__builtins__)"], "childNum": 2, "tag": "p", "senID": 1, "childList": [{"text": "", "childNum": 0, "tag": "br", "pos": 0, "childList": []}, {"text": "'a' in vars(__builtins__)", "childNum": 0, "tag": "code", "childList": []}]}], [{"text": ["The correct answer to the question, \"How do I discover if a variable is defined in python?", "\" is the not-very-useful but entirely-pythonic answer:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["Read the source file starting at the point where you want to discover if a variable is defined, going up in the file to the start of the source file.", "If you don't see the variable defined, then it is not defined."], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "Read the source file starting at the point where you want to discover if a variable is defined, going up in the file to the start of the source file. If you don't see the variable defined, then it is not defined.", "childNum": 0, "tag": "em", "pos": -1, "childList": []}]}, {"text": ["To answer the real question you're asking, \"Why is it not obvious how to deal with the situation where I have used the del keyword?"], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "del", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"text": ["Don't use thedelkeyword.", "It is not useful."], "childNum": 2, "tag": "p", "senID": 3, "childList": [{"text": "Don't use thedelkeyword. It is not useful.", "childNum": 1, "tag": "em", "pos": -1, "childList": [{"text": "del", "tag": "code"}]}, {"text": "del", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}], [{"text": ["For this particular case it's better to do a = None instead of del a.", "This will decrement reference count to object a was (if any) assigned to and won't fail when a is not defined.", "Note, that del statement doesn't call destructor of an object directly, but unbind it from variable.", "Destructor of object is called when reference count became zero."], "childNum": 5, "tag": "p", "senID": 0, "childList": [{"text": "a = None", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "del a", "childNum": 0, "tag": "code", "pos": -1, "childList": []}, {"text": "a", "childNum": 0, "tag": "code", "pos": 1, "childList": []}, {"text": "a", "childNum": 0, "tag": "code", "pos": 2, "childList": []}, {"text": "del", "childNum": 0, "tag": "code", "pos": -1, "childList": []}]}], [{"code": "<pre>\n<code>\n try:\n    a # does a exist in the current namespace\nexcept NameError:\n    a = 10 # nope\n</code>\n</pre>\n", "senID": 0}], [{"text": ["One possible situation where this might be needed:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["If you are using finally block to close connections but in the try block, the program exits with sys.exit() before the connection is defined.", "In this case, the finally block will be called and the connection closing statement will fail since no connection was created."], "childNum": 4, "tag": "p", "senID": 1, "childList": [{"text": "finally", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "try", "childNum": 0, "tag": "code", "pos": -1, "childList": []}, {"text": "sys.exit()", "childNum": 0, "tag": "code", "pos": -1, "childList": []}, {"text": "finally", "childNum": 0, "tag": "code", "pos": 1, "childList": []}]}], [{"code": "<pre>\n<code>\n a = None\nif a != None:\n    print a\nelse:\n    print 'Undefined'\n\na = 2\nif a != None:\n    print a\nelse:\n    print 'Undefined'\n</code>\n</pre>\n", "senID": 0}]]