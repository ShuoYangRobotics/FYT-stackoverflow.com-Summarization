[[{"text": ["This is a paid service that uses server-side clustering, but I'm not sure how it works.", "I'm guessing that they just use your data to generate the markers to be shown at each zoom level."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "This", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://www.maptimize.com/"}]}, {"text": ["Update: This tutorial demonstrates a basic server-side clustering function.", "It's written in PHP for the Static Maps API, but you could use it as a starting point."], "childNum": 2, "tag": "p", "senID": 1, "childList": [{"text": "Update:", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}, {"text": "This tutorial", "tag": "a", "pos": -1, "childList": [], "childNum": 0, "href": "http://www.appelsiini.net/2008/11/introduction-to-marker-clustering-with-google-maps"}]}], [{"text": ["I wrote a blog post about my approach using Python and Django here:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["http://www.quanative.com/2010/01/01/server-side-marker-clustering-for-google-maps-with-python/"], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "http://www.quanative.com/2010/01/01/server-side-marker-clustering-for-google-maps-with-python/", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://www.quanative.com/2010/01/01/server-side-marker-clustering-for-google-maps-with-python/"}]}], [{"text": ["You might want to take a look at the DBSCAN and OPTICS pages on wikipedia, these looks very suitable for clustering places on a map.", "There is also a page about Cluster Analysis that shows all the possible algorithms you can use, most would be trivial to implement using the language of your choice."], "childNum": 3, "tag": "p", "senID": 0, "childList": [{"text": "DBSCAN", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://en.wikipedia.org/wiki/DBSCAN"}, {"text": "OPTICS", "tag": "a", "pos": -1, "childList": [], "childNum": 0, "href": "http://en.wikipedia.org/wiki/OPTICS_algorithm"}, {"text": "Cluster Analysis", "tag": "a", "pos": 1, "childList": [], "childNum": 0, "href": "http://en.wikipedia.org/wiki/Cluster_analysis"}]}, {"text": ["With 28k+ points, you might want to skip django and just jump into C/C++ directly, and surely not expect this to get calculated in real-time in response to web requests."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}], [{"text": ["One way to do it would be to define a grid with a unit size based on the zoom level.", "So you collect up all the items within a grid by lat,lon to one decimal place.", "An example is 42.2x73.4.", "So a point at 42.2003x73.4021 falls in that grid cell.", "That cell is bounded by 42.2x73.3 and 42.2x73.5."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["If there are one or more points in a grid cell, you place a marker in the center of that grid."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["You then hook up the zoomend event and change your grid size accordingly, and redraw the markers."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["http://code.google.com/apis/maps/documentation/reference.html#GMap2.zoomend"], "childNum": 1, "tag": "p", "senID": 3, "childList": [{"text": "http://code.google.com/apis/maps/documentation/reference.html#GMap2.zoomend", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://code.google.com/apis/maps/documentation/reference.html#GMap2.zoomend"}]}], [{"text": ["You could simply drop decimals based on the zoom level.", "Would that work for you?"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["Our geo indexes are based on morton numbers:\nhttp://www.rooftopsolutions.nl/article/231 (shameless self promotion)."], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "http://www.rooftopsolutions.nl/article/231", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://www.rooftopsolutions.nl/article/231"}]}, {"text": ["If you want more precision than the 10-base system, the morton number will allow you to increase the zoom level on a 2-base number system, simply by doing something like:"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["GROUP BY (morton XOR (-precision))"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"text": ["The higher precision gets, the more items will be clustered."], "childNum": 0, "tag": "p", "senID": 4, "childList": []}], [{"text": ["I am using Django and Python to cluster real estate and rental listings, and the source can be found here."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "here", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://forum.mapaplace.com/discussion/3/server-side-marker-clustering-python-source-code/"}]}, {"text": ["Hope it helps!"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}]]