[[{"text": ["Change your list1 to a set:"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "list1", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n set1 = set(list1)\n</code>\n</pre>\n", "senID": 1}, {"text": ["The testing str1 in set1 will be much faster than str1 in list1 if you do frequent tests and the list is long."], "childNum": 3, "tag": "p", "senID": 2, "childList": [{"text": "str1 in set1", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "much", "childNum": 0, "tag": "strong", "childList": []}, {"text": "str1 in list1", "childNum": 0, "tag": "code", "childList": []}]}], [{"text": ["Firstly, profile the code.", "That will tell you where the slow parts are."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["Secondly, you might consider converting the words list to a set, which should have a faster 'in' operator for checking if the word is there."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["Thirdly, consider simplifying the code to remove unnecessary statements, eg."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n def is_valid(str1,list1):\n   return str1 in list1\n</code>\n</pre>\n", "senID": 3}], [{"text": ["What exactly are you trying to accomplish with this?", "It looks like you have some dictionary of valid words you are reading from already.", "Why are you permutating all combination of words that could be built from the input given by the user?  "], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["Something you need to consider about your algorithm.", "Every permutation you create you are iterating over every known word in your dictionary (list1).", "When you create all permutations of the words you are creating m!", "words where m number of the letters given by the user."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["You basically have O(n * m!).", "That's ridiculously huge for even small number of things like 7.", "By using a set, instead of a list, you can take that n term and reduce it to a constant which changes your algorithm to O(m!", ") which is still too big.", "If I had to guess what this algorithm is doing I'd say you want to know how many known words you can create out of the letters you are given.", "Again you didn't say that, but let's assume this is what you meant."], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "If I had to guess what this algorithm is doing I'd say you want to know how many known words you can create out of the letters you are given", "childNum": 0, "tag": "strong", "pos": 4, "childList": []}]}, {"text": ["A faster algorithm would be to iterate over every word in your dictionary and see if you can make that word by picking letters from the input.", "So you only walk over the dictionary once O(n * m).", "That eliminates the need to permutate your input.", "Here's the algorithm:"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"code": "<pre>\n<code>\n user_input = input(\"Give me some words\")\n for word in list1:\n     current = user_input\n     found = True\n     for letter in word:\n         if letter in current:\n            current.remove( letter )\n         else\n            found = False\n            break;\n     if found:\n        answers.add( word )\n print( answers )\n</code>\n</pre>\n", "senID": 4}, {"text": ["Sorry my python is a little rusty but hopefully you'll get the idea."], "childNum": 0, "tag": "p", "senID": 5, "childList": []}], [{"text": ["Try replacing the inner loop with:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n for x in itertools.permutations(letters,length):\n    word = ''.join(x)\n    if word.upper() in words:\n        answers.append(word)\n        print(word)\n</code>\n</pre>\n", "senID": 1}], [{"text": ["If you are too keen in increasing the speed at the cost of making it less readable you may try the following "], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n def is_valid(str1,list1):\n    return str1 in list1\nwords=[\"BAD\",\"CAB\",\"BEC\"]\ndef generate2(words,letters):\n    answers=[]\n    [[answers.append(''.join(x).upper()) for x in itertools.permutations(letters,length) if ''.join(x).upper() in words] for length in range(2,len(letters)+1)]\n    #print(answers)\n    return answers\n</code>\n</pre>\n", "senID": 1}, {"text": ["List comprehension is faster than loops.", "So combined both the loops to a single comprehension.", "Apart from that the statement"], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "List comprehension is faster than loops", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://wiki.python.org/moin/PythonSpeed/PerformanceTips#Loops"}]}, {"code": "<pre>\n<code>\n word=''\n        for let in x:\n            word+=let\n        if is_valid(word.upper(),words):\n</code>\n</pre>\n", "senID": 3}, {"text": ["can be combined to if is_valid(''.join(x).upper,words) or even ''.join(x).upper in words, remember function call is costly."], "childNum": 2, "tag": "p", "senID": 4, "childList": [{"text": "is_valid(''.join(x).upper,words)", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "''.join(x).upper in words", "childNum": 0, "tag": "code", "childList": []}]}, {"text": ["I have done a comparison in speed and looks list comprehension is running 50% faster."], "childNum": 0, "tag": "p", "senID": 5, "childList": []}, {"text": ["Its now upto you to decide"], "childNum": 0, "tag": "p", "senID": 6, "childList": []}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; stmt1=\"\"\"\ndef is_valid(str1,list1):\n    valid=False\n    if str1 in list1:\n        valid=True\n    return valid\nwords=[\"BAD\",\"CAB\",\"BEC\"]\ndef generate1(words,letters):\n    answers=[]\n    for length in range(2,len(letters)+1):\n        for x in itertools.permutations(letters,length):\n            word=''\n            for let in x:\n                word+=let\n            if is_valid(word.upper(),words):\n                answers.append(word)\n                #print(word)\n    #print(answers)\n    return answers\ngenerate1(words,['A','B','C','D','E'])\n\"\"\"\n&gt;&gt;&gt; \n&gt;&gt;&gt; stmt2=\"\"\"\ndef is_valid(str1,list1):\n    return str1 in list1\nwords=[\"BAD\",\"CAB\",\"BEC\"]\ndef generate2(words,letters):\n    answers=[]\n    [[answers.append(''.join(x).upper()) for x in itertools.permutations(letters,length) if ''.join(x).upper() in words] for length in range(2,len(letters)+1)]\n    #print(answers)\n    return answers\ngenerate2(words,['A','B','C','D','E'])\n\"\"\"\n&gt;&gt;&gt; \n&gt;&gt;&gt; t1=timeit.Timer(stmt=stmt1)\n&gt;&gt;&gt; t2=timeit.Timer(stmt=stmt2)\n&gt;&gt;&gt; t1.repeat(number=1000)\n&gt;&gt;&gt; t2=timeit.Timer(stmt=stmt2)\n&gt;&gt;&gt; t1.repeat(number=1000)\n[0.47923321640178074, 0.4353549521401874, 0.4362746333173959]\n&gt;&gt;&gt; t2.repeat(number=1000)\n[0.2536238984591819, 0.2470974750062851, 0.24726312027155473]\n</code>\n</pre>\n", "senID": 7}], [{"text": ["The issue is with your algorithm is basically O(n * m!", ") where n is the word list size and m is number of letters.", "Changing the word list to a set should make the searches log time and improve performance to O( log(n) * m!", ") as recommended by other people here. "], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "improve performance to O( log(n) * m!)", "childNum": 0, "tag": "strong", "pos": -1, "childList": []}]}, {"text": ["The real performance gain will however come from completely eliminating permuting the letters for the search.", "First sort the letters in each individual word in the word list alphabetically; it should take O( n * p log(p) ) time where p is average word length.", "Then sort the entire list alphabetically in O( n * log(n) ) time.", "Keep track of the original words as well, so that you can go from a string in the sorted word list to the original word in O(1).", "Next sort the imputed letters alphabetically and search for them in the sorted word list."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["The slowest operation in the above algorithm is sorting the list of alphabetically sorted strings, which is O(n Log(n) ).", "Searching such a list is Log( n ) and results in the entire algorithm executing in O( n Log(n) ) time.", "It should scale linearly to m, the number of letters inputed."], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "the entire algorithm executing in O( n Log(n) ) time", "childNum": 0, "tag": "strong", "pos": 1, "childList": []}]}, {"text": ["Implementation is left to the reader."], "childNum": 0, "tag": "p", "senID": 3, "childList": []}]]