<h3><span style="background-color:yellow;">Question</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">ID-7741662</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><h2><span style="background-color:yellow;">Build</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">specific</span> <span style="background-color:yellow;">keys</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">dict</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">python</span> <span style="background-color:yellow;"></span> ? </h2><p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'m</span> <span style="background-color:yellow;">implementing</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">Dijkstra</span> <span style="background-color:yellow;">search</span> <span style="background-color:yellow;">algorithm</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">Python.</span> <span style="background-color:yellow;">At</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">end</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">search</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">reconstruct</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">shortest</span> <span style="background-color:yellow;">path</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">predecessor</span> <span style="background-color:yellow;">map</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">starting</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">destination</span> <span style="background-color:yellow;">node</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">predecessor.</span> <span style="background-color:yellow;">For</span> <span style="background-color:yellow;">example</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>path = []
path.append(destination)
previous = predecessor_map[destination]
while previous != origin:
    path.append(previous)
    previous = predecessor_map[previous]
</code></pre>
<p><span style="background-color:yellow;">Is</span> <span style="background-color:yellow;">there</span> <span style="background-color:yellow;">any</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">less</span> <span style="background-color:yellow;">lines</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">e.g.</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">comprehension</span> <span style="background-color:yellow;"></span> ? </p>
<br /><h3><span style="background-color:yellow;">Answers</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">Total-6</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">0</span> </b><br /><p><span style="background-color:yellow;">The</span> <span style="background-color:yellow;">only</span> <span style="background-color:yellow;">suggestion</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">get</span> <span style="background-color:yellow;">rid</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">slight</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">duplication</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>path = []
previous = destination
while previous != origin:
    path.append(previous)
    previous = predecessor_map[previous]
</code></pre>
<p><span style="background-color:yellow;">Beyond</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">think</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">actually</span> <span style="background-color:yellow;">very</span> <span style="background-color:yellow;">clear</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">unlikely</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">benefit</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">any</span> <span style="background-color:yellow;">attempts</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">shorten</span> <span style="background-color:yellow;">it</span> . </p>
<p><span style="background-color:yellow;">Lastly</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">worth</span> <span style="background-color:yellow;">noting</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">above</span> <span style="background-color:yellow;">also</span> <span style="background-color:yellow;">works</span> <span style="background-color:yellow;">when</span> <span style="background-color:yellow;">destination</span> <span style="background-color:yellow;">=</span> <span style="background-color:yellow;">=</span> <span style="background-color:yellow;">origin</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">whereas</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">original</span> <span style="background-color:yellow;">version</span> <span style="background-color:yellow;">most</span> <span style="background-color:yellow;">probably</span> <span style="background-color:yellow;">does</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">depends</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">how</span> <span style="background-color:yellow;">exactly</span> <span style="background-color:yellow;">predecessor_map</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">populated</span> <span style="background-color:yellow;"></span> . <span style="background-color:yellow;">Do</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">know</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">relevant</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">cases</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">1</span> </b><br /><p><span style="background-color:yellow;">This</span> <span style="background-color:yellow;">might</span> <span style="background-color:yellow;">work</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>path = [destination]
path += iter(lambda: predecessor_map[path[-1]], origin)
</code></pre>
<p><span style="background-color:yellow;">It</span> <span style="background-color:yellow;">behaves</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">same</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">original</span> <span style="background-color:yellow;">code.</span> <span style="background-color:yellow;">But</span> <span style="background-color:yellow;">what</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">'ve</span> <span style="background-color:yellow;">already</span> <span style="background-color:yellow;">written</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">fine</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">is</span> . </p>
<p><span style="background-color:yellow;">If</span> <span style="background-color:yellow;">destination</span> <span style="background-color:yellow;">could</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">equal</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">origin</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>path = []
path += iter(lambda: predecessor_map[path[-1]] if path else destination, origin)
</code></pre>
<p><span style="background-color:yellow;">It</span> <span style="background-color:yellow;">behaves</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">same</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">@</span> <span style="background-color:yellow;">aix</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">code</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">2</span> </b><br /><pre><code>def backwalk(mymap, start, origin):
    yield start
    current = mymap[start]
    while current != origin:
        yield current
        current = mymap[current]

path = list(backwalk(predecessor_map, destination, origin))
</code></pre>
<p><span style="background-color:yellow;">This</span> <span style="background-color:yellow;">separates</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">walking</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">collecting</span> <span style="background-color:yellow;">tasks</span> . </p>
<p><span style="background-color:yellow;">If</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">ensure</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">never</span> <span style="background-color:yellow;">start</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">origin</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">simplify</span> <span style="background-color:yellow;">to</span> </p>
<pre><code>def backwalk(mymap, start, origin):
    current = start
    while current != origin:
        yield current
        current = mymap[current]
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">3</span> </b><br /><p><span style="background-color:yellow;">You</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">recursively</span> <span style="background-color:yellow;">traverse</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">edges</span> <span style="background-color:yellow;">assuming</span> <span style="background-color:yellow;">predecessor_map</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">dict</span> <span style="background-color:yellow;">mapping</span> <span style="background-color:yellow;">node</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">parent</span> <span style="background-color:yellow;">node</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">None</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">root</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>predecessor_map={0: None, 1: None, 2: 1, 3: 1, 4: 0, 5: 1}
</code></pre>
<p><span style="background-color:yellow;">Define</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">recursive</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">traverses</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">tree</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">reverse</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>def path(node, predecessors):
    return [None] if node is None else [node] + path(predecessors.get(node), predecessors)
</code></pre>
<p><span style="background-color:yellow;">Or</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">dare</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">Y</span> <span style="background-color:yellow;">combinator</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>Y=lambda f: (lambda x: f(lambda *args: x(x)(*args)))(lambda x: f(lambda *args: x(x)(*args)))
path=Y(lambda f: lambda node, p: [None] if node is None else [node] + f(p.get(node), p))
</code></pre>
<p><span style="background-color:yellow;">In</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">comprehension</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </p>
<pre><code>>>> print [node for node in path(None, predecessor_map)]
[None]
>>> print [node for node in path(0, predecessor_map)]
[0, None]
>>> print [node for node in path(1, predecessor_map)]
[1, None]
>>> print [node for node in path(2, predecessor_map)]
[2, 1, None]
>>> print [node for node in path(3, predecessor_map)]
[3, 1, None]
>>> print [node for node in path(4, predecessor_map)]
[4, 0, None]
>>> print [node for node in path(5, predecessor_map)]
[5, 1, None]
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">4</span> </b><br /><p><span style="background-color:yellow;">One</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">possible</span> <span style="background-color:yellow;">solution</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">functional</span> <span style="background-color:yellow;">style</span> <span style="background-color:yellow;">programming</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">deferred</span> <span style="background-color:yellow;">output</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>from itertools import tee, chain, imap, takewhile

predecessor_map = {2:1, 3:2}
destination = 3
origin = 1

def backwalk(predecessor_map, start, origin):

    def deffered_output():
        for i in output:
            yield i

    result, a = tee(deffered_output())
    b = imap(predecessor_map.get,a)
    output = takewhile(lambda x: x!=origin,chain([start],b))

    return result

print(list(backwalk(predecessor_map,destination,origin)))
</code></pre>
<p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">personally</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">approach.</span> <span style="background-color:yellow;">But</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">interesting</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">training</span> <span style="background-color:yellow;">though</span> . </p>
<p><span style="background-color:yellow;">Explanation</span> <span style="background-color:yellow;">The</span> <span style="background-color:yellow;">key</span> <span style="background-color:yellow;">element</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">deferred_output</span> <span style="background-color:yellow;">which</span> <span style="background-color:yellow;">postpones</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">calls</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">output</span> . <span style="background-color:yellow;">Then</span> <span style="background-color:yellow;">we</span> <span style="background-color:yellow;">split</span> <span style="background-color:yellow;">output</span> <span style="background-color:yellow;">into</span> <span style="background-color:yellow;">2</span> <span style="background-color:yellow;">iterators</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">tee</span> . <span style="background-color:yellow;">Then</span> <span style="background-color:yellow;">we</span> <span style="background-color:yellow;">apply</span> <span style="background-color:yellow;">predecessor_map.get</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">second</span> <span style="background-color:yellow;">iterator</span> <span style="background-color:yellow;">called</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">assign</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">new</span> <span style="background-color:yellow;">iterator</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">b</span> . <span style="background-color:yellow;">Then</span> <span style="background-color:yellow;">we</span> <span style="background-color:yellow;">control</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">output</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">takewhile</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">stop</span> <span style="background-color:yellow;">when</span> <span style="background-color:yellow;">origin</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">reached</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">5</span> </b><br /><p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">think</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">iteration</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">comprehension.</span> <span style="background-color:yellow;">Maybe</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">could</span> <span style="background-color:yellow;">simplify</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">little</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>    path, previous = [], destination
    while True:
        path.append(previous)
        previous = predecessor_map[previous]
        if previous == origin:
            break
</code></pre>
<p><span style="background-color:yellow;">The</span> <span style="background-color:yellow;">above</span> <span style="background-color:yellow;">loop</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">look</span> <span style="background-color:yellow;">nicer</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">do..while</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">lacks</span> <span style="background-color:yellow;">it</span> </p>
<br />