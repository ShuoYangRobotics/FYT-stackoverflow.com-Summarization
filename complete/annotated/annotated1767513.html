<h3><span style="background-color:yellow;">Question</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">ID-1767513</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><h2><span style="background-color:yellow;">Read</span> <span style="background-color:yellow;">first</span> <span style="background-color:yellow;">N</span> <span style="background-color:yellow;">lines</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">python</span> </h2><p><span style="background-color:yellow;">We</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">large</span> <span style="background-color:yellow;">raw</span> <span style="background-color:yellow;">data</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">we</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">trim</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">specified</span> <span style="background-color:yellow;">size</span> . <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">am</span> <span style="background-color:yellow;">experienced</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">.net</span> <span style="background-color:yellow;">c</span> <span style="background-color:yellow;">#</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">however</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">python</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">simplify</span> <span style="background-color:yellow;">things</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">out</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">interest</span> . </p>
<p><span style="background-color:yellow;">How</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">go</span> <span style="background-color:yellow;">about</span> <span style="background-color:yellow;">getting</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">first</span> <span style="background-color:yellow;">N</span> <span style="background-color:yellow;">lines</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">text</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">python</span> ? <span style="background-color:yellow;">Will</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">OS</span> <span style="background-color:yellow;">being</span> <span style="background-color:yellow;">used</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">any</span> <span style="background-color:yellow;">effect</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">implementation</span> ? </p>
<p><span style="background-color:yellow;">Thanks</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;"></span> </p>
<br /><h3><span style="background-color:yellow;">Answers</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">Total-6</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">0</span> </b><br /><pre><code>with open("datafile") as myfile:
    head=[myfile.next() for x in xrange(N)]
print head
</code></pre>
<p><span style="background-color:yellow;">Here</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">another</span> <span style="background-color:yellow;">way</span> </p>
<pre><code>from itertools import islice
with open("datafile") as myfile:
    head=list(islice(myfile,N))
print head
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">1</span> </b><br /><p><span style="background-color:yellow;">There</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">no</span> <span style="background-color:yellow;">specific</span> <span style="background-color:yellow;">method</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">read</span> <span style="background-color:yellow;">number</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">lines</span> <span style="background-color:yellow;">exposed</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">object</span> . </p>
<p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">guess</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">easiest</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">following</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>lines =[]
with open(file_name) as f:
    lines.extend(f.readline() for i in xrange(N))
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">2</span> </b><br /><p><span style="background-color:yellow;">If</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">want</span> <span style="background-color:yellow;">something</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">obviously</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">without</span> <span style="background-color:yellow;">looking</span> <span style="background-color:yellow;">up</span> <span style="background-color:yellow;">esoteric</span> <span style="background-color:yellow;">stuff</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">manuals</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">works</span> <span style="background-color:yellow;">without</span> <span style="background-color:yellow;">imports</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">try/except</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">works</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">fair</span> <span style="background-color:yellow;">range</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">2.x</span> <span style="background-color:yellow;">versions</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">2.2</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">2.6</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </p>
<pre><code>def headn(file_name, n):
    """Like *x head -N command"""
    result = []
    nlines = 0
    assert n >= 1
    for line in open(file_name):
        result.append(line)
        nlines += 1
        if nlines >= n:
            break
    return result

if __name__ == "__main__":
    import sys
    rval = headn(sys.argv[1], int(sys.argv[2]))
    print rval
    print len(rval)
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">3</span> </b><br /><pre><code>N=10
f=open("file")
for i in range(N):
    line=f.next().strip()
    print line
f.close()
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">4</span> </b><br /><p><span style="background-color:yellow;">Based</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">gnibbler</span> <span style="background-color:yellow;">top</span> <span style="background-color:yellow;">voted</span> <span style="background-color:yellow;">answer</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">Nov</span> <span style="background-color:yellow;">20</span> <span style="background-color:yellow;">'09</span> <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">0</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">27</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">class</span> <span style="background-color:yellow;">add</span> <span style="background-color:yellow;">head</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">tail</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">method</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">object</span> . </p>
<pre><code>class File(file):
    def head(self, lines_2find=1):
        self.seek(0)                            #Rewind file
        return [self.next() for x in xrange(lines_2find)]

    def tail(self, lines_2find=1):  
        self.seek(0, 2)                         #go to end of file
        bytes_in_file = self.tell()             
        lines_found, total_bytes_scanned = 0, 0
        while (lines_2find+1 > lines_found and
               bytes_in_file > total_bytes_scanned): 
            byte_block = min(1024, bytes_in_file-total_bytes_scanned)
            self.seek(-(byte_block+total_bytes_scanned), 2)
            total_bytes_scanned += byte_block
            lines_found += self.read(1024).count('\n')
        self.seek(-total_bytes_scanned, 2)
        line_list = list(self.readlines())
        return line_list[-lines_2find:]
</code></pre>
<p><span style="background-color:yellow;">Usage</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>f = File('path/to/file', 'r')
f.head(3)
f.tail(3)
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">5</span> </b><br /><p><span style="background-color:yellow;">most</span> <span style="background-color:yellow;">convinient</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">my</span> <span style="background-color:yellow;">own</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>LINE_COUNT = 3
print [s for (i, s) in enumerate(open('test.txt')) if i < LINE_COUNT]
</code></pre>
<p><span style="background-color:yellow;">Solution</span> <span style="background-color:yellow;">based</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">List</span> <span style="background-color:yellow;">Comprehension</span> <span style="background-color:yellow;">The</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">open</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">supports</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">iteration</span> <span style="background-color:yellow;">interface.</span> <span style="background-color:yellow;">The</span> <span style="background-color:yellow;">enumerate</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">covers</span> <span style="background-color:yellow;">open</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">return</span> <span style="background-color:yellow;">tuples</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">index</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">item</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">then</span> <span style="background-color:yellow;">we</span> <span style="background-color:yellow;">check</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">we</span> <span style="background-color:yellow;">'re</span> <span style="background-color:yellow;">inside</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">accepted</span> <span style="background-color:yellow;">range</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">i</span> <span style="background-color:yellow;">&lt</span> <span style="background-color:yellow;">;</span> <span style="background-color:yellow;">LINE_COUNT</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">then</span> <span style="background-color:yellow;">simply</span> <span style="background-color:yellow;">print</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">result</span> . </p>
<p><span style="background-color:yellow;">Enjoy</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">Python.</span> <span style="background-color:yellow;">;</span> <span style="background-color:yellow;"></span> </p>
<br />