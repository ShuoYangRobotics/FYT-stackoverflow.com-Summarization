<h3>Question ( ID-3268966 ) : </h3><h2>error : list objects <span style="background-color:yellow;">are</span> unhashable </h2><pre><code> closed = set() -here closed is a set
</code></pre>
<p><span style="background-color:yellow;">node</span> is ( 5,5 ) </p>
<p>The error occurse <span style="background-color:yellow;">at</span> execution time . </p>
<p>Error is : </p>
<p>list objects <span style="background-color:yellow;">are</span> unhashable </p>
<p>the program is : </p>
<pre><code>closed.add(node)
for val in closed:
      print val   
</code></pre>
<p>Node is the output of stack . </p>
<pre><code>node = stack.pop() - it gives me...(5,5)
</code></pre>
<p>Traceback : </p>
<pre><code>File "/home/", line 99, in depthFirstSearch
    closed.add(node)
TypeError: list objects are unhashable
</code></pre>
<br /><h3>Answers ( Total-7 ) : </h3><b># 0 </b><br /><p>I do not have <span style="background-color:yellow;">a</span> problem running the code if <span style="background-color:yellow;">node</span> is <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">tuple</span> , <span style="background-color:yellow;">as</span> you indicate. When I make <span style="background-color:yellow;">node</span> <span style="background-color:yellow;">a</span> list , e.g. , <span style="background-color:yellow;">node</span> = [ 5,5 ] , then I receive the error . </p>
<p>I believe the reason is because <span style="background-color:yellow;">a</span> list is mutable , so it is not suitable for checking for uniqueness : </p>
<pre>
   >>> a = [5,5] 
   >>> id(a) 
   140505526957552 
   >>> a.append(6) 
   >>> id(a)
   140505526957552
</pre>
<p>Since <span style="background-color:yellow;">a</span> has the same id despite the change , it can not be used in <span style="background-color:yellow;">a</span> set . </p>
<br /><b># 1 </b><br /><p>Show the <span style="background-color:yellow;">actual</span> code that you executed , plus the full traceback. Use copy/paste , do n't type from memory. You should <span style="background-color:yellow;">always</span> do this. Even better reason in this case is that that error can happen only if <span style="background-color:yellow;">node</span> is <span style="background-color:yellow;">a</span> list , not <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">tuple</span> <span style="background-color:yellow;">as</span> you have said . </p>
<br /><b># 2 </b><br /><p>Assuming <span style="background-color:yellow;">node</span> is <span style="background-color:yellow;">a</span> list , <span style="background-color:yellow;">and</span> given that <span style="background-color:yellow;">tuples</span> <span style="background-color:yellow;">are</span> hashable . </p>
<pre><code>closed.add(tuple(node))
</code></pre>
<br /><b># 3 </b><br /><p>No problem with that - <span style="background-color:yellow;">are</span> you sure it is this portion of code ? Can you post the traceback ? </p>
<pre><code>>>> closed = set()
>>> node = (5,5)
>>> closed.add(node)
>>> closed
set([(5, 5)])
>>> for val in closed:
...   print val
... 
(5, 5)
</code></pre>
<br /><b># 4 </b><br /><p>All your <span style="background-color:yellow;">node</span> object have to be hashable , see </p>
<p>http : //docs.python.org/glossary.html # term-hashable </p>
<br /><b># 5 </b><br /><p>Are you sure you did n't typed <span style="background-color:yellow;">node</span> = [ 5 , 5 ] instead of <span style="background-color:yellow;">node</span> = ( 5,5 ) ? Looks like you <span style="background-color:yellow;">node</span> is really <span style="background-color:yellow;">a</span> list <span style="background-color:yellow;">and</span> it rightly refuse to <span style="background-color:yellow;">add</span> <span style="background-color:yellow;">a</span> list to <span style="background-color:yellow;">a</span> set ( <span style="background-color:yellow;">as</span> it is unhashable ) . </p>
<p>Again : with some fonts parenthesis <span style="background-color:yellow;">and</span> square brackets <span style="background-color:yellow;">are</span> very similar. Or stacks contains other data <span style="background-color:yellow;">and</span> you did n't showed the right <span style="background-color:yellow;">node.</span> But you can get the <span style="background-color:yellow;">answer</span> by yourself. Just do : </p>
<pre><code>print type(node)
</code></pre>
<p>If it is <span style="background-color:yellow;">a</span> list you <span style="background-color:yellow;">are</span> here. If it is <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">tuple</span> , something really weird occurred . </p>
<br /><b># <span style="background-color:yellow;">6</span> </b><br /><p>You ca n't hash <span style="background-color:yellow;">a</span> list because hashes must be immutable. The implementation of set requires this for efficiency. Since the elements of <span style="background-color:yellow;">a</span> list can be updated <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">any</span> time , so would <span style="background-color:yellow;">any</span> hash value derived from the contents . </p>
<p>I think there 's <span style="background-color:yellow;">a</span> mistake in your example , <span style="background-color:yellow;">as</span> it shows <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">tuple</span> rather than <span style="background-color:yellow;">a</span> list . </p>
<br />