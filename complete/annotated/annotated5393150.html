<h3><span style="background-color:yellow;">Question</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">ID-5393150</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><h2><span style="background-color:yellow;">How</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">obtain</span> <span style="background-color:yellow;">values</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">lines</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">file2</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">only</span> <span style="background-color:yellow;">indices</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">file1</span> ? </h2><p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">file1</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">only</span> <span style="background-color:yellow;">indices</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">second</span> <span style="background-color:yellow;">file2</span> <span style="background-color:yellow;">contains</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">values</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">these</span> <span style="background-color:yellow;">indices</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">file1.</span> <span style="background-color:yellow;">How</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">obtain</span> <span style="background-color:yellow;">these</span> <span style="background-color:yellow;">values</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">file2</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">indices</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">file1</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">output</span> <span style="background-color:yellow;">its</span> <span style="background-color:yellow;">value</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">third</span> <span style="background-color:yellow;">file.For</span> <span style="background-color:yellow;">simplicity</span> <span style="background-color:yellow;">sake</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">every</span> <span style="background-color:yellow;">index</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">file1</span> <span style="background-color:yellow;">has</span> <span style="background-color:yellow;">its</span> <span style="background-color:yellow;">associated</span> <span style="background-color:yellow;">values</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">file2</span> . </p>
<p><span style="background-color:yellow;">For</span> <span style="background-color:yellow;">example</span> <span style="background-color:yellow;">:</span> </p>
<p><span style="background-color:yellow;">file1</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>2
3
4
</code></pre>
<p><span style="background-color:yellow;">file2</span> <span style="background-color:yellow;">contents</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>0.24  0.43             
0.34  0.28              
7.50  0.67               
0.23  0.78               
0.45  0.49              
</code></pre>
<p><span style="background-color:yellow;">Expected</span> <span style="background-color:yellow;">result</span> </p>
<pre><code>7.50 0.67
0.23 0.78
0.45 0.49
</code></pre>
<p><span style="background-color:yellow;">file1</span> <span style="background-color:yellow;">#</span> <span style="background-color:yellow;">contains</span> <span style="background-color:yellow;">only</span> <span style="background-color:yellow;">indices</span> <span style="background-color:yellow;">file2</span> <span style="background-color:yellow;">#</span> <span style="background-color:yellow;">every</span> <span style="background-color:yellow;">index</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">file1</span> <span style="background-color:yellow;">contains</span> <span style="background-color:yellow;">values</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">associated</span> <span style="background-color:yellow;">indices</span> </p>
<pre><code>fname = file1.readlines()
fname2 = file2.readlines()
outfile = open('Values.txt','w')

for index in fname:
  for line in fname2:
    if line == index:
      outfile.writelines(line)

print "all indices' values have been written to a file success
</code></pre>
<br /><h3><span style="background-color:yellow;">Answers</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">Total-6</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">0</span> </b><br /><p><span style="background-color:yellow;">These</span> <span style="background-color:yellow;">solutions</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">rely</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">file1</span> <span style="background-color:yellow;">being</span> <span style="background-color:yellow;">ordered</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">however</span> <span style="background-color:yellow;">they</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">load</span> <span style="background-color:yellow;">file2</span> <span style="background-color:yellow;">into</span> <span style="background-color:yellow;">memory</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">which</span> <span style="background-color:yellow;">could</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">costly</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">file2</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">large.</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">notice</span> <span style="background-color:yellow;">however</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">wanted_lines</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">lines_out</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">generators</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">first</span> <span style="background-color:yellow;">example</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">which</span> <span style="background-color:yellow;">should</span> <span style="background-color:yellow;">save</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">small</span> <span style="background-color:yellow;">amount</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">memory</span> . </p>
<p><span style="background-color:yellow;">This</span> <span style="background-color:yellow;">example</span> <span style="background-color:yellow;">has</span> <span style="background-color:yellow;">no</span> <span style="background-color:yellow;">error</span> <span style="background-color:yellow;">handling</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">basically</span> <span style="background-color:yellow;">what</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">need.</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'ll</span> <span style="background-color:yellow;">knock</span> <span style="background-color:yellow;">together</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">better</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">sec</span> . </p>
<pre><code>wanted_lines = (int(line) for line in open(file1).readlines())
all_lines = [line.strip() for line in open(file1).readlines()]
lines_out = (all_lines[index] for index in wanted_lines)
open(file3, 'w').writelines(lines_out)
</code></pre>
<hr />
<p><span style="background-color:yellow;">Better</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>all_lines = [line.strip() for line in open(file2).readlines()]
lines_out = []
for line in open(file1).readlines():
  try:
    index = int(line)
    lines_out.append(all_lines[index] + '\n')
  except IndexError:
    print file1, "is only", len(file1), "lines long, therefore has no", index+1, "th line."
  except:
    print "could not coerce", line.strip(), "to an int"
open(file3, 'w').writelines(lines_out)
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">1</span> </b><br /><pre><code>fname = file1.readlines()
fname = [ int(i) for i in fname]
f = open("file2")
for number,line in enumerate(f):
    if number in fname :
         print line.rstrip()
f.close()
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">2</span> </b><br /><pre><code>def copyLines(infname, outfname, lines, firstLine=0):
    lines = list(set(lines))   # remove duplicates
    lines.sort(reverse=True)   # sort in descending order
    with open(infname, 'r') as inf, open(outfname, 'w') as outf:
        try:
            i = firstLine
            while lines:
                seek = lines.pop()
                while i<seek:
                    inf.next()
                    i += 1
                outf.write(inf.next())
                i += 1
        except StopIteration:  # hit end of file
            pass

def main():
    with open('file1') as inf:
        linesToRead = [int(ln) for ln in inf]

    copyLines('file2', 'Values.txt', linesToRead)        

if __name__=="__main__":
    main()
</code></pre>
<p><span style="background-color:yellow;">Note</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">quit</span> <span style="background-color:yellow;">early</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">all</span> <span style="background-color:yellow;">desired</span> <span style="background-color:yellow;">lines</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">been</span> <span style="background-color:yellow;">found</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">ie</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">only</span> <span style="background-color:yellow;">want</span> <span style="background-color:yellow;">lines</span> <span style="background-color:yellow;">3-9</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">1000-line</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">only</span> <span style="background-color:yellow;">read</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">line</span> <span style="background-color:yellow;">9</span> <span style="background-color:yellow;"></span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">3</span> </b><br /><p><span style="background-color:yellow;">If</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">only</span> <span style="background-color:yellow;">want</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">oneliner</span> <span style="background-color:yellow;">bash</span> </p>
<pre><code>join file1 <(grep -v '^$' file2 | cat -n ) | cut -d ' ' -f 2- > Values.txt
</code></pre>
<p><span style="background-color:yellow;">but</span> <span style="background-color:yellow;">here</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">indices</span> <span style="background-color:yellow;">starts</span> <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">1</span> <span style="background-color:yellow;">instead</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">0.</span> <span style="background-color:yellow;">To</span> <span style="background-color:yellow;">start</span> <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">0</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>join <(awk '{print $1+1}' < file1)  <(grep -v '^$' file2 | cat -n) | cut -d ' ' -f 2- > Values.txt
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">4</span> </b><br /><p><span style="background-color:yellow;">If</span> <span style="background-color:yellow;">file2</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">lines</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">written</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">order</span> <span style="background-color:yellow;">they</span> <span style="background-color:yellow;">appear</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">file1</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">file1</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">contents</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">small</span> <span style="background-color:yellow;">enough</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">fit</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">RAM</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">should</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">efficiently</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>outfile = open('Values.txt','w')
desired = set(int(line) for line in open('file1').readlines())
for index, line in enumerate(open('file2')):
    if index in desired:
        outfile.write(line)
</code></pre>
<p><span style="background-color:yellow;">This</span> <span style="background-color:yellow;">differs</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">kurumi</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">answer</span> <span style="background-color:yellow;">mainly</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">uses</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">set</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">hold</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">line</span> <span style="background-color:yellow;">numbers</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">file1</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">O</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">1</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">instead</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">O</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">n</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">checking</span> <span style="background-color:yellow;">whether</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">emit</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">line</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">uses</span> <span style="background-color:yellow;">file.write</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">no</span> <span style="background-color:yellow;">whitespace</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">altered</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">original</span> <span style="background-color:yellow;">lines</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">file2</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">5</span> </b><br /><p><span style="background-color:yellow;">This</span> <span style="background-color:yellow;">version</span> <span style="background-color:yellow;">does</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">assume</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">indices</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">file1</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">sorted</span> . </p>
<pre><code>indices = [int(x) for x in file("file1").readlines()]
data = file("file2").readlines()

for i in indices:
    print data[i]
</code></pre>
<br />