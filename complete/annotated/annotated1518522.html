<h3><span style="background-color:yellow;">Question</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">ID-1518522</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><h2><span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">most</span> <span style="background-color:yellow;">common</span> <span style="background-color:yellow;">element</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">list</span> </h2><p><span style="background-color:yellow;">What</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">efficient</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">find</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">most</span> <span style="background-color:yellow;">common</span> <span style="background-color:yellow;">element</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">list</span> ? </p>
<p><span style="background-color:yellow;">My</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">items</span> <span style="background-color:yellow;">may</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">hashable</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">ca</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">dictionary</span> . <span style="background-color:yellow;">Also</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">case</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">draws</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">item</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">lowest</span> <span style="background-color:yellow;">index</span> <span style="background-color:yellow;">should</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">returned.</span> <span style="background-color:yellow;">Example</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>>>> most_common(['duck', 'duck', 'goose'])
'duck'
>>> most_common(['goose', 'duck', 'duck', 'goose'])
'goose'
</code></pre>
<br /><h3><span style="background-color:yellow;">Answers</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">Total-11</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">0</span> </b><br /><p><span style="background-color:yellow;">A</span> <span style="background-color:yellow;">simpler</span> <span style="background-color:yellow;">one-liner</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>def most_common(lst):
    return max(set(lst), key=lst.count)
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">1</span> </b><br /><p><span style="background-color:yellow;">With</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">many</span> <span style="background-color:yellow;">solutions</span> <span style="background-color:yellow;">proposed</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'m</span> <span style="background-color:yellow;">amazed</span> <span style="background-color:yellow;">nobody</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">proposed</span> <span style="background-color:yellow;">what</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'d</span> <span style="background-color:yellow;">consider</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">obvious</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">non-hashable</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">comparable</span> <span style="background-color:yellow;">elements</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">--</span> <span style="background-color:yellow;">[</span> <span style="background-color:yellow;">itertools.groupby</span> <span style="background-color:yellow;">]</span> <span style="background-color:yellow;">[</span> <span style="background-color:yellow;">1</span> <span style="background-color:yellow;">]</span> . <span style="background-color:yellow;">itertools</span> <span style="background-color:yellow;">offers</span> <span style="background-color:yellow;">fast</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">reusable</span> <span style="background-color:yellow;">functionality</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">lets</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">delegate</span> <span style="background-color:yellow;">some</span> <span style="background-color:yellow;">tricky</span> <span style="background-color:yellow;">logic</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">well-tested</span> <span style="background-color:yellow;">standard</span> <span style="background-color:yellow;">library</span> <span style="background-color:yellow;">components.</span> <span style="background-color:yellow;">Consider</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">example</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>import itertools
import operator

def most_common(L):
  # get an iterable of (item, iterable) pairs
  SL = sorted((x, i) for i, x in enumerate(L))
  # print 'SL:', SL
  groups = itertools.groupby(SL, key=operator.itemgetter(0))
  # auxiliary function to get "quality" for an item
  def _auxfun(g):
    item, iterable = g
    count = 0
    min_index = len(L)
    for _, where in iterable:
      count += 1
      min_index = min(min_index, where)
    # print 'item %r, count %r, minind %r' % (item, count, min_index)
    return count, -min_index
  # pick the highest-count/earliest item
  return max(groups, key=_auxfun)[0]
</code></pre>
<p><span style="background-color:yellow;">This</span> <span style="background-color:yellow;">could</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">written</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">concisely</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">course</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'m</span> <span style="background-color:yellow;">aiming</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">maximal</span> <span style="background-color:yellow;">clarity.</span> <span style="background-color:yellow;">The</span> <span style="background-color:yellow;">two</span> <span style="background-color:yellow;">print</span> <span style="background-color:yellow;">statements</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">uncommented</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">better</span> <span style="background-color:yellow;">see</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">machinery</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">action</span> <span style="background-color:yellow;">;</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">example</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">prints</span> <span style="background-color:yellow;">uncommented</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>print most_common(['goose', 'duck', 'duck', 'goose'])
</code></pre>
<p><span style="background-color:yellow;">emits</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>SL: [('duck', 1), ('duck', 2), ('goose', 0), ('goose', 3)]
item 'duck', count 2, minind 1
item 'goose', count 2, minind 0
goose
</code></pre>
<p><span style="background-color:yellow;">As</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">see</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">SL</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">pairs</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">each</span> <span style="background-color:yellow;">pair</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">item</span> <span style="background-color:yellow;">followed</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">item</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">index</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">original</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">implement</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">key</span> <span style="background-color:yellow;">condition</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">most</span> <span style="background-color:yellow;">common</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">items</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">same</span> <span style="background-color:yellow;">highest</span> <span style="background-color:yellow;">count</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">&gt</span> <span style="background-color:yellow;">;</span> <span style="background-color:yellow;">1</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">result</span> <span style="background-color:yellow;">must</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">earliest-occurring</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;"></span> . </p>
<p><span style="background-color:yellow;">groupby</span> <span style="background-color:yellow;">groups</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">item</span> <span style="background-color:yellow;">only</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">via</span> <span style="background-color:yellow;">operator.itemgetter</span> <span style="background-color:yellow;"></span> . <span style="background-color:yellow;">The</span> <span style="background-color:yellow;">auxiliary</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">called</span> <span style="background-color:yellow;">once</span> <span style="background-color:yellow;">per</span> <span style="background-color:yellow;">grouping</span> <span style="background-color:yellow;">during</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">max</span> <span style="background-color:yellow;">computation</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">receives</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">internally</span> <span style="background-color:yellow;">unpacks</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">group</span> <span style="background-color:yellow;">-</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">tuple</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">two</span> <span style="background-color:yellow;">items</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">item</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">iterable</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">where</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">iterable</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">items</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">also</span> <span style="background-color:yellow;">two-item</span> <span style="background-color:yellow;">tuples</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">item</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">original</span> <span style="background-color:yellow;">index</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">[</span> <span style="background-color:yellow;">[</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">items</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">SL</span> <span style="background-color:yellow;">]</span> <span style="background-color:yellow;">]</span> . </p>
<p><span style="background-color:yellow;">Then</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">auxiliary</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">uses</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">loop</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">determine</span> <span style="background-color:yellow;">both</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">count</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">entries</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">group</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">iterable</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">minimum</span> <span style="background-color:yellow;">original</span> <span style="background-color:yellow;">index</span> <span style="background-color:yellow;">;</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">returns</span> <span style="background-color:yellow;">those</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">combined</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">quality</span> <span style="background-color:yellow;">key</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">min</span> <span style="background-color:yellow;">index</span> <span style="background-color:yellow;">sign-changed</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">max</span> <span style="background-color:yellow;">operation</span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">consider</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">better</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">those</span> <span style="background-color:yellow;">items</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">occurred</span> <span style="background-color:yellow;">earlier</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">original</span> <span style="background-color:yellow;">list</span> . </p>
<p><span style="background-color:yellow;">This</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">could</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">much</span> <span style="background-color:yellow;">simpler</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">worried</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">little</span> <span style="background-color:yellow;">less</span> <span style="background-color:yellow;">about</span> <span style="background-color:yellow;">big-O</span> <span style="background-color:yellow;">issues</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">time</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">space</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">e.g....</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>def most_common(L):
  groups = itertools.groupby(sorted(L))
  def _auxfun((item, iterable)):
    return len(list(iterable)), -L.index(item)
  return max(groups, key=_auxfun)[0]
</code></pre>
<p><span style="background-color:yellow;">same</span> <span style="background-color:yellow;">basic</span> <span style="background-color:yellow;">idea</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">just</span> <span style="background-color:yellow;">expressed</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">simply</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">compactly...</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">alas</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">extra</span> <span style="background-color:yellow;">O</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">N</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">auxiliary</span> <span style="background-color:yellow;">space</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">embody</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">groups</span> <span style="background-color:yellow;">'</span> <span style="background-color:yellow;">iterables</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">lists</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">O</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">N</span> <span style="background-color:yellow;">squared</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">time</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">get</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">L.index</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">every</span> <span style="background-color:yellow;">item</span> <span style="background-color:yellow;"></span> . <span style="background-color:yellow;">While</span> <span style="background-color:yellow;">premature</span> <span style="background-color:yellow;">optimization</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">root</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">all</span> <span style="background-color:yellow;">evil</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">programming</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">deliberately</span> <span style="background-color:yellow;">picking</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">O</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">N</span> <span style="background-color:yellow;">squared</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">approach</span> <span style="background-color:yellow;">when</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">O</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">N</span> <span style="background-color:yellow;">log</span> <span style="background-color:yellow;">N</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">available</span> <span style="background-color:yellow;">just</span> <span style="background-color:yellow;">goes</span> <span style="background-color:yellow;">too</span> <span style="background-color:yellow;">much</span> <span style="background-color:yellow;">against</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">grain</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">scalability</span> <span style="background-color:yellow;">!</span> <span style="background-color:yellow;">-</span> <span style="background-color:yellow;"></span> </p>
<p><span style="background-color:yellow;">Finally</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">those</span> <span style="background-color:yellow;">who</span> <span style="background-color:yellow;">prefer</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">oneliners</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">clarity</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">performance</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">bonus</span> <span style="background-color:yellow;">1-liner</span> <span style="background-color:yellow;">version</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">suitably</span> <span style="background-color:yellow;">mangled</span> <span style="background-color:yellow;">names</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">-</span> <span style="background-color:yellow;"></span> . </p>
<pre><code>from itertools import groupby as g
def most_common_oneliner(L):
  return max(g(sorted(L)), key=lambda(x, v):(len(list(v)),-L.index(x)))[0]
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">2</span> </b><br /><p><span style="background-color:yellow;">If</span> <span style="background-color:yellow;">they</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">hashable</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">sort</span> <span style="background-color:yellow;">them</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">single</span> <span style="background-color:yellow;">loop</span> <span style="background-color:yellow;">over</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">result</span> <span style="background-color:yellow;">counting</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">items</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">identical</span> <span style="background-color:yellow;">items</span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">next</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">each</span> <span style="background-color:yellow;">other</span> <span style="background-color:yellow;"></span> . <span style="background-color:yellow;">But</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">might</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">faster</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">make</span> <span style="background-color:yellow;">them</span> <span style="background-color:yellow;">hashable</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">dict</span> . </p>
<pre><code>def most_common(lst):
    cur_length = 0
    max_length = 0
    cur_i = 0
    max_i = 0
    cur_item = None
    max_item = None
    for i, item in sorted(enumerate(lst), key=lambda x: x[1]):
        if cur_item is None or cur_item != item:
            if cur_length > max_length or (cur_length == max_length and cur_i < max_i):
                max_length = cur_length
                max_i = cur_i
                max_item = cur_item
            cur_length = 1
            cur_i = i
            cur_item = item
        else:
            cur_length += 1
    if cur_length > max_length or (cur_length == max_length and cur_i < max_i):
        return cur_item
    return max_item
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">3</span> </b><br /><p><span style="background-color:yellow;">Sort</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">copy</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">find</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">longest</span> <span style="background-color:yellow;">run.</span> <span style="background-color:yellow;">You</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">decorate</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">before</span> <span style="background-color:yellow;">sorting</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">index</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">each</span> <span style="background-color:yellow;">element</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">then</span> <span style="background-color:yellow;">choose</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">run</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">starts</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">lowest</span> <span style="background-color:yellow;">index</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">case</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">tie</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">4</span> </b><br /><pre><code># use Decorate, Sort, Undecorate to solve the problem

def most_common(iterable):
    # Make a list with tuples: (item, index)
    # The index will be used later to break ties for most common item.
    lst = [(x, i) for i, x in enumerate(iterable)]
    lst.sort()

    # lst_final will also be a list of tuples: (count, index, item)
    # Sorting on this list will find us the most common item, and the index
    # will break ties so the one listed first wins.  Count is negative so
    # largest count will have lowest value and sort first.
    lst_final = []

    # Get an iterator for our new list...
    itr = iter(lst)

    # ...and pop the first tuple off.  Setup current state vars for loop.
    count = 1
    tup = next(itr)
    x_cur, i_cur = tup

    # Loop over sorted list of tuples, counting occurrences of item.
    for tup in itr:
        # Same item again?
        if x_cur == tup[0]:
            # Yes, same item; increment count
            count += 1
        else:
            # No, new item, so write previous current item to lst_final...
            t = (-count, i_cur, x_cur)
            lst_final.append(t)
            # ...and reset current state vars for loop.
            x_cur, i_cur = tup
            count = 1

    # Write final item after loop ends
    t = (-count, i_cur, x_cur)
    lst_final.append(t)

    lst_final.sort()
    answer = lst_final[0][2]

    return answer

print most_common(['x', 'e', 'a', 'e', 'a', 'e', 'e']) # prints 'e'
print most_common(['goose', 'duck', 'duck', 'goose']) # prints 'goose'
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">5</span> </b><br /><p><span style="background-color:yellow;">This</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">obvious</span> <span style="background-color:yellow;">slow</span> <span style="background-color:yellow;">solution</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">O</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">n</span> <span style="background-color:yellow;">^</span> <span style="background-color:yellow;">2</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">neither</span> <span style="background-color:yellow;">sorting</span> <span style="background-color:yellow;">nor</span> <span style="background-color:yellow;">hashing</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">feasible</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">equality</span> <span style="background-color:yellow;">comparison</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">=</span> <span style="background-color:yellow;">=</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">available</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>def most_common(items):
  if not items:
    raise ValueError
  fitems = [] 
  best_idx = 0
  for item in items:   
    item_missing = True
    i = 0
    for fitem in fitems:  
      if fitem[0] == item:
        fitem[1] += 1
        d = fitem[1] - fitems[best_idx][1]
        if d > 0 or (d == 0 and fitems[best_idx][2] > fitem[2]):
          best_idx = i
        item_missing = False
        break
      i += 1
    if item_missing:
      fitems.append([item, 1, i])
  return items[best_idx]
</code></pre>
<p><span style="background-color:yellow;">But</span> <span style="background-color:yellow;">making</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">items</span> <span style="background-color:yellow;">hashable</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">sortable</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">recommended</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">other</span> <span style="background-color:yellow;">answers</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">almost</span> <span style="background-color:yellow;">always</span> <span style="background-color:yellow;">make</span> <span style="background-color:yellow;">finding</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">most</span> <span style="background-color:yellow;">common</span> <span style="background-color:yellow;">element</span> <span style="background-color:yellow;">faster</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">length</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">n</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">large.</span> <span style="background-color:yellow;">O</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">n</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">average</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">hashing</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">O</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">n</span> <span style="background-color:yellow;">*</span> <span style="background-color:yellow;">log</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">n</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">worst</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">sorting</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">6</span> </b><br /><p><span style="background-color:yellow;">A</span> <span style="background-color:yellow;">one-liner</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>def most_common (lst):
    return max(((item, lst.count(item)) for item in set(lst)), key=lambda a: a[1])[0]</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">7</span> </b><br /><p><span style="background-color:yellow;">This</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">O</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">n</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">solution</span> . </p>
<pre><code>mydict   = {}
cnt, itm = 0, ''
for item in reversed(lst):
     mydict[item] = mydict.get(item, 0) + 1
     if mydict[item] >= cnt :
         cnt, itm = mydict[item], item

print itm
</code></pre>
<p><span style="background-color:yellow;"></span> <span style="background-color:yellow;">reversed</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">used</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">make</span> <span style="background-color:yellow;">sure</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">returns</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">lowest</span> <span style="background-color:yellow;">index</span> <span style="background-color:yellow;">item</span> <span style="background-color:yellow;"></span> </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">8</span> </b><br /><p><span style="background-color:yellow;">You</span> <span style="background-color:yellow;">probably</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">need</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">anymore</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">what</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">did</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">similar</span> <span style="background-color:yellow;">problem.</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">It</span> <span style="background-color:yellow;">looks</span> <span style="background-color:yellow;">longer</span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">because</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">comments.</span> <span style="background-color:yellow;"></span> </p>
<pre><code>itemList = ['hi', 'hi', 'hello', 'bye']

counter = {}
maxItemCount = 0
for item in itemList:
    try:
        # Referencing this will cause a KeyError exception
        # if it doesn't already exist
        counter[item]
        # ... meaning if we get this far it didn't happen so
        # we'll increment
        counter[item] += 1
    except KeyError:
        # If we got a KeyError we need to create the
        # dictionary key
        counter[item] = 1

    # Keep overwriting maxItemCount with the latest number,
    # if it's higher than the existing itemCount
    if counter[item] > maxItemCount:
        maxItemCount = counter[item]
        mostPopularItem = item

print mostPopularItem
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">9</span> </b><br /><p><span style="background-color:yellow;">Here</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>def most_common(l):
    max = 0
    maxitem = None
    for x in set(l):
        count =  l.count(x)
        if count > max:
            max = count
            maxitem = x
    return maxitem
</code></pre>
<p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">vague</span> <span style="background-color:yellow;">feeling</span> <span style="background-color:yellow;">there</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">method</span> <span style="background-color:yellow;">somewhere</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">standard</span> <span style="background-color:yellow;">library</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">give</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">count</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">each</span> <span style="background-color:yellow;">element</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">ca</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">find</span> <span style="background-color:yellow;">it</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">10</span> </b><br /><pre><code>>>> li  = ['goose', 'duck', 'duck']

>>> def foo(li):
         st = set(li)
         mx = -1
         for each in st:
             temp = li.count(each):
             if mx < temp:
                 mx = temp 
                 h = each 
         return h

>>> foo(li)
'duck'
</code></pre>
<br />