<h3><span style="background-color:yellow;">Question</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">ID-6971819</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><h2><span style="background-color:yellow;">Find</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">numbers</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">made</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">addition</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">subtraction</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">all</span> <span style="background-color:yellow;">numbers</span> <span style="background-color:yellow;">given</span> </h2><p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'ve</span> <span style="background-color:yellow;">profiled</span> <span style="background-color:yellow;">my</span> <span style="background-color:yellow;">application</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">spends</span> <span style="background-color:yellow;">90</span> <span style="background-color:yellow;">%</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">its</span> <span style="background-color:yellow;">time</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">plus_minus_variations</span> . </p>
<p><span style="background-color:yellow;">The</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">finds</span> <span style="background-color:yellow;">ways</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">make</span> <span style="background-color:yellow;">various</span> <span style="background-color:yellow;">numbers</span> <span style="background-color:yellow;">given</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">numbers</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">addition</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">subtraction</span> . </p>
<p><span style="background-color:yellow;">For</span> <span style="background-color:yellow;">example</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">Input</span> </p>
<pre><code>1, 2
</code></pre>
<p><span style="background-color:yellow;">Output</span> </p>
<pre><code>1+2=3
1-2=-1
-1+2=1
-1-2=-3
</code></pre>
<p><span style="background-color:yellow;">This</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">my</span> <span style="background-color:yellow;">current</span> <span style="background-color:yellow;">code.</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">think</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">could</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">improved</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">lot</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">terms</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">speed</span> . </p>
<pre><code>def plus_minus_variations(nums):
    result = dict()
    for i, ops in zip(xrange(2 ** len(nums)), \
            itertools.product([-1, 1], repeat=len(nums))):
        total = sum(map(operator.mul, ops, nums))
        result[total] = ops
    return result
</code></pre>
<p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'m</span> <span style="background-color:yellow;">mainly</span> <span style="background-color:yellow;">looking</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">different</span> <span style="background-color:yellow;">algorithm</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">approach</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">with.</span> <span style="background-color:yellow;">My</span> <span style="background-color:yellow;">current</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">seems</span> <span style="background-color:yellow;">pretty</span> <span style="background-color:yellow;">inefficient.</span> <span style="background-color:yellow;">However</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">optimization</span> <span style="background-color:yellow;">suggestions</span> <span style="background-color:yellow;">about</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">itself</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'d</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">happy</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">hear</span> <span style="background-color:yellow;">those</span> <span style="background-color:yellow;">too</span> . </p>
<p><span style="background-color:yellow;">Additional</span> <span style="background-color:yellow;">:</span> </p>
<ul><span style="background-color:yellow;">It</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">okay</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">result</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">missing</span> <span style="background-color:yellow;">some</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">answers</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">has</span> <span style="background-color:yellow;">some</span> <span style="background-color:yellow;">extraneous</span> <span style="background-color:yellow;">answers</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">finishes</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">lot</span> <span style="background-color:yellow;">faster</span> . <span style="background-color:yellow;">If</span> <span style="background-color:yellow;">there</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">multiple</span> <span style="background-color:yellow;">ways</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">get</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">number</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">any</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">them</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">fine</span> . <span style="background-color:yellow;">For</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">sizes</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'m</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">99.9</span> <span style="background-color:yellow;">%</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">ways</span> <span style="background-color:yellow;">produce</span> <span style="background-color:yellow;">duplicate</span> <span style="background-color:yellow;">numbers</span> . <span style="background-color:yellow;">It</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">okay</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">result</span> <span style="background-color:yellow;">does</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">numbers</span> <span style="background-color:yellow;">were</span> <span style="background-color:yellow;">produced</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">again</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">finishes</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">lot</span> <span style="background-color:yellow;">faster</span> . </ul>
<br /><h3><span style="background-color:yellow;">Answers</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">Total-6</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">0</span> </b><br /><p><span style="background-color:yellow;">EDITED</span> <span style="background-color:yellow;">:</span> </p>
<p><span style="background-color:yellow;">Aha</span> <span style="background-color:yellow;">!</span> <span style="background-color:yellow;">Code</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">3</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">inspired</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">tyz</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>from functools import reduce # only in Python 3

def process(old, num):
    new = set(map(num.__add__, old)) # use itertools.imap for Python 2
    new.update(map((-num).__add__, old))
    return new

def pmv(nums):
    n = iter(nums)
    x = next(n)
    result = {x, -x} # set([x, -x]) for Python 2
    return reduce(process, n, result)
</code></pre>
<p><span style="background-color:yellow;">Instead</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">split</span> <span style="background-color:yellow;">half</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">recursive</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">reduce</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">compute</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">one.</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">extremely</span> <span style="background-color:yellow;">reduced</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">times</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">calls</span> . </p>
<p><span style="background-color:yellow;">Take</span> <span style="background-color:yellow;">less</span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">1</span> <span style="background-color:yellow;">sec</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">compute</span> <span style="background-color:yellow;">256</span> <span style="background-color:yellow;">numbers</span> . </p>
<hr />
<p><span style="background-color:yellow;">Why</span> <span style="background-color:yellow;">product</span> <span style="background-color:yellow;">then</span> <span style="background-color:yellow;">mult</span> ? </p>
<pre><code>def pmv(nums):
    return {sum(i):i for i in itertools.product(*((num, -num) for num in nums))}
</code></pre>
<p><span style="background-color:yellow;">Can</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">faster</span> <span style="background-color:yellow;">without</span> <span style="background-color:yellow;">how</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">numbers</span> <span style="background-color:yellow;">were</span> <span style="background-color:yellow;">produced</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>def pmv(nums):
    return set(map(sum, itertools.product(*((num, -num) for num in nums))))
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">1</span> </b><br /><p><span style="background-color:yellow;">If</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">ok</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">get</span> <span style="background-color:yellow;">trace</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">number</span> <span style="background-color:yellow;">producing</span> <span style="background-color:yellow;">there</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">no</span> <span style="background-color:yellow;">reasons</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">recalculate</span> <span style="background-color:yellow;">sum</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">number</span> <span style="background-color:yellow;">combination</span> <span style="background-color:yellow;">every</span> <span style="background-color:yellow;">time.</span> <span style="background-color:yellow;">You</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">store</span> <span style="background-color:yellow;">intermediate</span> <span style="background-color:yellow;">results</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>def combine(l,r):
    res = set()
    for x in l:
        for y in r:
            res.add( x+y )
            res.add( x-y )
            res.add( -x+y )
            res.add( -x-y )
    return list(res)

def pmv(nums):
    if len(nums) > 1:
        l = pmv( nums[:len(nums)/2] )
        r = pmv( nums[len(nums)/2:] )
        return combine( l, r )
    return nums
</code></pre>
<p><span style="background-color:yellow;">EDIT</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">number</span> <span style="background-color:yellow;">generation</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">important</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">variant</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>def combine(l,r):
    res = dict()
    for x,q in l.iteritems():
        for y,w in r.iteritems():
            if not res.has_key(x+y):
                res[x+y] = w+q
                res[-x-y] = [-i for i in res[x+y]]
            if not res.has_key(x-y):
                res[x-y] = w+[-i for i in q]
                res[-x+y] = [-i for i in res[x-y]]
    return res

def pmv(nums):
    if len(nums) > 1:
        l = pmv( nums[:len(nums)/2] )
        r = pmv( nums[len(nums)/2:] )
        return combine( l, r )
    return {nums[0]:[1]}
</code></pre>
<p><span style="background-color:yellow;">My</span> <span style="background-color:yellow;">tests</span> <span style="background-color:yellow;">shows</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">still</span> <span style="background-color:yellow;">faster</span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">other</span> <span style="background-color:yellow;">solutions</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">2</span> </b><br /><p><span style="background-color:yellow;">This</span> <span style="background-color:yellow;">seems</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">significantly</span> <span style="background-color:yellow;">faster</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">large</span> <span style="background-color:yellow;">random</span> <span style="background-color:yellow;">lists</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">guess</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">could</span> <span style="background-color:yellow;">further</span> <span style="background-color:yellow;">micro-optimize</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">prefer</span> <span style="background-color:yellow;">readability</span> . </p>
<p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">chunk</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">into</span> <span style="background-color:yellow;">smaller</span> <span style="background-color:yellow;">pieces</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">create</span> <span style="background-color:yellow;">variations</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">it.</span> <span style="background-color:yellow;">Since</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">get</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">lot</span> <span style="background-color:yellow;">less</span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">2</span> <span style="background-color:yellow;">*</span> <span style="background-color:yellow;">*</span> <span style="background-color:yellow;">len</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">chunk</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">variatons</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">going</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">faster.</span> <span style="background-color:yellow;">Chunk</span> <span style="background-color:yellow;">length</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">6</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">play</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">see</span> <span style="background-color:yellow;">what</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">optimal</span> <span style="background-color:yellow;">chunk</span> <span style="background-color:yellow;">length</span> . </p>
<pre><code>def pmv(nums):
    chunklen=6
    res = dict()
    res[0] = ()
    for i in xrange(0, len(nums), chunklen):
        part = plus_minus_variations(nums[i:i+chunklen])
        resnew = dict()
        for (i,j) in itertools.product(res, part):
            resnew[i + j] = tuple(list(res[i]) + list(part[j]))
        res = resnew
    return res
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">3</span> </b><br /><p><span style="background-color:yellow;">You</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">get</span> <span style="background-color:yellow;">something</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">50</span> <span style="background-color:yellow;">%</span> <span style="background-color:yellow;">speedup</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">least</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">short</span> <span style="background-color:yellow;">lists</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">just</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">doing</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>from itertools import product, imap
from operator import mul

def plus_minus_variations(nums):
    result = {}
    for ops in product((-1, 1), repeat=len(nums)):
        result[sum(imap(mul, ops, nums))] = ops
    return result
</code></pre>
<p><span style="background-color:yellow;">imap</span> <span style="background-color:yellow;">wo</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">create</span> <span style="background-color:yellow;">intermediate</span> <span style="background-color:yellow;">lists</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">need.</span> <span style="background-color:yellow;">Importing</span> <span style="background-color:yellow;">into</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">local</span> <span style="background-color:yellow;">namespace</span> <span style="background-color:yellow;">saves</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">time</span> <span style="background-color:yellow;">attribute</span> <span style="background-color:yellow;">lookup</span> <span style="background-color:yellow;">takes.</span> <span style="background-color:yellow;">Tuples</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">faster</span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">lists.</span> <span style="background-color:yellow;">Do</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">store</span> <span style="background-color:yellow;">unneeded</span> <span style="background-color:yellow;">intermediate</span> <span style="background-color:yellow;">items</span> . </p>
<p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">tried</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">dict</span> <span style="background-color:yellow;">comprehension</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">was</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">bit</span> <span style="background-color:yellow;">slower.</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">tried</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">set</span> <span style="background-color:yellow;">comprehension</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">saving</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">ops</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">was</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">same</span> <span style="background-color:yellow;">speed</span> . </p>
<p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">know</span> <span style="background-color:yellow;">why</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">were</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">zip</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">xrange</span> <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">all...</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">were</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">result</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">calculation</span> . </p>
<p><span style="background-color:yellow;">Edit</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">get</span> <span style="background-color:yellow;">significant</span> <span style="background-color:yellow;">speedups</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">version</span> <span style="background-color:yellow;">all</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">up</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">point</span> <span style="background-color:yellow;">where</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">version</span> <span style="background-color:yellow;">gives</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">memory</span> <span style="background-color:yellow;">error</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">just</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">short</span> <span style="background-color:yellow;">lists</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">4</span> </b><br /><p><span style="background-color:yellow;">From</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">mathematical</span> <span style="background-color:yellow;">point</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">view</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">finally</span> <span style="background-color:yellow;">arive</span> <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">all</span> <span style="background-color:yellow;">multiples</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">greatest</span> <span style="background-color:yellow;">common</span> <span style="background-color:yellow;">divisor</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">startvalues</span> . </p>
<p><span style="background-color:yellow;">For</span> <span style="background-color:yellow;">example</span> <span style="background-color:yellow;">:</span> </p>
<ul><span style="background-color:yellow;">startvalues</span> <span style="background-color:yellow;">2,4.</span> <span style="background-color:yellow;">then</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">gcd</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">2,4</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">2</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">generated</span> <span style="background-color:yellow;">numbers</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">..</span> <span style="background-color:yellow;">-4</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">-2</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">0</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">2</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">4</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">..</span> . <span style="background-color:yellow;">startvalues</span> <span style="background-color:yellow;">3,5.</span> <span style="background-color:yellow;">then</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">gcd</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">3,5</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">1</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">get</span> <span style="background-color:yellow;">all</span> <span style="background-color:yellow;">integers</span> . <span style="background-color:yellow;">startvalues</span> <span style="background-color:yellow;">12</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">18</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">15.</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">gcd</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">12,15,18</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">3</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">get</span> <span style="background-color:yellow;">..</span> <span style="background-color:yellow;">-6</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">-3</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">0</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">3</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">6</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">...</span> . </ul>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">5</span> </b><br /><p><span style="background-color:yellow;">This</span> <span style="background-color:yellow;">simple</span> <span style="background-color:yellow;">iterative</span> <span style="background-color:yellow;">method</span> <span style="background-color:yellow;">computes</span> <span style="background-color:yellow;">all</span> <span style="background-color:yellow;">possible</span> <span style="background-color:yellow;">sums.</span> <span style="background-color:yellow;">It</span> <span style="background-color:yellow;">could</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">about</span> <span style="background-color:yellow;">5</span> <span style="background-color:yellow;">times</span> <span style="background-color:yellow;">faster</span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">recursive</span> <span style="background-color:yellow;">method</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">@</span> <span style="background-color:yellow;">tyz</span> . </p>
<pre><code>def pmv(nums):
    sums = set()
    sums.add(0)
    for i in range(0, len(nums)):
        partialsums = set()
        for s in sums:
            partialsums.add(s + nums[i])
            partialsums.add(s - nums[i])
        sums = partialsums
    return sums
</code></pre>
<br />