<h3><span style="background-color:yellow;">Question</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">ID-890171</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><h2><span style="background-color:yellow;">Algorithm</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">Divide</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">numbers</span> <span style="background-color:yellow;">into</span> <span style="background-color:yellow;">2</span> <span style="background-color:yellow;">equal</span> <span style="background-color:yellow;">sum</span> <span style="background-color:yellow;">lists</span> </h2><p><span style="background-color:yellow;">There</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">numbers</span> . </p>
<p><span style="background-color:yellow;">The</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">divided</span> <span style="background-color:yellow;">into</span> <span style="background-color:yellow;">2</span> <span style="background-color:yellow;">equal</span> <span style="background-color:yellow;">sized</span> <span style="background-color:yellow;">lists</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">minimal</span> <span style="background-color:yellow;">difference</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">sum.</span> <span style="background-color:yellow;">The</span> <span style="background-color:yellow;">sums</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">printed</span> . </p>
<pre><code>#Example:
>>>que = [2,3,10,5,8,9,7,3,5,2]
>>>make_teams(que)
27 27
</code></pre>
<p><span style="background-color:yellow;">Is</span> <span style="background-color:yellow;">there</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">error</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">following</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">algorithm</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">some</span> <span style="background-color:yellow;">case</span> ? </p>
<p><span style="background-color:yellow;">How</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">optimize</span> <span style="background-color:yellow;">and/or</span> <span style="background-color:yellow;">pythonize</span> <span style="background-color:yellow;">this</span> ? </p>
<pre><code>def make_teams(que):
    que.sort()
    if len(que)%2: que.insert(0,0)
    t1,t2 = [],[]
    while que:
	val = (que.pop(), que.pop())
	if sum(t1)>sum(t2):
	    t2.append(val[0])
	    t1.append(val[1])
	else:
	    t1.append(val[0])
	    t2.append(val[1])
    print min(sum(t1),sum(t2)), max(sum(t1),sum(t2)), "\n"
</code></pre>
<p><span style="background-color:yellow;">Question</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">http</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">//www.codechef.com/problems/TEAMSEL/</span> </p>
<br /><h3><span style="background-color:yellow;">Answers</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">Total-14</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">0</span> </b><br /><p><span style="background-color:yellow;">Dynamic</span> <span style="background-color:yellow;">programming</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">solution</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">'re</span> <span style="background-color:yellow;">looking</span> <span style="background-color:yellow;">for</span> . </p>
<p><span style="background-color:yellow;">Example</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">{</span> <span style="background-color:yellow;">3,4,10,3,2,5</span> <span style="background-color:yellow;">}</span> </p>
<pre>
X-Axis: Reachable sum of group.        max = sum(all numbers) / 2    (rounded up)
Y-Axis: Count elements in group.       max = count numbers / 2       (rounded up)

      1  2  3  4  5  6  7  8  9 10 11 12 13 14
 1  |  |  |  | 4|  |  |  |  |  |  |  |  |  |  |       //  4
 2  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
 3  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
</pre>
<pre>
      1  2  3  4  5  6  7  8  9 10 11 12 13 14
 1  |  |  | 3| 4|  |  |  |  |  |  |  |  |  |  |       //  3
 2  |  |  |  |  |  |  | 3|  |  |  |  |  |  |  |
 3  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
</pre>
<pre>
      1  2  3  4  5  6  7  8  9 10 11 12 13 14
 1  |  |  | 3| 4|  |  |  |  |  |10|  |  |  |  |       // 10
 2  |  |  |  |  |  |  | 3|  |  |  |  |  |10|10|
 3  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
</pre>
<pre>
      1  2  3  4  5  6  7  8  9 10 11 12 13 14
 1  |  |  | 3| 4|  |  |  |  |  |10|  |  |  |  |       //  3
 2  |  |  |  |  |  | 3| 3|  |  |  |  |  |10|10|
 3  |  |  |  |  |  |  |  |  |  | 3|  |  |  |  |
</pre>
<pre>
      1  2  3  4  5  6  7  8  9 10 11 12 13 14
 1  |  | 2| 3| 4|  |  |  |  |  |10|  |  |  |  |       //  2
 2  |  |  |  |  | 2| 3| 3|  |  |  |  | 2|10|10|
 3  |  |  |  |  |  |  |  | 2| 2| 3|  |  |  |  |
</pre>
<pre>
      1  2  3  4  5  6  7  8  9 10 11 12 13 14
 1  |  | 2| 3| 4| 5|  |  |  |  |10|  |  |  |  |       //  5
 2  |  |  |  |  | 2| 3| 3| 5| 5|  |  | 2|10|10|
 3  |  |  |  |  |  |  |  | 2| 2| 3| 5| 5|  |  |
                                       ^
</pre>
<p><span style="background-color:yellow;">12</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">our</span> <span style="background-color:yellow;">lucky</span> <span style="background-color:yellow;">number</span> <span style="background-color:yellow;">!</span> <span style="background-color:yellow;">Backtracing</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">get</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">group</span> <span style="background-color:yellow;">:</span> </p>
<pre>
12 - 5 = 7        {5}
 7 - 3 = 4        {5, 3}
 4 - 4 = 0        {5, 3, 4}
</pre>
<p><span style="background-color:yellow;">The</span> <span style="background-color:yellow;">other</span> <span style="background-color:yellow;">set</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">then</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">calculated</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">{</span> <span style="background-color:yellow;">4,3,10,3,2,5</span> <span style="background-color:yellow;">}</span> <span style="background-color:yellow;">-</span> <span style="background-color:yellow;">{</span> <span style="background-color:yellow;">5,3,4</span> <span style="background-color:yellow;">}</span> <span style="background-color:yellow;">=</span> <span style="background-color:yellow;">{</span> <span style="background-color:yellow;">10,3,2</span> <span style="background-color:yellow;">}</span> </p>
<p><span style="background-color:yellow;">All</span> <span style="background-color:yellow;">fields</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">number</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">possible</span> <span style="background-color:yellow;">solutions</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">bag.</span> <span style="background-color:yellow;">Choose</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">furthest</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">bottom</span> <span style="background-color:yellow;">right</span> <span style="background-color:yellow;">corner</span> . </p>
<p><span style="background-color:yellow;">BTW</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">It</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">called</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">knapsack-problem</span> . </p>
<blockquote><span style="background-color:yellow;">If</span> <span style="background-color:yellow;">all</span> <span style="background-color:yellow;">weights</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">w1</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">...</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">wn</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">W</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">nonnegative</span> <span style="background-color:yellow;">integers</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">knapsack</span> <span style="background-color:yellow;">problem</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">solved</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">pseudo-polynomial</span> <span style="background-color:yellow;">time</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">dynamic</span> <span style="background-color:yellow;">programming</span> . </blockquote>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">1</span> </b><br /><p><span style="background-color:yellow;">New</span> <span style="background-color:yellow;">Solution</span> </p>
<p><span style="background-color:yellow;">This</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">breadth-first</span> <span style="background-color:yellow;">search</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">heuristics</span> <span style="background-color:yellow;">culling.</span> <span style="background-color:yellow;">The</span> <span style="background-color:yellow;">tree</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">limited</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">depth</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">players/2.</span> <span style="background-color:yellow;">The</span> <span style="background-color:yellow;">player</span> <span style="background-color:yellow;">sum</span> <span style="background-color:yellow;">limit</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">totalscores/2.</span> <span style="background-color:yellow;">With</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">player</span> <span style="background-color:yellow;">pool</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">100</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">took</span> <span style="background-color:yellow;">approximately</span> <span style="background-color:yellow;">10</span> <span style="background-color:yellow;">seconds</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">solve</span> . </p>
<pre><code>def team(t):
    iterations = range(2, len(t)/2+1)

    totalscore = sum(t)
    halftotalscore = totalscore/2.0

    oldmoves = {}

    for p in t:
        people_left = t[:]
        people_left.remove(p)
        oldmoves[p] = people_left

    if iterations == []:
        solution = min(map(lambda i: (abs(float(i)-halftotalscore), i), oldmoves.keys()))
        return (solution[1], sum(oldmoves[solution[1]]), oldmoves[solution[1]])

    for n in iterations:
        newmoves = {}
        for total, roster in oldmoves.iteritems():
            for p in roster:
                people_left = roster[:]
                people_left.remove(p)
                newtotal = total+p
                if newtotal > halftotalscore: continue
                newmoves[newtotal] = people_left
        oldmoves = newmoves

    solution = min(map(lambda i: (abs(float(i)-halftotalscore), i), oldmoves.keys()))
    return (solution[1], sum(oldmoves[solution[1]]), oldmoves[solution[1]])

print team([90,200,100])
print team([2,3,10,5,8,9,7,3,5,2])
print team([1,1,1,1,1,1,1,1,1,9])
print team([87,100,28,67,68,41,67,1])
print team([1, 1, 50, 50, 50, 1000])

#output
#(200, 190, [90, 100])
#(27, 27, [3, 9, 7, 3, 5])
#(5, 13, [1, 1, 1, 1, 9])
#(229, 230, [28, 67, 68, 67])
#(150, 1002, [1, 1, 1000])
</code></pre>
<p><span style="background-color:yellow;">Also</span> <span style="background-color:yellow;">note</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">attempted</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">solve</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">GS</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">description</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">impossible</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">get</span> <span style="background-color:yellow;">enough</span> <span style="background-color:yellow;">information</span> <span style="background-color:yellow;">simply</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">storing</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">running</span> <span style="background-color:yellow;">totals.</span> <span style="background-color:yellow;">And</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">stored</span> <span style="background-color:yellow;">both</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">number</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">items</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">totals</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">then</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">same</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">solution</span> <span style="background-color:yellow;">except</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">kept</span> <span style="background-color:yellow;">needless</span> <span style="background-color:yellow;">data.</span> <span style="background-color:yellow;">Because</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">only</span> <span style="background-color:yellow;">need</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">keep</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">n-1</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">n</span> <span style="background-color:yellow;">iterations</span> <span style="background-color:yellow;">up</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">numplayers/2</span> . </p>
<p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">had</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">old</span> <span style="background-color:yellow;">exhaustive</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">based</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">binomial</span> <span style="background-color:yellow;">coefficients</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">look</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">history</span> <span style="background-color:yellow;"></span> . <span style="background-color:yellow;">It</span> <span style="background-color:yellow;">solved</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">example</span> <span style="background-color:yellow;">problems</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">length</span> <span style="background-color:yellow;">10</span> <span style="background-color:yellow;">just</span> <span style="background-color:yellow;">fine</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">then</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">saw</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">competition</span> <span style="background-color:yellow;">had</span> <span style="background-color:yellow;">people</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">up</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">length</span> <span style="background-color:yellow;">100</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">2</span> </b><br /><p><span style="background-color:yellow;">Well</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">find</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">solution</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">percentage</span> <span style="background-color:yellow;">precision</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">polynomial</span> <span style="background-color:yellow;">time</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">actually</span> <span style="background-color:yellow;">find</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">optimal</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">absolute</span> <span style="background-color:yellow;">minimal</span> <span style="background-color:yellow;">difference</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">solution</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">problem</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">NP-complete.</span> <span style="background-color:yellow;">This</span> <span style="background-color:yellow;">means</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">there</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">no</span> <span style="background-color:yellow;">polynomial</span> <span style="background-color:yellow;">time</span> <span style="background-color:yellow;">solution</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">problem.</span> <span style="background-color:yellow;">As</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">result</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">even</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">relatively</span> <span style="background-color:yellow;">small</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">numbers</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">too</span> <span style="background-color:yellow;">compute</span> <span style="background-color:yellow;">intensive</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">solve.</span> <span style="background-color:yellow;">If</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">really</span> <span style="background-color:yellow;">need</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">solution</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">take</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">look</span> <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">some</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">approximation</span> <span style="background-color:yellow;">algorithms</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">this</span> . </p>
<p><span style="background-color:yellow;">http</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">//en.wikipedia.org/wiki/Subset_sum_problem</span> </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">3</span> </b><br /><p><span style="background-color:yellow;">Note</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">also</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">heuristic</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">moved</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">sort</span> <span style="background-color:yellow;">out</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">function</span> . </p>
<pre><code> def g(data):
   sums = [0, 0]
   for pair in zip(data[::2], data[1::2]):
     item1, item2 = sorted(pair)
     sums = sorted([sums[0] + item2, sums[1] + item1])
   print sums

data = sorted([2,3,10,5,8,9,7,3,5,2])
g(data)
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">4</span> </b><br /><p><span style="background-color:yellow;">A</span> <span style="background-color:yellow;">test</span> <span style="background-color:yellow;">case</span> <span style="background-color:yellow;">where</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">method</span> <span style="background-color:yellow;">does</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">work</span> <span style="background-color:yellow;">is</span> </p>
<pre><code>que = [1, 1, 50, 50, 50, 1000]
</code></pre>
<p><span style="background-color:yellow;">The</span> <span style="background-color:yellow;">problem</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">'re</span> <span style="background-color:yellow;">analyzing</span> <span style="background-color:yellow;">things</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">pairs</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">example</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">want</span> <span style="background-color:yellow;">all</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">50</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">same</span> <span style="background-color:yellow;">group.</span> <span style="background-color:yellow;">This</span> <span style="background-color:yellow;">should</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">solved</span> <span style="background-color:yellow;">though</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">remove</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">pair</span> <span style="background-color:yellow;">analysis</span> <span style="background-color:yellow;">aspect</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">just</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">entry</span> <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">time</span> . </p>
<p><span style="background-color:yellow;">Here</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">does</span> <span style="background-color:yellow;">this</span> </p>
<pre><code>def make_teams(que):
    que.sort()
    que.reverse()
    if len(que)%2: que.insert(0,0)
    t1,t2 = [],[]
    while que:
        if abs(len(t1)-len(t2))>=len(que):
            [t1, t2][len(t1)>len(t2)].append(que.pop(0))
        else:
            [t1, t2][sum(t1)>sum(t2)].append(que.pop(0))
    print min(sum(t1),sum(t2)), max(sum(t1),sum(t2)), "\n"

if __name__=="__main__":
    que = [2,3,10,5,8,9,7,3,5,2]
    make_teams(que)
    que = [1, 1, 50, 50, 50, 1000]
    make_teams(que)
</code></pre>
<p><span style="background-color:yellow;">This</span> <span style="background-color:yellow;">give</span> <span style="background-color:yellow;">27</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">27</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">150</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">1002</span> <span style="background-color:yellow;">which</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">answers</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">make</span> <span style="background-color:yellow;">sense</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">me</span> . </p>
<p><span style="background-color:yellow;">Edit</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">In</span> <span style="background-color:yellow;">review</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">find</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">actually</span> <span style="background-color:yellow;">work</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">though</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">end</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'m</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">quite</span> <span style="background-color:yellow;">sure</span> <span style="background-color:yellow;">why.</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'ll</span> <span style="background-color:yellow;">post</span> <span style="background-color:yellow;">my</span> <span style="background-color:yellow;">test</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">here</span> <span style="background-color:yellow;">though</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">might</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">useful.</span> <span style="background-color:yellow;">The</span> <span style="background-color:yellow;">test</span> <span style="background-color:yellow;">just</span> <span style="background-color:yellow;">generates</span> <span style="background-color:yellow;">random</span> <span style="background-color:yellow;">sequence</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">equal</span> <span style="background-color:yellow;">sums</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">puts</span> <span style="background-color:yellow;">these</span> <span style="background-color:yellow;">together</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">compares</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">sad</span> <span style="background-color:yellow;">results</span> <span style="background-color:yellow;"></span> . </p>
<p><span style="background-color:yellow;">Edit</span> <span style="background-color:yellow;">#</span> <span style="background-color:yellow;">2</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">Based</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">example</span> <span style="background-color:yellow;">pointed</span> <span style="background-color:yellow;">out</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">Unknown</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">[</span> <span style="background-color:yellow;">87,100,28,67,68,41,67,1</span> <span style="background-color:yellow;">]</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">clear</span> <span style="background-color:yellow;">why</span> <span style="background-color:yellow;">my</span> <span style="background-color:yellow;">method</span> <span style="background-color:yellow;">does</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">work.</span> <span style="background-color:yellow;">Specifically</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">solve</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">example</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">two</span> <span style="background-color:yellow;">largest</span> <span style="background-color:yellow;">numbers</span> <span style="background-color:yellow;">need</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">both</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">added</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">same</span> <span style="background-color:yellow;">sequence</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">get</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">valid</span> <span style="background-color:yellow;">solution</span> . </p>
<pre><code>def make_sequence():
    """return the sums and the sequence that's devided to make this sum"""
    while 1:
        seq_len = randint(5, 200)
        seq_max = [5, 10, 100, 1000, 1000000][randint(0,4)]
        seqs = [[], []]
        for i in range(seq_len):
            for j in (0, 1):
                seqs[j].append(randint(1, seq_max))
        diff = sum(seqs[0])-sum(seqs[1])
        if abs(diff)>=seq_max: 
            continue
        if diff<0:
            seqs[0][-1] += -diff
        else:
            seqs[1][-1] += diff
        return sum(seqs[0]), sum(seqs[1]), seqs[0], seqs[1]

if __name__=="__main__":

    for i in range(10):
        s0, s1, seq0, seq1 = make_sequence()
        t0, t1 = make_teams(seq0+seq1)
        print s0, s1, t0, t1
        if s0 != t0 or s1 != t1:
            print "FAILURE", s0, s1, t0, t1
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">5</span> </b><br /><p><span style="background-color:yellow;">It</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">actually</span> <span style="background-color:yellow;">PARTITION</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">special</span> <span style="background-color:yellow;">case</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">KNAPSACK</span> . </p>
<p><span style="background-color:yellow;">It</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">NP</span> <span style="background-color:yellow;">Complete</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">pseudo-polynomial</span> <span style="background-color:yellow;">dp</span> <span style="background-color:yellow;">algorithms.</span> <span style="background-color:yellow;">The</span> <span style="background-color:yellow;">pseudo</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">pseudo-polynomial</span> <span style="background-color:yellow;">refers</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">fact</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">run</span> <span style="background-color:yellow;">time</span> <span style="background-color:yellow;">depends</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">range</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">weights</span> . </p>
<p><span style="background-color:yellow;">In</span> <span style="background-color:yellow;">general</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">first</span> <span style="background-color:yellow;">decide</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">there</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">exact</span> <span style="background-color:yellow;">solution</span> <span style="background-color:yellow;">before</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">admit</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">heuristic</span> <span style="background-color:yellow;">solution</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">6</span> </b><br /><p><span style="background-color:yellow;">Q.</span> <span style="background-color:yellow;">Given</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">multiset</span> <span style="background-color:yellow;">S</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">integers</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">there</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">partition</span> <span style="background-color:yellow;">S</span> <span style="background-color:yellow;">into</span> <span style="background-color:yellow;">two</span> <span style="background-color:yellow;">subsets</span> <span style="background-color:yellow;">S1</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">S2</span> <span style="background-color:yellow;">such</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">sum</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">numbers</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">S1</span> <span style="background-color:yellow;">equals</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">sum</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">numbers</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">S2</span> ? </p>
<p><span style="background-color:yellow;">A.</span> <span style="background-color:yellow;">Set</span> <span style="background-color:yellow;">Partition</span> <span style="background-color:yellow;">Problem</span> . </p>
<p><span style="background-color:yellow;">Best</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">luck</span> <span style="background-color:yellow;">approximating.</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;"></span> </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">7</span> </b><br /><p><span style="background-color:yellow;">They</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">obviously</span> <span style="background-color:yellow;">looking</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">dynamic</span> <span style="background-color:yellow;">programming</span> <span style="background-color:yellow;">knapsack</span> <span style="background-color:yellow;">solution.</span> <span style="background-color:yellow;">So</span> <span style="background-color:yellow;">after</span> <span style="background-color:yellow;">my</span> <span style="background-color:yellow;">first</span> <span style="background-color:yellow;">effort</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">pretty</span> <span style="background-color:yellow;">good</span> <span style="background-color:yellow;">original</span> <span style="background-color:yellow;">heuristic</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">thought</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">my</span> <span style="background-color:yellow;">second</span> <span style="background-color:yellow;">effort</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">really</span> <span style="background-color:yellow;">sneaky</span> <span style="background-color:yellow;">exact</span> <span style="background-color:yellow;">combinatorial</span> <span style="background-color:yellow;">solution</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">worked</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">shortish</span> <span style="background-color:yellow;">data</span> <span style="background-color:yellow;">sets</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">even</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">sets</span> <span style="background-color:yellow;">up</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">100</span> <span style="background-color:yellow;">elements</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">long</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">number</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">unique</span> <span style="background-color:yellow;">values</span> <span style="background-color:yellow;">was</span> <span style="background-color:yellow;">low</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">finally</span> <span style="background-color:yellow;">succumbed</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">peer</span> <span style="background-color:yellow;">pressure</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">wrote</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">they</span> <span style="background-color:yellow;">wanted</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">too</span> <span style="background-color:yellow;">hard</span> <span style="background-color:yellow;">-</span> <span style="background-color:yellow;">handling</span> <span style="background-color:yellow;">duplicated</span> <span style="background-color:yellow;">entries</span> <span style="background-color:yellow;">was</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">trickiest</span> <span style="background-color:yellow;">part</span> <span style="background-color:yellow;">-</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">underlying</span> <span style="background-color:yellow;">algorithm</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">based</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">only</span> <span style="background-color:yellow;">works</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">all</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">inputs</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">unique</span> <span style="background-color:yellow;">-</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'m</span> <span style="background-color:yellow;">sure</span> <span style="background-color:yellow;">glad</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">long</span> <span style="background-color:yellow;">long</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">big</span> <span style="background-color:yellow;">enough</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">hold</span> <span style="background-color:yellow;">50</span> <span style="background-color:yellow;">bits</span> <span style="background-color:yellow;">!</span> <span style="background-color:yellow;"></span> . </p>
<p><span style="background-color:yellow;">So</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">all</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">test</span> <span style="background-color:yellow;">data</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">awkward</span> <span style="background-color:yellow;">edge</span> <span style="background-color:yellow;">cases</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">put</span> <span style="background-color:yellow;">together</span> <span style="background-color:yellow;">while</span> <span style="background-color:yellow;">testing</span> <span style="background-color:yellow;">my</span> <span style="background-color:yellow;">first</span> <span style="background-color:yellow;">two</span> <span style="background-color:yellow;">efforts</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">gives</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">same</span> <span style="background-color:yellow;">answer.</span> <span style="background-color:yellow;">At</span> <span style="background-color:yellow;">least</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">ones</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">checked</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">combinatorial</span> <span style="background-color:yellow;">solver</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">know</span> <span style="background-color:yellow;">they</span> <span style="background-color:yellow;">'re</span> <span style="background-color:yellow;">correct.</span> <span style="background-color:yellow;">But</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'m</span> <span style="background-color:yellow;">still</span> <span style="background-color:yellow;">failing</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">submission</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">some</span> <span style="background-color:yellow;">wrong</span> <span style="background-color:yellow;">answer</span> <span style="background-color:yellow;">!</span> </p>
<p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'m</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">asking</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">anyone</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">fix</span> <span style="background-color:yellow;">my</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">here</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">very</span> <span style="background-color:yellow;">greatful</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">anyone</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">find</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">case</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">which</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">below</span> <span style="background-color:yellow;">generates</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">wrong</span> <span style="background-color:yellow;">answer</span> . </p>
<p><span style="background-color:yellow;">Thanks,</span> </p>
<p><span style="background-color:yellow;">Graham</span> </p>
<p><span style="background-color:yellow;">PS</span> <span style="background-color:yellow;">This</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">does</span> <span style="background-color:yellow;">always</span> <span style="background-color:yellow;">execute</span> <span style="background-color:yellow;">within</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">time</span> <span style="background-color:yellow;">limit</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">far</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">optimised.</span> <span style="background-color:yellow;">i</span> <span style="background-color:yellow;">'m</span> <span style="background-color:yellow;">keeping</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">simple</span> <span style="background-color:yellow;">until</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">passes</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">test</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">then</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">some</span> <span style="background-color:yellow;">ideas</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">speed</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">up</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">maybe</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">factor</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">10</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">more</span> . </p>
<pre>
#include <stdio.h>

#define TRUE (0==0)
#define FALSE (0!=0)

static int debug = TRUE;

//int simple(const void *a, const void *b) {
//  return *(int *)a - *(int *)b;
//}

int main(int argc, char **argv) {
  int p[101];
  char *s, line[128];
  long long mask, c0[45001], c1[45001];
  int skill, players, target, i, j, tests, total = 0;

  debug = (argc == 2 && argv[1][0] == '-' && argv[1][1] == 'd' && argv[1][2] == '\0');

  s = fgets(line, 127, stdin);
  tests = atoi(s);
  while (tests --> 0) {

    for (i = 0; i < 45001; i++) {c0[i] = 0LL;}

    s = fgets(line, 127, stdin); /* blank line */
    s = fgets(line, 127, stdin); /* no of players */
    players = atoi(s);
    for (i = 0; i < players; i++) {s = fgets(line, 127, stdin); p[i] = atoi(s);}

    if (players == 1) {
      printf("0 %d\n", p[0]);
    } else {

    if (players&1) p[players++] = 0; // odd player fixed by adding a single player of 0 strength
    //qsort(p, players, sizeof(int), simple);

    total = 0; for ( i = 0; i < players; i++) total += p[i];
    target = total/2; // ok if total was odd and result rounded down - teams of n, n+1
    mask = 1LL << (((long long)players/2LL)-1LL);

    for (i = 0; i < players; i++) {
      for (j = 0; j <= target; j++) {c1[j] = 0LL;} // memset would be faster
      skill = p[i];
      //add this player to every other player and every partial subset
      for (j = 0; j <= target-skill; j++) {
        if (c0[j]) c1[j+skill] = c0[j]<<1;  // highest = highest j+skill for later optimising
      }
      c0[skill] |= 1; // so we don't add a skill number to itself unless it occurs more than once
      for (j = 0; j <= target; j++) {c0[j] |= c1[j];}
      if (c0[target]&mask) break; // early return for perfect fit!
    }

    for (i = target; i > 0; i--) {
      if (debug || (c0[i] & mask)) {
        fprintf(stdout, "%d %d\n", i, total-i);
        if (debug) {
          if (c0[i] & mask) printf("******** ["); else
          printf("         [");
          for (j = 0; j <= players; j++) if (c0[i] & (1LL<<(long long)j)) printf(" %d", j+1);
          printf(" ]\n");
        } else break;
      }
    }
    }
    if (tests) printf("\n");
  }
  return 0;
}
</pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">8</span> </b><br /><pre><code>class Team(object):
    def __init__(self):
    	self.members = []
    	self.total = 0

    def add(self, m):
    	self.members.append(m)
    	self.total += m

    def __cmp__(self, other):
    	return cmp(self.total, other.total)


def make_teams(ns):
    ns.sort(reverse = True)
    t1, t2 = Team(), Team()

    for n in ns:
    	t = t1 if t1 < t2 else t2
    	t.add(n)

    return t1, t2

if __name__ == "__main__":
    import sys
    t1, t2 = make_teams([int(s) for s in sys.argv[1:]])
    print t1.members, sum(t1.members)
    print t2.members, sum(t2.members)

>python two_piles.py 1 50 50 100
[50, 50] 100
[100, 1] 101
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">9</span> </b><br /><p><span style="background-color:yellow;">For</span> <span style="background-color:yellow;">performance</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">save</span> <span style="background-color:yellow;">computations</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">replacing</span> <span style="background-color:yellow;">append</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">sum</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">running</span> <span style="background-color:yellow;">totals</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">10</span> </b><br /><p><span style="background-color:yellow;">You</span> <span style="background-color:yellow;">could</span> <span style="background-color:yellow;">tighten</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">loop</span> <span style="background-color:yellow;">up</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">little</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">following</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>def make_teams(que):
    que.sort()
    t1, t2 = []
    while que:
        t1.append(que.pop())
        if sum(t1) > sum(t2):
            t2, t1 = t1, t2
    print min(sum(t1),sum(t2)), max(sum(t1),sum(t2))
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">11</span> </b><br /><p><span style="background-color:yellow;">Since</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">lists</span> <span style="background-color:yellow;">must</span> <span style="background-color:yellow;">me</span> <span style="background-color:yellow;">equal</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">problem</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">NP</span> <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">all</span> . </p>
<p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">split</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">sorted</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">pattern</span> <span style="background-color:yellow;">t1&lt</span> <span style="background-color:yellow;">;</span> <span style="background-color:yellow;">-que</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">1st</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">last</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">t2&lt</span> <span style="background-color:yellow;">;</span> <span style="background-color:yellow;">-que</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">2nd</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">last-1</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">..</span> . </p>
<pre><code>def make_teams2(que):
    que.sort()
    if len(que)%2: que.insert(0,0)
    t1 = []
    t2 = []
    while que:
        if len(que) > 2:
            t1.append(que.pop(0))
            t1.append(que.pop())
            t2.append(que.pop(0))
            t2.append(que.pop())
        else:
            t1.append(que.pop(0))
            t2.append(que.pop())
    print sum(t1), sum(t2), "\n"
</code></pre>
<p><span style="background-color:yellow;">Edit</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">suppose</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">also</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">wrong</span> <span style="background-color:yellow;">method.</span> <span style="background-color:yellow;">Wrong</span> <span style="background-color:yellow;">results</span> <span style="background-color:yellow;">!</span> </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">12</span> </b><br /><p><span style="background-color:yellow;">After</span> <span style="background-color:yellow;">some</span> <span style="background-color:yellow;">thinking</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">too</span> <span style="background-color:yellow;">big</span> <span style="background-color:yellow;">problem</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">think</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">best</span> <span style="background-color:yellow;">kind</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">heuristics</span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">something</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>import random
def f(data, nb_iter=20):
  diff = None
  sums = (None, None)
  for _ in xrange(nb_iter):
    random.shuffle(data)
    mid = len(data)/2
    sum1 = sum(data[:mid])
    sum2 = sum(data[mid:])
    if diff is None or abs(sum1 - sum2) < diff:
      sums = (sum1, sum2)
  print sums
</code></pre>
<p><span style="background-color:yellow;">You</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">adjust</span> <span style="background-color:yellow;">nb_iter</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">problem</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">bigger</span> . </p>
<p><span style="background-color:yellow;">It</span> <span style="background-color:yellow;">solves</span> <span style="background-color:yellow;">all</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">problem</span> <span style="background-color:yellow;">mentioned</span> <span style="background-color:yellow;">above</span> <span style="background-color:yellow;">mostly</span> <span style="background-color:yellow;">all</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">times</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">13</span> </b><br /><p><span style="background-color:yellow;">In</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">earlier</span> <span style="background-color:yellow;">comment</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">hypothesized</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">problem</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">set</span> <span style="background-color:yellow;">was</span> <span style="background-color:yellow;">tractable</span> <span style="background-color:yellow;">because</span> <span style="background-color:yellow;">they</span> <span style="background-color:yellow;">had</span> <span style="background-color:yellow;">carefully</span> <span style="background-color:yellow;">chosen</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">test</span> <span style="background-color:yellow;">data</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">compatible</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">various</span> <span style="background-color:yellow;">algorithms</span> <span style="background-color:yellow;">within</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">time</span> <span style="background-color:yellow;">alloted.</span> <span style="background-color:yellow;">This</span> <span style="background-color:yellow;">turned</span> <span style="background-color:yellow;">out</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">case</span> <span style="background-color:yellow;">-</span> <span style="background-color:yellow;">instead</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">problem</span> <span style="background-color:yellow;">constraints</span> <span style="background-color:yellow;">-</span> <span style="background-color:yellow;">numbers</span> <span style="background-color:yellow;">no</span> <span style="background-color:yellow;">higher</span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">450</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">final</span> <span style="background-color:yellow;">set</span> <span style="background-color:yellow;">no</span> <span style="background-color:yellow;">larger</span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">50</span> <span style="background-color:yellow;">numbers</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">key.</span> <span style="background-color:yellow;">These</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">compatible</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">solving</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">problem</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">dynamic</span> <span style="background-color:yellow;">programming</span> <span style="background-color:yellow;">solution</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">put</span> <span style="background-color:yellow;">up</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">later</span> <span style="background-color:yellow;">post.</span> <span style="background-color:yellow;">None</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">other</span> <span style="background-color:yellow;">algorithms</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">heuristics</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">exhaustive</span> <span style="background-color:yellow;">enumeration</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">combinatorial</span> <span style="background-color:yellow;">pattern</span> <span style="background-color:yellow;">generator</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">possibly</span> <span style="background-color:yellow;">work</span> <span style="background-color:yellow;">because</span> <span style="background-color:yellow;">there</span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">test</span> <span style="background-color:yellow;">cases</span> <span style="background-color:yellow;">large</span> <span style="background-color:yellow;">enough</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">hard</span> <span style="background-color:yellow;">enough</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">break</span> <span style="background-color:yellow;">those</span> <span style="background-color:yellow;">algorithms.</span> <span style="background-color:yellow;">It</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">rather</span> <span style="background-color:yellow;">annoying</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">honest</span> <span style="background-color:yellow;">because</span> <span style="background-color:yellow;">those</span> <span style="background-color:yellow;">other</span> <span style="background-color:yellow;">solutions</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">challenging</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">certainly</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">fun.</span> <span style="background-color:yellow;">Note</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">without</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">lot</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">extra</span> <span style="background-color:yellow;">work</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">dynamic</span> <span style="background-color:yellow;">programming</span> <span style="background-color:yellow;">solution</span> <span style="background-color:yellow;">just</span> <span style="background-color:yellow;">says</span> <span style="background-color:yellow;">whether</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">solution</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">possible</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">N/2</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">any</span> <span style="background-color:yellow;">given</span> <span style="background-color:yellow;">sum</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">does</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">tell</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">contents</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">either</span> <span style="background-color:yellow;">partition</span> . </p>
<br />