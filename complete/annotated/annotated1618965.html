<h3><span style="background-color:yellow;">Question</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">ID-1618965</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><h2><span style="background-color:yellow;">Fastest</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">convert</span> <span style="background-color:yellow;">'</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">-1,0</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">'</span> <span style="background-color:yellow;">into</span> <span style="background-color:yellow;">tuple</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">-1</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">0</span> <span style="background-color:yellow;"></span> ? </h2><p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'ve</span> <span style="background-color:yellow;">got</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">huge</span> <span style="background-color:yellow;">tuple</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">strings</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">which</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">being</span> <span style="background-color:yellow;">returned</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">program.</span> <span style="background-color:yellow;">An</span> <span style="background-color:yellow;">example</span> <span style="background-color:yellow;">tuple</span> <span style="background-color:yellow;">being</span> <span style="background-color:yellow;">returned</span> <span style="background-color:yellow;">might</span> <span style="background-color:yellow;">look</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>('(-1,0)', '(1,0)', '(2,0)', '(3,0)', '(4,0)', '(5,0)', '(6,0)')
</code></pre>
<p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">convert</span> <span style="background-color:yellow;">these</span> <span style="background-color:yellow;">strings</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">real</span> <span style="background-color:yellow;">tuples</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">integers</span> <span style="background-color:yellow;">inside</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">i</span> <span style="background-color:yellow;">am</span> <span style="background-color:yellow;">hoping</span> <span style="background-color:yellow;">someone</span> <span style="background-color:yellow;">knows</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">nice</span> <span style="background-color:yellow;">trick</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">speed</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">up.</span> <span style="background-color:yellow;">Anything</span> <span style="background-color:yellow;">i</span> <span style="background-color:yellow;">'ve</span> <span style="background-color:yellow;">come</span> <span style="background-color:yellow;">up</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">feels</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">i</span> <span style="background-color:yellow;">am</span> <span style="background-color:yellow;">doing</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">relatively</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">slow</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">way.</span> <span style="background-color:yellow;">And</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">i</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">mentioned</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">these</span> <span style="background-color:yellow;">lists</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">big</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">fast</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">much</span> <span style="background-color:yellow;">appreciated</span> <span style="background-color:yellow;">!</span> </p>
<p><span style="background-color:yellow;">Thanks</span> </p>
<p><span style="background-color:yellow;">edit</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">Alright</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">its</span> <span style="background-color:yellow;">seeming</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">eval</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">slower</span> <span style="background-color:yellow;">method</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">doing</span> <span style="background-color:yellow;">this.</span> <span style="background-color:yellow;">But</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">far</span> <span style="background-color:yellow;">i</span> <span style="background-color:yellow;">'ve</span> <span style="background-color:yellow;">got</span> <span style="background-color:yellow;">4</span> <span style="background-color:yellow;">methods</span> <span style="background-color:yellow;">tested</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">thanks</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">any</span> <span style="background-color:yellow;">comments</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">submissions</span> <span style="background-color:yellow;">!</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;"></span> </p>
<p><span style="background-color:yellow;">Also</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">someone</span> <span style="background-color:yellow;">asked</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">size</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">my</span> <span style="background-color:yellow;">tuples.</span> <span style="background-color:yellow;">It</span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">range</span> <span style="background-color:yellow;">anywhere</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">few</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">hopefully</span> <span style="background-color:yellow;">no</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">few</span> <span style="background-color:yellow;">million.</span> <span style="background-color:yellow;">Not</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">too</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">big</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">big</span> <span style="background-color:yellow;">enough</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">speed</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">important</span> <span style="background-color:yellow;">factor.</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'m</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">here</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">micro-optimize</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">just</span> <span style="background-color:yellow;">learn</span> <span style="background-color:yellow;">any</span> <span style="background-color:yellow;">new</span> <span style="background-color:yellow;">nifty</span> <span style="background-color:yellow;">tricks</span> <span style="background-color:yellow;">i</span> <span style="background-color:yellow;">might</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">aware</span> <span style="background-color:yellow;">of.</span> <span style="background-color:yellow;">Eg</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">eval</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">something</span> <span style="background-color:yellow;">i</span> <span style="background-color:yellow;">often</span> <span style="background-color:yellow;">forget</span> <span style="background-color:yellow;">about</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">even</span> <span style="background-color:yellow;">though</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">does</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">seem</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">well</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">case</span> . </p>
<p><span style="background-color:yellow;">edit</span> <span style="background-color:yellow;">two</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">also</span> <span style="background-color:yellow;">wanted</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">note</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">string</span> <span style="background-color:yellow;">format</span> <span style="background-color:yellow;">should</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">change.</span> <span style="background-color:yellow;">So</span> <span style="background-color:yellow;">no</span> <span style="background-color:yellow;">need</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">check</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">format.</span> <span style="background-color:yellow;">Also</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">embedded</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">v2.6.2</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">anything</span> <span style="background-color:yellow;">requiring</span> <span style="background-color:yellow;">2.6</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">fine.</span> <span style="background-color:yellow;">3.0</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">other</span> <span style="background-color:yellow;">hand</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">much</span> <span style="background-color:yellow;">;</span> <span style="background-color:yellow;"></span> </p>
<p><span style="background-color:yellow;">Looking</span> <span style="background-color:yellow;">great</span> <span style="background-color:yellow;">guys</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">again</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">thanks</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">all</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">input</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;"></span> </p>
<p><span style="background-color:yellow;">edit</span> <span style="background-color:yellow;">3</span> <span style="background-color:yellow;">Yet</span> <span style="background-color:yellow;">another</span> <span style="background-color:yellow;">note.</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">noticed</span> <span style="background-color:yellow;">i</span> <span style="background-color:yellow;">had</span> <span style="background-color:yellow;">been</span> <span style="background-color:yellow;">returning</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">did</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">result</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">tuple</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">ok</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">sorry</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">anyone</span> <span style="background-color:yellow;">thought</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">end</span> <span style="background-color:yellow;">result</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">had</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">tuple.</span> <span style="background-color:yellow;">Something</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">format</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">fine</span> . </p>
<pre><code>import timeit

test_tuple = ('(-1,0)', '(1,0)', '(2,0)', '(3,0)', '(4,0)', '(5,0)', '(6,0)', '(7,0)',)

def timeit_a():
    ''''''
    def convert_tup_strings(tup_string):
        first_int, last_int = tup_string[1:-1].split(',')
        return (int(first_int), int(last_int))

    return map(convert_tup_strings, test_tuple)

def timeit_a_1():
    ''''''
    def convert_tup_strings(tup_string):
        return map(int, tup_string[1:-1].split(','))

    return map(convert_tup_strings, test_tuple)

def timeit_b():
    converted = []

    for tup_string in test_tuple:
        first_int, last_int = tup_string[1:-1].split(',')
        converted.append((int(first_int), int(last_int)))

    return converted

def timeit_b_1():
    converted = []

    for tup_string in test_tuple:
        converted.append(map(int, tup_string[1:-1].split(',')))

    return converted

def timeit_c():
    ''''''
    return [eval(t) for t in test_tuple]

def timeit_d():
    ''''''
    return map(eval, test_tuple)

def timeit_e():
    ''''''
    return map(lambda a: tuple(map(int, a[1:-1].split(','))), test_tuple)

print 'Timeit timeit_a: %s' % timeit.timeit(timeit_a)
print 'Timeit timeit_a_1: %s' % timeit.timeit(timeit_a_1)
print 'Timeit timeit_b: %s' % timeit.timeit(timeit_b)
print 'Timeit timeit_b_1: %s' % timeit.timeit(timeit_b_1)
print 'Timeit timeit_c: %s' % timeit.timeit(timeit_c)
print 'Timeit timeit_d: %s' % timeit.timeit(timeit_d)
print 'Timeit timeit_e: %s' % timeit.timeit(timeit_e)
</code></pre>
<p><span style="background-color:yellow;">Results</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>Timeit timeit_a: 15.8954099772
Timeit timeit_a_1: 18.5484214589
Timeit timeit_b: 15.3137666465
Timeit timeit_b_1: 17.8405181116
Timeit timeit_c: 91.9587832802
Timeit timeit_d: 89.8858157489
Timeit timeit_e: 20.1564312947
</code></pre>
<br /><h3><span style="background-color:yellow;">Answers</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">Total-8</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">0</span> </b><br /><p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">advice</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">eval</span> <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">all.</span> <span style="background-color:yellow;">It</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">slow</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">insecure.</span> <span style="background-color:yellow;">You</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>result = map(lambda a: tuple(map(int, a[1:-1].split(','))), s)
</code></pre>
<p><span style="background-color:yellow;">The</span> <span style="background-color:yellow;">numbers</span> <span style="background-color:yellow;">speak</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">themselves</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>timeit.Timer("map(lambda a: tuple(map(int, a[1:-1].split(','))), s)", "s = ('(-1,0)', '(1,0)', '(2,0)', '(3,0)', '(4,0)', '(5,0)', '(6,0)')").timeit(100000)

1.8787779808044434

timeit.Timer("map(eval, s)", "s = ('(-1,0)', '(1,0)', '(2,0)', '(3,0)', '(4,0)', '(5,0)', '(6,0)')").timeit(100000)

11.571426868438721
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">1</span> </b><br /><pre><code>map(eval, tuples)
</code></pre>
<p><span style="background-color:yellow;">This</span> <span style="background-color:yellow;">wo</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">account</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">case</span> <span style="background-color:yellow;">where</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">tuples</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">syntactically</span> <span style="background-color:yellow;">correct.</span> <span style="background-color:yellow;">For</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'d</span> <span style="background-color:yellow;">recommend</span> <span style="background-color:yellow;">something</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>def do(tup):
    try: return eval(tup)
    except: return None

map(do, tuples)
</code></pre>
<p><span style="background-color:yellow;">Both</span> <span style="background-color:yellow;">methods</span> <span style="background-color:yellow;">tested</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">speed</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>>>> tuples = ["(1,0)"] * 1000000

>>> # map eval
>>> st = time.time(); parsed = map(eval, tuples); print "%.2f s" % (time.time() - st)
16.02 s

>>> # map do
>>> >>> st = time.time(); parsed = map(do, tuples); print "%.2f s" % (time.time() - st)
18.46 s
</code></pre>
<p><span style="background-color:yellow;">For</span> <span style="background-color:yellow;">1,000,000</span> <span style="background-color:yellow;">tuples</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">bad</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">great</span> <span style="background-color:yellow;">either</span> <span style="background-color:yellow;"></span> . <span style="background-color:yellow;">The</span> <span style="background-color:yellow;">overhead</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">presumably</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">parsing</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">million</span> <span style="background-color:yellow;">times</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">eval</span> . <span style="background-color:yellow;">However</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">easiest</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">what</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">'re</span> <span style="background-color:yellow;">after</span> . </p>
<p><span style="background-color:yellow;">The</span> <span style="background-color:yellow;">answer</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">comprehension</span> <span style="background-color:yellow;">instead</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">map</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">about</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">slow</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">my</span> <span style="background-color:yellow;">try/except</span> <span style="background-color:yellow;">case</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">interesting</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">itself</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </p>
<pre><code>>>> st = time.time(); parsed = [eval(t) for t in tuples]; print "%.2f s" % (time.time() - st)
18.13 s
</code></pre>
<p><span style="background-color:yellow;">All</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">being</span> <span style="background-color:yellow;">said</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'m</span> <span style="background-color:yellow;">going</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">venture</span> <span style="background-color:yellow;">premature</span> <span style="background-color:yellow;">optimization</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">work</span> <span style="background-color:yellow;">here</span> <span style="background-color:yellow;">--</span> <span style="background-color:yellow;">parsing</span> <span style="background-color:yellow;">strings</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">always</span> <span style="background-color:yellow;">slow.</span> <span style="background-color:yellow;">How</span> <span style="background-color:yellow;">many</span> <span style="background-color:yellow;">tuples</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">expecting</span> ? </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">2</span> </b><br /><p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'d</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">string</span> <span style="background-color:yellow;">parsing</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">know</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">format.</span> <span style="background-color:yellow;">Faster</span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">eval</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> . </p>
<pre><code>>>> tuples = ["(1,0)"] * 1000000
>>> import time
>>> st = time.time(); parsed = map(eval, tuples); print "%.2f s" % (time.time() - st)
32.71 s
>>> def parse(s) :
...   return s[1:-1].split(",")
...
>>> parse("(1,0)")
['1', '0']
>>> st = time.time(); parsed = map(parse, tuples); print "%.2f s" % (time.time() - st)
5.05 s
</code></pre>
<p><span style="background-color:yellow;">if</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">need</span> <span style="background-color:yellow;">ints</span> </p>
<pre><code>>>> def parse(s) :
...   return map(int, s[1:-1].split(","))
...
>>> parse("(1,0)")
[1, 0]
>>> st = time.time(); parsed = map(parse, tuples); print "%.2f s" % (time.time() - st)
9.62 s
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">3</span> </b><br /><p><span style="background-color:yellow;">If</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">'re</span> <span style="background-color:yellow;">sure</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">input</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">well</span> <span style="background-color:yellow;">formed</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>tuples = ('(-1,0)', '(1,0)', '(2,0)', '(3,0)', '(4,0)', '(5,0)', '(6,0)')
result = [eval(t) for t in tuples]
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">4</span> </b><br /><p><span style="background-color:yellow;">You</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">get</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">parser</span> <span style="background-color:yellow;">up</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">running</span> <span style="background-color:yellow;">pretty</span> <span style="background-color:yellow;">quickly</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">YAPPS</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">5</span> </b><br /><p><span style="background-color:yellow;">you</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">just</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">yaml</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">json</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">parse</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">into</span> <span style="background-color:yellow;">tuples</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">you</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">6</span> </b><br /><p><span style="background-color:yellow;">My</span> <span style="background-color:yellow;">computer</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">slower</span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">Nadia</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">however</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">runs</span> <span style="background-color:yellow;">faster</span> </p>
<pre><code>>>> timeit.Timer(
    "list((int(a),int(c)) for a,b,c in (x[1:-1].partition(',') for x in s))", 
    "s = ('(-1,0)', '(1,0)', '(2,0)', '(3,0)', '(4,0)', '(5,0)', '(6,0)')").timeit(100000)
3.2250211238861084
</code></pre>
<p><span style="background-color:yellow;">than</span> <span style="background-color:yellow;">this</span> </p>
<pre><code>>>> timeit.Timer(
    "map(lambda a: tuple(map(int, a[1:-1].split(','))), s)", 
    "s = ('(-1,0)', '(1,0)', '(2,0)', '(3,0)', '(4,0)', '(5,0)', '(6,0)')").timeit(100000)
3.8979239463806152
</code></pre>
<p><span style="background-color:yellow;">using</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">comprehension</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">faster</span> <span style="background-color:yellow;">still</span> </p>
<pre><code>>>> timeit.Timer(
    "[(int(a),int(c)) for a,b,c in (x[1:-1].partition(',') for x in s)]", 
    "s = ('(-1,0)', '(1,0)', '(2,0)', '(3,0)', '(4,0)', '(5,0)', '(6,0)')").timeit(100000)
2.452484130859375
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">7</span> </b><br /><pre><code>import ast

list_of_tuples = map(ast.literal_eval, tuple_of_strings)
</code></pre>
<br />