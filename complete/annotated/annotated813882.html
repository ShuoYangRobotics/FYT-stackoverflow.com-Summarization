<h3><span style="background-color:yellow;">Question</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">ID-813882</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><h2><span style="background-color:yellow;">Is</span> <span style="background-color:yellow;">there</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">check</span> <span style="background-color:yellow;">whether</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">output</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">assigned</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">variable</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">Python</span> ? </h2><p><span style="background-color:yellow;">In</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'d</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">write</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">pretty-print</span> <span style="background-color:yellow;">its</span> <span style="background-color:yellow;">results</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">console</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">called</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">itself</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">mostly</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">interactively</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">debugging</span> <span style="background-color:yellow;"></span> . <span style="background-color:yellow;">For</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">purpose</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">question</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">let</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">say</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">checks</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">status</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">something.</span> <span style="background-color:yellow;">If</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">call</span> <span style="background-color:yellow;">just</span> </p>
<pre><code>check_status()
</code></pre>
<p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">see</span> <span style="background-color:yellow;">something</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>Pretty printer status check 0.02v
NOTE: This is so totally not written for giant robots
=================================
System operational: ... ok
Time to ion canon charge is 9m 21s
Booster rocket in AFTERBURNER state
Range check is optimal
Rocket fuel is 10h 19m 40s to depletion
Beer served is type WICKSE LAGER, chill optimal
Suggested catchphrase is 01_FIGHTING_SPIRIT_GOGOGO
Virtual ... on
</code></pre>
<p><span style="background-color:yellow;">However</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">also</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">pass</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">output</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">call</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">context</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">variable</span> <span style="background-color:yellow;">assignment</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>not_robot_stat = check_status()
print not_robot_stat
>>> {'cond_op': 1, 't_canoncharge': 1342, 'stage_booster': 5, 'range_est_sigma': 0.023, 'fuel_est': 32557154, 'beer_type': 31007, 'beer_temp': 2, 'catchphrase_suggestion': 1023, 'virtual_on': 'hell yes'}
</code></pre>
<p><span style="background-color:yellow;">So...</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">there</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">dynamically</span> <span style="background-color:yellow;">know</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">within</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">whether</span> <span style="background-color:yellow;">its</span> <span style="background-color:yellow;">output</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">being</span> <span style="background-color:yellow;">assigned</span> ? <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'d</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">able</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">without</span> <span style="background-color:yellow;">resorting</span> <span style="background-color:yellow;">param</span> <span style="background-color:yellow;">passing</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">writing</span> <span style="background-color:yellow;">another</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">dedicated</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">this.</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'ve</span> <span style="background-color:yellow;">Googled</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">bit</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">what</span> <span style="background-color:yellow;">little</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">tell</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">looks</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'d</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">resort</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">playing</span> <span style="background-color:yellow;">wth</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">bytecode.</span> <span style="background-color:yellow;">Is</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">really</span> <span style="background-color:yellow;">necessary</span> ? </p>
<br /><h3><span style="background-color:yellow;">Answers</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">Total-7</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">0</span> </b><br /><blockquote><span style="background-color:yellow;">However</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">also</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">pass</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">output</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">list</span> </blockquote>
<p><span style="background-color:yellow;">You</span> <span style="background-color:yellow;">mean</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">return</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">output</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">dictionary</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">-</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">careful</span> <span style="background-color:yellow;">;</span> <span style="background-color:yellow;">-</span> <span style="background-color:yellow;"></span> </p>
<p><span style="background-color:yellow;">One</span> <span style="background-color:yellow;">thing</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">could</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">ability</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">interpreter</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">automatically</span> <span style="background-color:yellow;">convert</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">string</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">result</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">any</span> <span style="background-color:yellow;">expression.</span> <span style="background-color:yellow;">To</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">create</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">custom</span> <span style="background-color:yellow;">subclass</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">dict</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">when</span> <span style="background-color:yellow;">asked</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">convert</span> <span style="background-color:yellow;">itself</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">string</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">performs</span> <span style="background-color:yellow;">whatever</span> <span style="background-color:yellow;">pretty</span> <span style="background-color:yellow;">formatting</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">want.</span> <span style="background-color:yellow;">For</span> <span style="background-color:yellow;">instance,</span> </p>
<pre><code>class PrettyDict(dict):
    def __str__(self):
        return '''Pretty printer status check 0.02v
NOTE: This is so totally not written for giant robots
=================================
System operational: ... %s
Time to ion canon charge is %dm %ds
Booster rocket in %s state
 (other stuff)
''' % (self.conf_op and 'ok' or 'OMGPANIC!!!',
       self.t_canoncharge / 60, self.t_canoncharge % 60, 
       BOOSTER_STATES[self.booster_charge],
       ... )
</code></pre>
<p><span style="background-color:yellow;">Of</span> <span style="background-color:yellow;">course</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">could</span> <span style="background-color:yellow;">probably</span> <span style="background-color:yellow;">come</span> <span style="background-color:yellow;">up</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">prettier</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">write</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">basic</span> <span style="background-color:yellow;">idea</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">__str__</span> <span style="background-color:yellow;">method</span> <span style="background-color:yellow;">creates</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">pretty-printed</span> <span style="background-color:yellow;">string</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">represents</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">state</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">object</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">returns</span> <span style="background-color:yellow;">it.</span> <span style="background-color:yellow;">Then</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">return</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">PrettyDict</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">check_status</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">when</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">type</span> </p>
<pre><code>>>> check_status()
</code></pre>
<p><span style="background-color:yellow;">you</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">see</span> </p>
<pre>Pretty printer status check 0.02v
NOTE: This is so totally not written for giant robots
=================================
System operational: ... ok
Time to ion canon charge is 9m 21s
Booster rocket in AFTERBURNER state
Range check is optimal
Rocket fuel is 10h 19m 40s to depletion
Beer served is type WICKSE LAGER, chill optimal
Suggested catchphrase is 01_FIGHTING_SPIRIT_GOGOGO
Virtual ... on</pre>
<p><span style="background-color:yellow;">The</span> <span style="background-color:yellow;">only</span> <span style="background-color:yellow;">catch</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">that</span> </p>
<pre><code>>>> not_robot_stat = check_status()
>>> print not_robot_stat
</code></pre>
<p><span style="background-color:yellow;">would</span> <span style="background-color:yellow;">give</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">same</span> <span style="background-color:yellow;">thing</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">because</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">same</span> <span style="background-color:yellow;">conversion</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">string</span> <span style="background-color:yellow;">takes</span> <span style="background-color:yellow;">place</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">part</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">print</span> <span style="background-color:yellow;">function.</span> <span style="background-color:yellow;">But</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">some</span> <span style="background-color:yellow;">real</span> <span style="background-color:yellow;">application</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">doubt</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">matter.</span> <span style="background-color:yellow;">If</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">really</span> <span style="background-color:yellow;">wanted</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">see</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">return</span> <span style="background-color:yellow;">value</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">pure</span> <span style="background-color:yellow;">dict</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">could</span> <span style="background-color:yellow;">do</span> </p>
<pre><code>>>> print repr(not_robot_stat)
</code></pre>
<p><span style="background-color:yellow;">instead</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">should</span> <span style="background-color:yellow;">show</span> <span style="background-color:yellow;">you</span> </p>
<pre>{'cond_op': 1, 't_canoncharge': 1342, 'stage_booster': 5, 'range_est_sigma': 0.023, 'fuel_est': 32557154, 'beer_type': 31007, 'beer_temp': 2, 'catchphrase_suggestion': 1023, 'virtual_on': 'hell yes'}</pre>
<p><span style="background-color:yellow;">The</span> <span style="background-color:yellow;">point</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">other</span> <span style="background-color:yellow;">posters</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">said</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">there</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">no</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">know</span> <span style="background-color:yellow;">what</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">going</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">done</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">return</span> <span style="background-color:yellow;">value</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">EDIT</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">okay</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">maybe</span> <span style="background-color:yellow;">there</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">some</span> <span style="background-color:yellow;">weird</span> <span style="background-color:yellow;">bytecode-hacking</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">-</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">work</span> <span style="background-color:yellow;">around</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">cases</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">matter</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">1</span> </b><br /><p><span style="background-color:yellow;">New</span> <span style="background-color:yellow;">Solution</span> </p>
<p><span style="background-color:yellow;">This</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">new</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">solution</span> <span style="background-color:yellow;">detects</span> <span style="background-color:yellow;">when</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">result</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">used</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">assignment</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">examining</span> <span style="background-color:yellow;">its</span> <span style="background-color:yellow;">own</span> <span style="background-color:yellow;">bytecode.</span> <span style="background-color:yellow;">There</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">no</span> <span style="background-color:yellow;">bytecode</span> <span style="background-color:yellow;">writing</span> <span style="background-color:yellow;">done</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">should</span> <span style="background-color:yellow;">even</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">compatible</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">future</span> <span style="background-color:yellow;">versions</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">because</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">uses</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">opcode</span> <span style="background-color:yellow;">module</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">definitions</span> . </p>
<pre><code>import inspect, dis, opcode

def check_status():

    try:
        frame = inspect.currentframe().f_back
        next_opcode = opcode.opname[ord(frame.f_code.co_code[frame.f_lasti+3])]
        if next_opcode == "POP_TOP": 
            # or next_opcode == "RETURN_VALUE":
            # include the above line in the if statement if you consider "return check_status()" to be assignment
            print "I was not assigned"
            print "Pretty printer status check 0.02v"
            print "NOTE: This is so totally not written for giant robots"
            return
    finally:
        del frame    

    # do normal routine

    info = {'cond_op': 1, 't_canoncharge': 1342, 'stage_booster': 5}

    return info

# no assignment    
def test1():
    check_status()

# assignment
def test2():
    a = check_status()

# could be assignment (check above for options)
def test3():
    return check_status()

# assignment
def test4():
    a = []
    a.append(check_status())
    return a
</code></pre>
<p><span style="background-color:yellow;">Solution</span> <span style="background-color:yellow;">1</span> </p>
<p><span style="background-color:yellow;">This</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">old</span> <span style="background-color:yellow;">solution</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">detects</span> <span style="background-color:yellow;">whenever</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">calling</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">while</span> <span style="background-color:yellow;">debugging</span> <span style="background-color:yellow;">under</span> <span style="background-color:yellow;">python</span> <span style="background-color:yellow;">-i</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">PDB</span> . </p>
<pre><code>import inspect

def check_status():
    frame = inspect.currentframe()
    try:
        if frame.f_back.f_code.co_name == "<module>" and frame.f_back.f_code.co_filename == "<stdin>":
            print "Pretty printer status check 0.02v"
            print "NOTE: This is so totally not written for giant robots"
    finally:
        del frame

    # do regular stuff   
    return {'cond_op': 1, 't_canoncharge': 1342, 'stage_booster': 5}

def test():
    check_status()


>>> check_status()
Pretty printer status check 0.02v
NOTE: This is so totally not written for giant robots
{'cond_op': 1, 't_canoncharge': 1342, 'stage_booster': 5}

>>> a=check_status()
Pretty printer status check 0.02v
NOTE: This is so totally not written for giant robots

>>> a
{'cond_op': 1, 't_canoncharge': 1342, 'stage_booster': 5}

test()
>>>
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">2</span> </b><br /><p><span style="background-color:yellow;">There</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">no</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">case</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">this.</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">assigns</span> <span style="background-color:yellow;">all</span> <span style="background-color:yellow;">interactive</span> <span style="background-color:yellow;">results</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">special</span> <span style="background-color:yellow;">variable</span> <span style="background-color:yellow;">named</span> <span style="background-color:yellow;">_</span> . </p>
<p><span style="background-color:yellow;">You</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">following</span> <span style="background-color:yellow;">interactively.</span> <span style="background-color:yellow;">Works</span> <span style="background-color:yellow;">great.</span> <span style="background-color:yellow;">No</span> <span style="background-color:yellow;">funny</span> <span style="background-color:yellow;">business</span> . </p>
<pre><code>>>> check_status()
{'cond_op': 1, 't_canoncharge': 1342, 'stage_booster': 5, 'range_est_sigma': 0.023, 'fuel_est': 32557154, 'beer_type': 31007, 'beer_temp': 2, 'catchphrase_suggestion': 1023, 'virtual_on': 'hell yes'}

>>> pprint.pprint( _ )
{'beer_temp': 2,
 'beer_type': 31007,
 'catchphrase_suggestion': 1023,
 'cond_op': 1,
 'fuel_est': 32557154,
 'range_est_sigma': 0.023,
 'stage_booster': 5,
 't_canoncharge': 1342,
 'virtual_on': 'hell yes'}
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">3</span> </b><br /><p><span style="background-color:yellow;">There</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">no</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">know</span> <span style="background-color:yellow;">how</span> <span style="background-color:yellow;">its</span> <span style="background-color:yellow;">return</span> <span style="background-color:yellow;">value</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">being</span> <span style="background-color:yellow;">used</span> . </p>
<p><span style="background-color:yellow;">Well</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">mention</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">egregious</span> <span style="background-color:yellow;">bytecode</span> <span style="background-color:yellow;">hacks</span> <span style="background-color:yellow;">might</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">able</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">really</span> <span style="background-color:yellow;">complicated</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">probably</span> <span style="background-color:yellow;">fragile.</span> <span style="background-color:yellow;">Go</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">simpler</span> <span style="background-color:yellow;">explicit</span> <span style="background-color:yellow;">route</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">4</span> </b><br /><p><span style="background-color:yellow;">Even</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">there</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">bad</span> <span style="background-color:yellow;">idea.</span> <span style="background-color:yellow;">Imagine</span> <span style="background-color:yellow;">trying</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">debug</span> <span style="background-color:yellow;">something</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">behaves</span> <span style="background-color:yellow;">differently</span> <span style="background-color:yellow;">depending</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">context</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">called</span> <span style="background-color:yellow;">from.</span> <span style="background-color:yellow;">Now</span> <span style="background-color:yellow;">try</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">imagine</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">six</span> <span style="background-color:yellow;">months</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">now</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">buried</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">part</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">some</span> <span style="background-color:yellow;">system</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">too</span> <span style="background-color:yellow;">big</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">keep</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">head</span> <span style="background-color:yellow;">all</span> <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">once</span> . </p>
<p><span style="background-color:yellow;">Keep</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">simple.</span> <span style="background-color:yellow;">Explicit</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">better</span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">implicit.</span> <span style="background-color:yellow;">Just</span> <span style="background-color:yellow;">make</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">pretty-print</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">pprint</span> <span style="background-color:yellow;">module</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">call</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">result.</span> <span style="background-color:yellow;">In</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">interactive</span> <span style="background-color:yellow;">Pythn</span> <span style="background-color:yellow;">session</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">_</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">get</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">value</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">last</span> <span style="background-color:yellow;">expression</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">5</span> </b><br /><p><span style="background-color:yellow;">There</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">no</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">least</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">normal</span> <span style="background-color:yellow;">syntax</span> <span style="background-color:yellow;">procedures</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">because</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">call</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">assignment</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">completely</span> <span style="background-color:yellow;">independent</span> <span style="background-color:yellow;">operations</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">which</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">no</span> <span style="background-color:yellow;">awareness</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">each</span> <span style="background-color:yellow;">other</span> . </p>
<p><span style="background-color:yellow;">The</span> <span style="background-color:yellow;">simplest</span> <span style="background-color:yellow;">workaround</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">see</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">pass</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">flag</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">arg</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">check_status</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">deal</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">accordingly</span> . </p>
<pre><code>def check_status(return_dict=False) :
    if return_dict :
        # Return stuff here.
    # Pretty Print stuff here.
</code></pre>
<p><span style="background-color:yellow;">And</span> <span style="background-color:yellow;">then..</span> . </p>
<pre><code>check_status() # Pretty print
not_robot_stat = check_status(True) # Get the dict.
</code></pre>
<p><span style="background-color:yellow;">EDIT</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">assumed</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">'d</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">pretty</span> <span style="background-color:yellow;">printing</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">often</span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">'d</span> <span style="background-color:yellow;">assign.</span> <span style="background-color:yellow;">If</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">case</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">interchange</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">default</span> <span style="background-color:yellow;">value</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">value</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">pass</span> <span style="background-color:yellow;">in</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">6</span> </b><br /><p><span style="background-color:yellow;">The</span> <span style="background-color:yellow;">only</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">what</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">want</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">indeed</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">play</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">bytecode</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">--</span> <span style="background-color:yellow;">there</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">no</span> <span style="background-color:yellow;">other</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">recover</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">info.</span> <span style="background-color:yellow;">A</span> <span style="background-color:yellow;">much</span> <span style="background-color:yellow;">better</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">course</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">provide</span> <span style="background-color:yellow;">two</span> <span style="background-color:yellow;">separate</span> <span style="background-color:yellow;">functions</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">get</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">status</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">dict</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">other</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">call</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">first</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">format</span> <span style="background-color:yellow;">it</span> . </p>
<p><span style="background-color:yellow;">Alternatively</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">excellent</span> <span style="background-color:yellow;">architecture</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">could</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">single</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">takes</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">optional</span> <span style="background-color:yellow;">parameter</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">behave</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">these</span> <span style="background-color:yellow;">two</span> <span style="background-color:yellow;">utterly</span> <span style="background-color:yellow;">different</span> <span style="background-color:yellow;">ways</span> <span style="background-color:yellow;">--</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">excellent</span> <span style="background-color:yellow;">because</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">should</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">ONE</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">i.e.</span> <span style="background-color:yellow;">basically</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">ONE</span> <span style="background-color:yellow;">thing</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">two</span> <span style="background-color:yellow;">different</span> <span style="background-color:yellow;">ones</span> <span style="background-color:yellow;">such</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">these</span> . </p>
<br />