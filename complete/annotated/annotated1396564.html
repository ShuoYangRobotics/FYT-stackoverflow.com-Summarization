<h3><span style="background-color:yellow;">Question</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">ID-1396564</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><h2><span style="background-color:yellow;">Why</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">subtraction</span> <span style="background-color:yellow;">faster</span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">addition</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">Python</span> ? </h2><p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">was</span> <span style="background-color:yellow;">optimising</span> <span style="background-color:yellow;">some</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">tried</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">following</span> <span style="background-color:yellow;">experiment</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>import time

start = time.clock()
x = 0
for i in range(10000000):
    x += 1
end = time.clock()

print '+=',end-start

start = time.clock()
x = 0
for i in range(10000000):
    x -= -1
end = time.clock()

print '-=',end-start
</code></pre>
<p><span style="background-color:yellow;">The</span> <span style="background-color:yellow;">second</span> <span style="background-color:yellow;">loop</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">reliably</span> <span style="background-color:yellow;">faster</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">anywhere</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">whisker</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">10</span> <span style="background-color:yellow;">%</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">depending</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">system</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">run</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">on.</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'ve</span> <span style="background-color:yellow;">tried</span> <span style="background-color:yellow;">varying</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">order</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">loops</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">number</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">executions</span> <span style="background-color:yellow;">etc</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">still</span> <span style="background-color:yellow;">seems</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">work</span> . </p>
<p><span style="background-color:yellow;">Stranger,</span> </p>
<pre><code>for i in range(10000000, 0, -1):
</code></pre>
<p><span style="background-color:yellow;"></span> <span style="background-color:yellow;">ie</span> <span style="background-color:yellow;">running</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">loop</span> <span style="background-color:yellow;">backwards</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">faster</span> <span style="background-color:yellow;">than</span> </p>
<pre><code>for i in range(10000000):
</code></pre>
<p><span style="background-color:yellow;">even</span> <span style="background-color:yellow;">when</span> <span style="background-color:yellow;">loop</span> <span style="background-color:yellow;">contents</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">identical</span> . </p>
<p><span style="background-color:yellow;">What</span> <span style="background-color:yellow;">gives</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">there</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">general</span> <span style="background-color:yellow;">programming</span> <span style="background-color:yellow;">lesson</span> <span style="background-color:yellow;">here</span> ? </p>
<br /><h3><span style="background-color:yellow;">Answers</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">Total-11</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">0</span> </b><br /><p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">reproduce</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">my</span> <span style="background-color:yellow;">Q6600</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">2.6.2</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">;</span> <span style="background-color:yellow;">increasing</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">range</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">100000000</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>('+=', 11.370000000000001)
('-=', 10.769999999999998)
</code></pre>
<p><span style="background-color:yellow;">First</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">some</span> <span style="background-color:yellow;">observations</span> <span style="background-color:yellow;">:</span> </p>
<ul><span style="background-color:yellow;">This</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">5</span> <span style="background-color:yellow;">%</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">trivial</span> <span style="background-color:yellow;">operation.</span> <span style="background-color:yellow;">That</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">significant</span> . <span style="background-color:yellow;">The</span> <span style="background-color:yellow;">speed</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">native</span> <span style="background-color:yellow;">addition</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">subtraction</span> <span style="background-color:yellow;">opcodes</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">irrelevant.</span> <span style="background-color:yellow;">It</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">noise</span> <span style="background-color:yellow;">floor</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">completely</span> <span style="background-color:yellow;">dwarfed</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">bytecode</span> <span style="background-color:yellow;">evaluation.</span> <span style="background-color:yellow;">That</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">talking</span> <span style="background-color:yellow;">about</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">two</span> <span style="background-color:yellow;">native</span> <span style="background-color:yellow;">instructions</span> <span style="background-color:yellow;">around</span> <span style="background-color:yellow;">thousands</span> . <span style="background-color:yellow;">The</span> <span style="background-color:yellow;">bytecode</span> <span style="background-color:yellow;">generates</span> <span style="background-color:yellow;">exactly</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">same</span> <span style="background-color:yellow;">number</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">instructions</span> <span style="background-color:yellow;">;</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">only</span> <span style="background-color:yellow;">difference</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">INPLACE_ADD</span> <span style="background-color:yellow;">vs.</span> <span style="background-color:yellow;">INPLACE_SUBTRACT</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">+</span> <span style="background-color:yellow;">1</span> <span style="background-color:yellow;">vs</span> <span style="background-color:yellow;">-1</span> . </ul>
<p><span style="background-color:yellow;">Looking</span> <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">source</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">make</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">guess.</span> <span style="background-color:yellow;">This</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">handled</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">ceval.c</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">PyEval_EvalFrameEx</span> . <span style="background-color:yellow;">INPLACE_ADD</span> <span style="background-color:yellow;">has</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">significant</span> <span style="background-color:yellow;">extra</span> <span style="background-color:yellow;">block</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">handle</span> <span style="background-color:yellow;">string</span> <span style="background-color:yellow;">concatenation.</span> <span style="background-color:yellow;">That</span> <span style="background-color:yellow;">block</span> <span style="background-color:yellow;">does</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">exist</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">INPLACE_SUBTRACT</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">since</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">ca</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">subtract</span> <span style="background-color:yellow;">strings.</span> <span style="background-color:yellow;">That</span> <span style="background-color:yellow;">means</span> <span style="background-color:yellow;">INPLACE_ADD</span> <span style="background-color:yellow;">contains</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">native</span> <span style="background-color:yellow;">code.</span> <span style="background-color:yellow;">Depending</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">heavily</span> <span style="background-color:yellow;">!</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">how</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">being</span> <span style="background-color:yellow;">generated</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">compiler</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">extra</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">may</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">inline</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">rest</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">INPLACE_ADD</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">which</span> <span style="background-color:yellow;">means</span> <span style="background-color:yellow;">additions</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">hit</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">instruction</span> <span style="background-color:yellow;">cache</span> <span style="background-color:yellow;">harder</span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">subtraction.</span> <span style="background-color:yellow;">This</span> <span style="background-color:yellow;">could</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">causing</span> <span style="background-color:yellow;">extra</span> <span style="background-color:yellow;">L2</span> <span style="background-color:yellow;">cache</span> <span style="background-color:yellow;">hits</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">which</span> <span style="background-color:yellow;">could</span> <span style="background-color:yellow;">cause</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">significant</span> <span style="background-color:yellow;">performance</span> <span style="background-color:yellow;">difference</span> . </p>
<p><span style="background-color:yellow;">This</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">heavily</span> <span style="background-color:yellow;">dependent</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">system</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">'re</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">different</span> <span style="background-color:yellow;">processors</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">different</span> <span style="background-color:yellow;">amounts</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">cache</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">cache</span> <span style="background-color:yellow;">architectures</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">compiler</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">including</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">particular</span> <span style="background-color:yellow;">version</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">compilation</span> <span style="background-color:yellow;">options</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">different</span> <span style="background-color:yellow;">compilers</span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">decide</span> <span style="background-color:yellow;">differently</span> <span style="background-color:yellow;">which</span> <span style="background-color:yellow;">bits</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">critical</span> <span style="background-color:yellow;">path</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">which</span> <span style="background-color:yellow;">determines</span> <span style="background-color:yellow;">how</span> <span style="background-color:yellow;">assembly</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">lumped</span> <span style="background-color:yellow;">together</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">on</span> . </p>
<p><span style="background-color:yellow;">Also</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">difference</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">reversed</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">3.0.1</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">+</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">15.66</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">-</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">16.71</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">;</span> <span style="background-color:yellow;">no</span> <span style="background-color:yellow;">doubt</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">critical</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">has</span> <span style="background-color:yellow;">changed</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">lot</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">1</span> </b><br /><pre><code>$ python -m timeit -s "x=0" "x+=1"
10000000 loops, best of 3: 0.151 usec per loop
$ python -m timeit -s "x=0" "x-=-1"
10000000 loops, best of 3: 0.154 usec per loop
</code></pre>
<p><span style="background-color:yellow;">Looks</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">'ve</span> <span style="background-color:yellow;">some</span> <span style="background-color:yellow;">measurement</span> <span style="background-color:yellow;">bias</span> </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">2</span> </b><br /><blockquote><span style="background-color:yellow;">"</span> <span style="background-color:yellow;">The</span> <span style="background-color:yellow;">second</span> <span style="background-color:yellow;">loop</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">reliably</span> <span style="background-color:yellow;">faster</span> <span style="background-color:yellow;">...</span> <span style="background-color:yellow;">"</span> </blockquote>
<p><span style="background-color:yellow;">That</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">explanation</span> <span style="background-color:yellow;">right</span> <span style="background-color:yellow;">there.</span> <span style="background-color:yellow;">Re-order</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">script</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">subtraction</span> <span style="background-color:yellow;">test</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">timed</span> <span style="background-color:yellow;">first</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">then</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">addition</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">suddenly</span> <span style="background-color:yellow;">addition</span> <span style="background-color:yellow;">becomes</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">faster</span> <span style="background-color:yellow;">operation</span> <span style="background-color:yellow;">again</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>-= 3.05
+= 2.84
</code></pre>
<p><span style="background-color:yellow;">Obviously</span> <span style="background-color:yellow;">something</span> <span style="background-color:yellow;">happens</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">second</span> <span style="background-color:yellow;">half</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">script</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">makes</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">faster.</span> <span style="background-color:yellow;">My</span> <span style="background-color:yellow;">guess</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">first</span> <span style="background-color:yellow;">call</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">range</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">slower</span> <span style="background-color:yellow;">because</span> <span style="background-color:yellow;">python</span> <span style="background-color:yellow;">needs</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">allocate</span> <span style="background-color:yellow;">enough</span> <span style="background-color:yellow;">memory</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">such</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">long</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">able</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">re-use</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">memory</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">second</span> <span style="background-color:yellow;">call</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">range</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </p>
<pre><code>import time
start = time.clock()
x = range(10000000)
end = time.clock()
del x
print 'first range()',end-start
start = time.clock()
x = range(10000000)
end = time.clock()
print 'second range()',end-start
</code></pre>
<p><span style="background-color:yellow;">A</span> <span style="background-color:yellow;">few</span> <span style="background-color:yellow;">runs</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">script</span> <span style="background-color:yellow;">show</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">extra</span> <span style="background-color:yellow;">time</span> <span style="background-color:yellow;">needed</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">first</span> <span style="background-color:yellow;">range</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">accounts</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">nearly</span> <span style="background-color:yellow;">all</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">time</span> <span style="background-color:yellow;">difference</span> <span style="background-color:yellow;">between</span> <span style="background-color:yellow;">'</span> <span style="background-color:yellow;">+</span> <span style="background-color:yellow;">=</span> <span style="background-color:yellow;">'</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">'-</span> <span style="background-color:yellow;">=</span> <span style="background-color:yellow;">'</span> <span style="background-color:yellow;">seen</span> <span style="background-color:yellow;">above</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>first range() 0.4
second range() 0.23
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">3</span> </b><br /><p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">think</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">general</span> <span style="background-color:yellow;">programming</span> <span style="background-color:yellow;">lesson</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">really</span> <span style="background-color:yellow;">hard</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">predict</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">solely</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">looking</span> <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">source</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">which</span> <span style="background-color:yellow;">sequence</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">statements</span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">fastest.</span> <span style="background-color:yellow;">Programmers</span> <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">all</span> <span style="background-color:yellow;">levels</span> <span style="background-color:yellow;">frequently</span> <span style="background-color:yellow;">get</span> <span style="background-color:yellow;">caught</span> <span style="background-color:yellow;">up</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">sort</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">intuitive</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">optimisation.</span> <span style="background-color:yellow;">What</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">think</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">know</span> <span style="background-color:yellow;">may</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">necessarily</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">true</span> . </p>
<p><span style="background-color:yellow;">There</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">simply</span> <span style="background-color:yellow;">no</span> <span style="background-color:yellow;">substitute</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">actually</span> <span style="background-color:yellow;">measuring</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">program</span> <span style="background-color:yellow;">performance.</span> <span style="background-color:yellow;">Kudos</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">doing</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">;</span> <span style="background-color:yellow;">answering</span> <span style="background-color:yellow;">why</span> <span style="background-color:yellow;">undoubtedly</span> <span style="background-color:yellow;">requires</span> <span style="background-color:yellow;">delving</span> <span style="background-color:yellow;">deep</span> <span style="background-color:yellow;">into</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">implementation</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">case</span> . </p>
<p><span style="background-color:yellow;">With</span> <span style="background-color:yellow;">byte-compiled</span> <span style="background-color:yellow;">languages</span> <span style="background-color:yellow;">such</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">Java</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">.NET</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">even</span> <span style="background-color:yellow;">sufficient</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">measure</span> <span style="background-color:yellow;">performance</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">just</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">machine.</span> <span style="background-color:yellow;">Differences</span> <span style="background-color:yellow;">between</span> <span style="background-color:yellow;">VM</span> <span style="background-color:yellow;">versions</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">native</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">translation</span> <span style="background-color:yellow;">implementations</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">CPU-specific</span> <span style="background-color:yellow;">optimisations</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">make</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">sort</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">question</span> <span style="background-color:yellow;">ever</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">tricky</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">answer</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">4</span> </b><br /><p><span style="background-color:yellow;">It</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">always</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">good</span> <span style="background-color:yellow;">idea</span> <span style="background-color:yellow;">when</span> <span style="background-color:yellow;">asking</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">question</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">say</span> <span style="background-color:yellow;">what</span> <span style="background-color:yellow;">platform</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">what</span> <span style="background-color:yellow;">version</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">using.</span> <span style="background-color:yellow;">Sometimes</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">does't</span> <span style="background-color:yellow;">matter.</span> <span style="background-color:yellow;">This</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">NOT</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">those</span> <span style="background-color:yellow;">times</span> <span style="background-color:yellow;">:</span> </p>
<ol><span style="background-color:yellow;">time.clock</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">appropriate</span> <span style="background-color:yellow;">only</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">Windows.</span> <span style="background-color:yellow;">Throw</span> <span style="background-color:yellow;">away</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">own</span> <span style="background-color:yellow;">measuring</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">-m</span> <span style="background-color:yellow;">timeit</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">demonstrated</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">pixelbeat</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">answer</span> . <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">2.X</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">range</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">builds</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">list.</span> <span style="background-color:yellow;">If</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">2.x</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">replace</span> <span style="background-color:yellow;">range</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">xrange</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">see</span> <span style="background-color:yellow;">what</span> <span style="background-color:yellow;">happens</span> . <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">3.X</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">int</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">Python2.X</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">long</span> . </ol>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">5</span> </b><br /><p><span style="background-color:yellow;">With</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">2.5</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">biggest</span> <span style="background-color:yellow;">problem</span> <span style="background-color:yellow;">here</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">range</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">which</span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">allocate</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">big</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">iterate</span> <span style="background-color:yellow;">over</span> <span style="background-color:yellow;">it.</span> <span style="background-color:yellow;">When</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">xrange</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">whichever</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">done</span> <span style="background-color:yellow;">second</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">tiny</span> <span style="background-color:yellow;">bit</span> <span style="background-color:yellow;">faster</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">me.</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">Not</span> <span style="background-color:yellow;">sure</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">range</span> <span style="background-color:yellow;">has</span> <span style="background-color:yellow;">become</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">generator</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">3.</span> <span style="background-color:yellow;"></span> </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">6</span> </b><br /><p><span style="background-color:yellow;">Your</span> <span style="background-color:yellow;">experiment</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">faulty.</span> <span style="background-color:yellow;">The</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">experiment</span> <span style="background-color:yellow;">should</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">designed</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">write</span> <span style="background-color:yellow;">2</span> <span style="background-color:yellow;">different</span> <span style="background-color:yellow;">programs</span> <span style="background-color:yellow;">-</span> <span style="background-color:yellow;">1</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">addition</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">1</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">subtraction.</span> <span style="background-color:yellow;">They</span> <span style="background-color:yellow;">should</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">exactly</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">same</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">run</span> <span style="background-color:yellow;">under</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">same</span> <span style="background-color:yellow;">conditions</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">data</span> <span style="background-color:yellow;">being</span> <span style="background-color:yellow;">put</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">file.</span> <span style="background-color:yellow;">Then</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">need</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">average</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">runs</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">least</span> <span style="background-color:yellow;">several</span> <span style="background-color:yellow;">thousand</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">'d</span> <span style="background-color:yellow;">need</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">statistician</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">tell</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">appropriate</span> <span style="background-color:yellow;">number</span> . </p>
<p><span style="background-color:yellow;">If</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">wanted</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">analyze</span> <span style="background-color:yellow;">different</span> <span style="background-color:yellow;">methods</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">addition</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">subtraction</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">looping</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">again</span> <span style="background-color:yellow;">each</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">those</span> <span style="background-color:yellow;">should</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">separate</span> <span style="background-color:yellow;">program</span> . </p>
<p><span style="background-color:yellow;">Experimental</span> <span style="background-color:yellow;">error</span> <span style="background-color:yellow;">might</span> <span style="background-color:yellow;">arise</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">heat</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">processor</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">other</span> <span style="background-color:yellow;">activity</span> <span style="background-color:yellow;">going</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">cpu</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">i</span> <span style="background-color:yellow;">'d</span> <span style="background-color:yellow;">execute</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">runs</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">variety</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">patterns..</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">7</span> </b><br /><p><span style="background-color:yellow;">That</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">remarkable</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">thoroughly</span> <span style="background-color:yellow;">evaluated</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">also</span> <span style="background-color:yellow;">setup</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">expiriment</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">find</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">correct</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">all</span> <span style="background-color:yellow;">declarations</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">calls</span> <span style="background-color:yellow;">outside</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">loop</span> <span style="background-color:yellow;"></span> . <span style="background-color:yellow;">Both</span> <span style="background-color:yellow;">versions</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">run</span> <span style="background-color:yellow;">five</span> <span style="background-color:yellow;">times</span> . </p>
<ul><span style="background-color:yellow;">Running</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">validated</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">claims</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">-</span> <span style="background-color:yellow;">=</span> <span style="background-color:yellow;">takes</span> <span style="background-color:yellow;">constantly</span> <span style="background-color:yellow;">less</span> <span style="background-color:yellow;">time</span> <span style="background-color:yellow;">;</span> <span style="background-color:yellow;">3.6</span> <span style="background-color:yellow;">%</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">average</span> <span style="background-color:yellow;">Running</span> <span style="background-color:yellow;">my</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">though</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">contradicts</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">outcome</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">experiment</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">+</span> <span style="background-color:yellow;">=</span> <span style="background-color:yellow;">takes</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">average</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">always</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">0.5</span> <span style="background-color:yellow;">%</span> <span style="background-color:yellow;">less</span> <span style="background-color:yellow;">time</span> . </ul>
<p><span style="background-color:yellow;">To</span> <span style="background-color:yellow;">show</span> <span style="background-color:yellow;">all</span> <span style="background-color:yellow;">results</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">put</span> <span style="background-color:yellow;">plots</span> <span style="background-color:yellow;">online</span> <span style="background-color:yellow;">:</span> </p>
<ul><span style="background-color:yellow;">Your</span> <span style="background-color:yellow;">evaluation</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">http</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">//bayimg.com/kadAeaAcN</span> <span style="background-color:yellow;">My</span> <span style="background-color:yellow;">evaluation</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">http</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">//bayimg.com/KadaAaAcN</span> </ul>
<p><span style="background-color:yellow;">So</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">conclude</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">experiment</span> <span style="background-color:yellow;">has</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">bias</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">significant</span> . </p>
<p><span style="background-color:yellow;">Finally</span> <span style="background-color:yellow;">here</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">my</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>import time

addtimes = [0.] * 100
subtracttimes = [0.] * 100

range100 = range(100)
range10000000 = range(10000000)

j = 0
i = 0
x = 0
start = 0.


for j in range100:
 start = time.clock()
 x = 0
 for i in range10000000:
  x += 1
 addtimes[j] = time.clock() - start

for j in range100:
 start = time.clock()
 x = 0
 for i in range10000000:
  x -= -1
 subtracttimes[j] = time.clock() - start

print '+=', sum(addtimes)
print '-=', sum(subtracttimes)
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">8</span> </b><br /><blockquote><span style="background-color:yellow;">Is</span> <span style="background-color:yellow;">there</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">general</span> <span style="background-color:yellow;">programming</span> <span style="background-color:yellow;">lesson</span> <span style="background-color:yellow;">here</span> ? </blockquote>
<p><span style="background-color:yellow;">The</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">general</span> <span style="background-color:yellow;">programming</span> <span style="background-color:yellow;">lesson</span> <span style="background-color:yellow;">here</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">intuition</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">poor</span> <span style="background-color:yellow;">guide</span> <span style="background-color:yellow;">when</span> <span style="background-color:yellow;">predicting</span> <span style="background-color:yellow;">run-time</span> <span style="background-color:yellow;">performance</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">computer</span> <span style="background-color:yellow;">code</span> . </p>
<p><span style="background-color:yellow;">One</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">reason</span> <span style="background-color:yellow;">about</span> <span style="background-color:yellow;">algorithmic</span> <span style="background-color:yellow;">complexity</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">hypothesise</span> <span style="background-color:yellow;">about</span> <span style="background-color:yellow;">compiler</span> <span style="background-color:yellow;">optimisations</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">estimate</span> <span style="background-color:yellow;">cache</span> <span style="background-color:yellow;">performance</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">on.</span> <span style="background-color:yellow;">However</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">since</span> <span style="background-color:yellow;">these</span> <span style="background-color:yellow;">things</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">interact</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">non-trivial</span> <span style="background-color:yellow;">ways</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">only</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">sure</span> <span style="background-color:yellow;">about</span> <span style="background-color:yellow;">how</span> <span style="background-color:yellow;">fast</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">particular</span> <span style="background-color:yellow;">piece</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">going</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">benchmark</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">target</span> <span style="background-color:yellow;">environment</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">rightfully</span> <span style="background-color:yellow;">done.</span> <span style="background-color:yellow;"></span> </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">9</span> </b><br /><p><span style="background-color:yellow;">The</span> <span style="background-color:yellow;">running</span> <span style="background-color:yellow;">loop</span> <span style="background-color:yellow;">backwards</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">faster</span> <span style="background-color:yellow;">because</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">computer</span> <span style="background-color:yellow;">has</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">easier</span> <span style="background-color:yellow;">time</span> <span style="background-color:yellow;">comparing</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">number</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">equal</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">0</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">10</span> </b><br /><p><span style="background-color:yellow;">Have</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">tried</span> <span style="background-color:yellow;">reversing</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">order</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">loops</span> ? </p>
<br />