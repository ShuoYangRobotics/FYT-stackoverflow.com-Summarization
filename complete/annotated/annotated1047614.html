<h3><span style="background-color:yellow;">Question</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">ID-1047614</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><h2><span style="background-color:yellow;">How</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">dict</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">python</span> ? </h2><pre><code>10
5
-1
-1
-1
1
1
0
2
...
</code></pre>
<p><span style="background-color:yellow;">If</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">want</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">count</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">number</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">occurrences</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">each</span> <span style="background-color:yellow;">number</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">how</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">python</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">it</span> ? </p>
<br /><h3><span style="background-color:yellow;">Answers</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">Total-9</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">0</span> </b><br /><p><span style="background-color:yellow;">This</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">almost</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">exact</span> <span style="background-color:yellow;">same</span> <span style="background-color:yellow;">algorithm</span> <span style="background-color:yellow;">described</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">Anurag</span> <span style="background-color:yellow;">Uniyal</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">answer</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">except</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">iterator</span> <span style="background-color:yellow;">instead</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">readline</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </p>
<pre><code>from collections import defaultdict
try:
  from io import StringIO # 2.6+, 3.x
except ImportError:
  from StringIO import StringIO # 2.5

data = defaultdict(int)

#with open("filename", "r") as f: # if a real file
with StringIO("10\n5\n-1\n-1\n-1\n1\n1\n0\n2") as f:
  for line in f:
    data[int(line)] += 1

for number, count in data.iteritems():
  print number, "was found", count, "times"
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">1</span> </b><br /><p><span style="background-color:yellow;">Counter</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">best</span> <span style="background-color:yellow;">friend</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">http</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">//docs.python.org/dev/library/collections.html</span> <span style="background-color:yellow;">#</span> <span style="background-color:yellow;">counter-objects</span> </p>
<p><span style="background-color:yellow;">for</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">Python2.5</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">2.6</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">http</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">//code.activestate.com/recipes/576611/</span> </p>
<pre><code>>>> cnt = Counter()
>>> for word in ['red', 'blue', 'red', 'green', 'blue', 'blue']:
...     cnt[word] += 1
>>> cnt
Counter({'blue': 3, 'red': 2, 'green': 1})
# or just cnt = Counter(['red', 'blue', 'red', 'green', 'blue', 'blue'])
</code></pre>
<p><span style="background-color:yellow;">for</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>print Counter(int(line.strip()) for line in open("foo.txt", "rb"))
##output
Counter({-1: 3, 1: 2, 0: 1, 2: 1, 5: 1, 10: 1})
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">2</span> </b><br /><p><span style="background-color:yellow;">Read</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">lines</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">into</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">l</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">e.g.</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>l = [int(line) for line in open('filename','r')]
</code></pre>
<p><span style="background-color:yellow;">Starting</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">values</span> <span style="background-color:yellow;">l</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">create</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">dictionary</span> <span style="background-color:yellow;">d</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">gives</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">each</span> <span style="background-color:yellow;">value</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">number</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">occurrences</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>>>> l = [10,5,-1,-1,-1,1,1,0,2]
>>> d = dict((x,l.count(x)) for x in l)
>>> d[1]
2
</code></pre>
<p><span style="background-color:yellow;">EDIT</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">Matthew</span> <span style="background-color:yellow;">rightly</span> <span style="background-color:yellow;">points</span> <span style="background-color:yellow;">out</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">hardly</span> <span style="background-color:yellow;">optimal.</span> <span style="background-color:yellow;">Here</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">version</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">defaultdict</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>from collections import defaultdict
d = defaultdict(int)
for line in open('filename','r'):
    d[int(line)] += 1
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">3</span> </b><br /><p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">think</span> <span style="background-color:yellow;">what</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">call</span> <span style="background-color:yellow;">map</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">python</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">dictionary</span> . <span style="background-color:yellow;">Here</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">some</span> <span style="background-color:yellow;">useful</span> <span style="background-color:yellow;">link</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">how</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">http</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">//docs.python.org/tutorial/datastructures.html</span> <span style="background-color:yellow;">#</span> <span style="background-color:yellow;">dictionaries</span> </p>
<p><span style="background-color:yellow;">For</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">good</span> <span style="background-color:yellow;">solution</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">see</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">answer</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">Stephan</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">Matthew</span> <span style="background-color:yellow;">-</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">take</span> <span style="background-color:yellow;">also</span> <span style="background-color:yellow;">some</span> <span style="background-color:yellow;">time</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">understand</span> <span style="background-color:yellow;">what</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">does</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">-</span> <span style="background-color:yellow;"></span> </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">4</span> </b><br /><p><span style="background-color:yellow;">New</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">3.1</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>from collections import Counter
with open("filename","r") as lines:
    print(Counter(lines))
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">5</span> </b><br /><ol><span style="background-color:yellow;">Use</span> <span style="background-color:yellow;">collections.defaultdict</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">deafult</span> <span style="background-color:yellow;">count</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">anything</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">zero</span> <span style="background-color:yellow;">After</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">loop</span> <span style="background-color:yellow;">thru</span> <span style="background-color:yellow;">lines</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">file.readline</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">convert</span> <span style="background-color:yellow;">each</span> <span style="background-color:yellow;">line</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">int</span> <span style="background-color:yellow;">increment</span> <span style="background-color:yellow;">counter</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">each</span> <span style="background-color:yellow;">value</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">countDict</span> <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">last</span> <span style="background-color:yellow;">go</span> <span style="background-color:yellow;">thru</span> <span style="background-color:yellow;">dict</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">intV</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">count</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">countDict.iteritems</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">print</span> <span style="background-color:yellow;">values</span> </ol>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">6</span> </b><br /><p><span style="background-color:yellow;">Use</span> <span style="background-color:yellow;">dictionary</span> <span style="background-color:yellow;">where</span> <span style="background-color:yellow;">every</span> <span style="background-color:yellow;">line</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">key</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">count</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">value.</span> <span style="background-color:yellow;">Increment</span> <span style="background-color:yellow;">count</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">every</span> <span style="background-color:yellow;">line</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">there</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">no</span> <span style="background-color:yellow;">dictionary</span> <span style="background-color:yellow;">entry</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">line</span> <span style="background-color:yellow;">initialize</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">1</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">except</span> <span style="background-color:yellow;">clause</span> <span style="background-color:yellow;">--</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">should</span> <span style="background-color:yellow;">work</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">older</span> <span style="background-color:yellow;">versions</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">Python</span> . </p>
<pre><code>def count_same_lines(fname):
    line_counts = {}
    for l in file(fname):
    	l = l.rstrip()
    	if l:
    		try:
    			line_counts[l] += 1
    		except KeyError:
    			line_counts[l] = 1
    print('cnt\ttxt')
    for k in line_counts.keys():
    	print('%d\t%s' % (line_counts[k], k))
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">7</span> </b><br /><pre><code>l = [10,5,-1,-1,-1,1,1,0,2]
d = {}
for x in l:
  d[x] = (d[x] + 1) if (x in d) else 1
</code></pre>
<p><span style="background-color:yellow;">There</span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">key</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">d</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">every</span> <span style="background-color:yellow;">distinct</span> <span style="background-color:yellow;">value</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">original</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">values</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">d</span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">number</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">occurrences</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">8</span> </b><br /><h3><span style="background-color:yellow;">counter.py</span> </h3>
<pre><code>#!/usr/bin/env python
import fileinput
from collections import defaultdict

frequencies = defaultdict(int)
for line in fileinput.input():
    frequencies[line.strip()] += 1

print frequencies
</code></pre>
<p><span style="background-color:yellow;">Example</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>$ perl -E'say 1*(rand() < 0.5) for (1..100)' | python counter.py
defaultdict(<type 'int'>, {'1': 52, '0': 48})
</code></pre>
<br />