<h3>Question ( ID-1893094 ) : </h3><h2>Basic Python Numbers ! </h2><p>Why does 0.1 + 0.1 + 0.1 - 0.3 evaluates to 5.5511151231257827e-17 in Python ? </p>
<br /><h3>Answers ( Total-6 ) : </h3><b># 0 </b><br /><p>Because that 's how floating point numbers work. If you want precise numbers , use the decimal module. If you want to use floating point numbers , you have to remember to round them to a specific precision when you are displaying them . </p>
<pre><code>>>> print '%.2f' % (0.1+0.1+0.1-0.3,)
0.00
</code></pre>
<br /><b># 1 </b><br /><p>This is a problem with floating point numbers in general. See this section on Wikipedia for a description. Roughly speaking - there are rounding errors. Notice that the number you gave us was very small - about 0.00000000000000005551115123 . Here is a more technical paper about the subject . </p>
<br /><b># 2 </b><br /><p>The answer is here : What Every Computer Scientist Should Know About Floating-Point Arithmetic </p>
<br /><b># 3 </b><br /><p>You might be interested in knowing that Python 3 has improved the situation by changing how repr works. It will now give you the shortest string representation that will be converted back to the original float : </p>
<pre>
Python 3.1.1+ (r311:74480, Oct 11 2009, 20:19:13) 
[GCC 4.3.4] on linux2
Type "help", "copyright", "credits" or "license" for more information.
>>> 0.1
'0.1'
</pre>
<p>Older versions behave like this : </p>
<pre>
Python 2.6.4 (r264:75706, Oct 28 2009, 22:19:17) 
[GCC 4.3.4] on linux2
Type "help", "copyright", "credits" or "license" for more information.
>>> 0.1
'0.10000000000000001'
</pre>
<p>It is only the output of repr ( called implicitly when you enter a value in the interactive interpreter ) that has changed. The underlying values are still IEEE-754 floating-point numbers , and they still have the usual limitations : </p>
<pre>
Python 3.1.1+ (r311:74480, Oct 11 2009, 20:19:13) 
[GCC 4.3.4] on linux2
Type "help", "copyright", "credits" or "license" for more information.
>>> 0.1
0.1
>>> 0.2
0.2
>>> 0.3
0.3
>>> 0.1 + 0.2
0.30000000000000004
>>> 0.1 + 0.2 - 0.3
5.551115123125783e-17
</pre>
<br /><b># 4 </b><br /><p>Because of the way floating points numbers are represented in a computer. It 's not just a Python thing . </p>
<br /><b># 5 </b><br /><p></p>
<br />