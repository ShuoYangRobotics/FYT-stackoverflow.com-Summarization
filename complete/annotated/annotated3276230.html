<h3><span style="background-color:yellow;">Question</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">ID-3276230</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><h2><span style="background-color:yellow;">Basic</span> <span style="background-color:yellow;">data</span> <span style="background-color:yellow;">storage</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">Python</span> </h2><p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">need</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">store</span> <span style="background-color:yellow;">basic</span> <span style="background-color:yellow;">data</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">customer</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">cars</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">they</span> <span style="background-color:yellow;">bought</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">payment</span> <span style="background-color:yellow;">schedule</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">these</span> <span style="background-color:yellow;">cars.</span> <span style="background-color:yellow;">These</span> <span style="background-color:yellow;">data</span> <span style="background-color:yellow;">come</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">GUI</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">written</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">Python.</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">enough</span> <span style="background-color:yellow;">experience</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">database</span> <span style="background-color:yellow;">system</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">sql</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">want</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">store</span> <span style="background-color:yellow;">my</span> <span style="background-color:yellow;">data</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">plain</span> <span style="background-color:yellow;">text.</span> <span style="background-color:yellow;">And</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">does</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">online</span> . </p>
<p><span style="background-color:yellow;">To</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">able</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">search</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">filter</span> <span style="background-color:yellow;">them</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">first</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">convert</span> <span style="background-color:yellow;">my</span> <span style="background-color:yellow;">data</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">lists</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">lists</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">string</span> <span style="background-color:yellow;">then</span> <span style="background-color:yellow;">when</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">need</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">data</span> <span style="background-color:yellow;">re-convert</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">regular</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">syntax.</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">know</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">very</span> <span style="background-color:yellow;">brute-force</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">safe</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">advice</span> <span style="background-color:yellow;">me</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">another</span> <span style="background-color:yellow;">way</span> ? </p>
<br /><h3><span style="background-color:yellow;">Answers</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">Total-6</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">0</span> </b><br /><p><span style="background-color:yellow;">It</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">never</span> <span style="background-color:yellow;">safe</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">save</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">database</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">text</span> <span style="background-color:yellow;">format</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">pickle</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">whatever</span> <span style="background-color:yellow;"></span> . <span style="background-color:yellow;">There</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">risk</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">problems</span> <span style="background-color:yellow;">while</span> <span style="background-color:yellow;">saving</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">data</span> <span style="background-color:yellow;">may</span> <span style="background-color:yellow;">cause</span> <span style="background-color:yellow;">corruption.</span> <span style="background-color:yellow;">Not</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">mention</span> <span style="background-color:yellow;">risks</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">data</span> <span style="background-color:yellow;">being</span> <span style="background-color:yellow;">stolen</span> . </p>
<p><span style="background-color:yellow;">As</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">dataset</span> <span style="background-color:yellow;">grows</span> <span style="background-color:yellow;">there</span> <span style="background-color:yellow;">may</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">performance</span> <span style="background-color:yellow;">hit</span> . </p>
<p><span style="background-color:yellow;">have</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">look</span> <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">sqlite</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">sqlite3</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">which</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">small</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">easier</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">manage</span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">mysql.</span> <span style="background-color:yellow;">Unless</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">very</span> <span style="background-color:yellow;">small</span> <span style="background-color:yellow;">dataset</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">fit</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">text</span> <span style="background-color:yellow;">file</span> . </p>
<p><span style="background-color:yellow;">P/S</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">btw</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">berkeley</span> <span style="background-color:yellow;">db</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">python</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">simple</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">learn</span> <span style="background-color:yellow;">all</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">DB</span> <span style="background-color:yellow;">things</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">just</span> <span style="background-color:yellow;">import</span> <span style="background-color:yellow;">bsddb</span> </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">1</span> </b><br /><p><span style="background-color:yellow;">The</span> <span style="background-color:yellow;">answer</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">pickle</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">good</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">personally</span> <span style="background-color:yellow;">prefer</span> <span style="background-color:yellow;">shelve.</span> <span style="background-color:yellow;">It</span> <span style="background-color:yellow;">allows</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">keep</span> <span style="background-color:yellow;">variables</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">same</span> <span style="background-color:yellow;">state</span> <span style="background-color:yellow;">they</span> <span style="background-color:yellow;">were</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">between</span> <span style="background-color:yellow;">launches</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">find</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">easier</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">pickle</span> <span style="background-color:yellow;">directly.</span> <span style="background-color:yellow;">http</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">//docs.python.org/library/shelve.html</span> </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">2</span> </b><br /><p><span style="background-color:yellow;">You</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">lib</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">write</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">object</span> <span style="background-color:yellow;">into</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">http</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">//docs.python.org/library/pickle.html</span> </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">3</span> </b><br /><p><span style="background-color:yellow;">Writing</span> <span style="background-color:yellow;">data</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">safe</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">datastorage.</span> <span style="background-color:yellow;">Better</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">simple</span> <span style="background-color:yellow;">database</span> <span style="background-color:yellow;">libary</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">sqlalchemy</span> . <span style="background-color:yellow;">It</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">ORM</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">easy</span> <span style="background-color:yellow;">database</span> <span style="background-color:yellow;">usage..</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">4</span> </b><br /><p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">agree</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">others</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">serious</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">important</span> <span style="background-color:yellow;">data</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">secure</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">some</span> <span style="background-color:yellow;">type</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">light</span> <span style="background-color:yellow;">database</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">also</span> <span style="background-color:yellow;">feel</span> <span style="background-color:yellow;">sympathy</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">wish</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">keep</span> <span style="background-color:yellow;">things</span> <span style="background-color:yellow;">simple</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">transparent</span> . </p>
<p><span style="background-color:yellow;">So</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">instead</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">inventing</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">own</span> <span style="background-color:yellow;">text-based</span> <span style="background-color:yellow;">data-format</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">suggest</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">YAML</span> </p>
<p><span style="background-color:yellow;">The</span> <span style="background-color:yellow;">format</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">human-readable</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">example</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>List of things:
    - Alice
    - Bob
    - Evan
</code></pre>
<p><span style="background-color:yellow;">You</span> <span style="background-color:yellow;">load</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>>>> import yaml
>>> file = open('test.yaml', 'r')
>>> list = yaml.load(file)
</code></pre>
<p><span style="background-color:yellow;">And</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">look</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>{'List of things': ['Alice', 'Bob', 'Evan']}
</code></pre>
<p><span style="background-color:yellow;">Of</span> <span style="background-color:yellow;">course</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">reverse</span> <span style="background-color:yellow;">too</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">save</span> <span style="background-color:yellow;">data</span> <span style="background-color:yellow;">into</span> <span style="background-color:yellow;">YAML</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">docs</span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">help</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">that</span> . </p>
<p><span style="background-color:yellow;">At</span> <span style="background-color:yellow;">least</span> <span style="background-color:yellow;">another</span> <span style="background-color:yellow;">alternative</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">consider</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;"></span> </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">5</span> </b><br /><p><span style="background-color:yellow;">You</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">also</span> <span style="background-color:yellow;">keep</span> <span style="background-color:yellow;">simple</span> <span style="background-color:yellow;">data</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">plain</span> <span style="background-color:yellow;">text</span> <span style="background-color:yellow;">file.</span> <span style="background-color:yellow;">Then</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">much</span> <span style="background-color:yellow;">support</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">however</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">check</span> <span style="background-color:yellow;">consistency</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">data</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">double</span> <span style="background-color:yellow;">values</span> <span style="background-color:yellow;">etc</span> . </p>
<p><span style="background-color:yellow;">Here</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">my</span> <span style="background-color:yellow;">simple</span> <span style="background-color:yellow;">'card</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">'</span> <span style="background-color:yellow;">type</span> <span style="background-color:yellow;">data</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">text</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">snippet</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">namedtuple</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">access</span> <span style="background-color:yellow;">values</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">only</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">index</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">line</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">they</span> <span style="background-color:yellow;">header</span> <span style="background-color:yellow;">name</span> <span style="background-color:yellow;">:</span> </p>
<pre><code># text based data input with data accessible
# with named fields or indexing
from __future__ import print_function ## Python 3 style printing
from collections import namedtuple
import string

filein = open("sample.dat")

datadict = {}

headerline = filein.readline().lower() ## lowercase field names Python style
## first non-letter and non-number is taken to be the separator
separator = headerline.strip(string.lowercase + string.digits)[0]
print("Separator is '%s'" % separator)

headerline = [field.strip() for field in headerline.split(separator)]
Dataline = namedtuple('Dataline',headerline)
print ('Fields are:',Dataline._fields,'\n')

for data in filein:
    data = [f.strip() for f in data.split(separator)]
    d = Dataline(*data)
    datadict[d.id] = d ## do hash of id values for fast lookup (key field)

## examples based on sample.dat file example
key = '123'
print('Email of record with key %s by field name is: %s' %
      (key, datadict[key].email))

## by number
print('Address of record with key %s by field number is: %s' %
      (key ,datadict[key][3]))

## print the dictionary in separate lines for clarity
for key,value in  datadict.items():
    print('%s: %s' % (key, value))

input('Ready') ## let the output be seen when run directly

""" Output:
Separator is ';'
Fields are: ('id', 'name', 'email', 'homeaddress') 

Email of record with key 123 by field name is: gishi@mymail.com
Address of record with key 123 by field number is: 456 happy st.
345: Dataline(id='345', name='tony', email='tony.veijalainen@somewhere.com', homeaddress='Espoo Finland')
123: Dataline(id='123', name='gishi', email='gishi@mymail.com', homeaddress='456 happy st.')
Ready
"""
</code></pre>
<br />