<h3><span style="background-color:yellow;">Question</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">ID-949098</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><h2><span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">split</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">based</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">condition</span> ? </h2><p><span style="background-color:yellow;">What</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">best</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">both</span> <span style="background-color:yellow;">aesthetically</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">performance</span> <span style="background-color:yellow;">perspective</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">split</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">items</span> <span style="background-color:yellow;">into</span> <span style="background-color:yellow;">multiple</span> <span style="background-color:yellow;">lists</span> <span style="background-color:yellow;">based</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">conditional</span> ? <span style="background-color:yellow;">The</span> <span style="background-color:yellow;">equivalent</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>good = [x for x in mylist if x in goodvals]
bad  = [x for x in mylist if x not in goodvals]
</code></pre>
<p><span style="background-color:yellow;">is</span> <span style="background-color:yellow;">there</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">elegant</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">this</span> ? </p>
<p><span style="background-color:yellow;">Update</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">here</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">actual</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">case</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">better</span> <span style="background-color:yellow;">explain</span> <span style="background-color:yellow;">what</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'m</span> <span style="background-color:yellow;">trying</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">:</span> </p>
<pre><code># files looks like: [ ('file1.jpg', 33L, '.jpg'), ('file2.avi', 999L, '.avi'), ... ]
IMAGE_TYPES = ('.jpg','.jpeg','.gif','.bmp','.png')
images = [f for f in files if f[2].lower() in IMAGE_TYPES]
anims  = [f for f in files if f[2].lower() not in IMAGE_TYPES]
</code></pre>
<br /><h3><span style="background-color:yellow;">Answers</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">Total-13</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">0</span> </b><br /><p><span style="background-color:yellow;">Here</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">lazy</span> <span style="background-color:yellow;">iterator</span> <span style="background-color:yellow;">approach</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>from itertools import tee

def split_on_condition(seq, condition):
    l1,l2 = tee((condition(item),item) for item in seq)
    return (i for p, i in l1 if p), (i for p, i in l2 if not p)
</code></pre>
<p><span style="background-color:yellow;">It</span> <span style="background-color:yellow;">evaluates</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">condition</span> <span style="background-color:yellow;">once</span> <span style="background-color:yellow;">per</span> <span style="background-color:yellow;">item</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">returns</span> <span style="background-color:yellow;">two</span> <span style="background-color:yellow;">generators</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">first</span> <span style="background-color:yellow;">yielding</span> <span style="background-color:yellow;">values</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">sequence</span> <span style="background-color:yellow;">where</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">condition</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">true</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">other</span> <span style="background-color:yellow;">where</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">false</span> . </p>
<p><span style="background-color:yellow;">Because</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">lazy</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">any</span> <span style="background-color:yellow;">iterator</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">even</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">infinite</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>from itertools import count, islice

def is_prime(n):
    return n > 1 and all(n % i for i in xrange(2,n))

primes, not_primes = split_on_condition(count(), is_prime)
print("First 10 primes", list(islice(primes, 10)))
print("First 10 non-primes", list(islice(not_primes, 10)))
</code></pre>
<p><span style="background-color:yellow;">Usually</span> <span style="background-color:yellow;">though</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">non-lazy</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">returning</span> <span style="background-color:yellow;">approach</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">better</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>def split_on_condition(seq, condition):
    a, b = [], []
    for item in seq:
        (a if condition(item) else b).append(item)
    return a,b
</code></pre>
<p><span style="background-color:yellow;">Edit</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">For</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">specific</span> <span style="background-color:yellow;">usecase</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">splitting</span> <span style="background-color:yellow;">items</span> <span style="background-color:yellow;">into</span> <span style="background-color:yellow;">different</span> <span style="background-color:yellow;">lists</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">some</span> <span style="background-color:yellow;">key</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">heres</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">generic</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">does</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>DROP_VALUE = lambda _:_
def split_by_key(seq, resultmapping, keyfunc, default=DROP_VALUE):
    """Split a sequence into lists based on a key function.

        seq - input sequence
        resultmapping - a dictionary that maps from target lists to keys that go to that list
        keyfunc - function to calculate the key of an input value
        default - the target where items that don't have a corresponding key go, by default they are dropped
    """
    result_lists = dict((key, []) for key in resultmapping)
    appenders = dict((key, result_lists[target].append) for target, keys in resultmapping.items() for key in keys)

    if default is not DROP_VALUE:
        result_lists.setdefault(default, [])
        default_action = result_lists[default].append
    else:
        default_action = DROP_VALUE

    for item in seq:
        appenders.get(keyfunc(item), default_action)(item)

    return result_lists
</code></pre>
<p><span style="background-color:yellow;">Usage</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>def file_extension(f):
    return f[2].lower()

split_files = split_by_key(files, {'images': IMAGE_TYPES}, keyfunc=file_extension, default='anims')
print split_files['images']
print split_files['anims']
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">1</span> </b><br /><blockquote><span style="background-color:yellow;">good</span> <span style="background-color:yellow;">=</span> <span style="background-color:yellow;">[</span> <span style="background-color:yellow;">x</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">x</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">mylist</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">x</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">goodvals</span> <span style="background-color:yellow;">]</span> <span style="background-color:yellow;">bad</span> <span style="background-color:yellow;">=</span> <span style="background-color:yellow;">[</span> <span style="background-color:yellow;">x</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">x</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">mylist</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">x</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">goodvals</span> <span style="background-color:yellow;">]</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">there</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">elegant</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">this</span> ? </blockquote>
<p><span style="background-color:yellow;">That</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">perfectly</span> <span style="background-color:yellow;">readable</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">extremely</span> <span style="background-color:yellow;">clear</span> <span style="background-color:yellow;">!</span> </p>
<pre><code># files looks like: [ ('file1.jpg', 33L, '.jpg'), ('file2.avi', 999L, '.avi'), ... ]
IMAGE_TYPES = ('.jpg','.jpeg','.gif','.bmp','.png')
images = [f for f in files if f[2].lower() in IMAGE_TYPES]
anims  = [f for f in files if f[2].lower() not in IMAGE_TYPES]
</code></pre>
<p><span style="background-color:yellow;">Again</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">fine</span> <span style="background-color:yellow;">!</span> </p>
<p><span style="background-color:yellow;">There</span> <span style="background-color:yellow;">might</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">slight</span> <span style="background-color:yellow;">performance</span> <span style="background-color:yellow;">improvements</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">sets</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">trivial</span> <span style="background-color:yellow;">difference</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">find</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">comprehension</span> <span style="background-color:yellow;">far</span> <span style="background-color:yellow;">easier</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">read</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">worry</span> <span style="background-color:yellow;">about</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">order</span> <span style="background-color:yellow;">being</span> <span style="background-color:yellow;">messed</span> <span style="background-color:yellow;">up</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">duplicates</span> <span style="background-color:yellow;">being</span> <span style="background-color:yellow;">removed</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">on</span> . </p>
<p><span style="background-color:yellow;">In</span> <span style="background-color:yellow;">fact</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">may</span> <span style="background-color:yellow;">go</span> <span style="background-color:yellow;">another</span> <span style="background-color:yellow;">step</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">backward</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">just</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">simple</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">loop</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>images, anims = [], []

for f in files:
    if f.lower() in IMAGE_TYPES:
        images.append(f)
    else:
        anims.append(f)
</code></pre>
<p><span style="background-color:yellow;">The</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">list-comprehension</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">set</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">fine</span> <span style="background-color:yellow;">until</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">need</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">add</span> <span style="background-color:yellow;">some</span> <span style="background-color:yellow;">other</span> <span style="background-color:yellow;">check</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">another</span> <span style="background-color:yellow;">bit</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">logic</span> <span style="background-color:yellow;">-</span> <span style="background-color:yellow;">say</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">want</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">remove</span> <span style="background-color:yellow;">all</span> <span style="background-color:yellow;">0-byte</span> <span style="background-color:yellow;">jpeg</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">just</span> <span style="background-color:yellow;">add</span> <span style="background-color:yellow;">something</span> <span style="background-color:yellow;">like.</span> . </p>
<pre><code>if f[1] == 0:
    continue
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">2</span> </b><br /><p><span style="background-color:yellow;">First</span> <span style="background-color:yellow;">go</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">pre-OP-edit</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">Use</span> <span style="background-color:yellow;">sets</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>mylist = [1,2,3,4,5,6,7]
goodvals = [1,3,7,8,9]

myset = set(mylist)
goodset = set(goodvals)

print list(myset.intersection(goodset))  # [1, 3, 7]
print list(myset.difference(goodset))    # [2, 4, 5, 6]
</code></pre>
<p><span style="background-color:yellow;">That</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">good</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">both</span> <span style="background-color:yellow;">readability</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">IMHO</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">performance</span> . </p>
<p><span style="background-color:yellow;">Second</span> <span style="background-color:yellow;">go</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">post-OP-edit</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </p>
<p><span style="background-color:yellow;">Create</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">good</span> <span style="background-color:yellow;">extensions</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">set</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>IMAGE_TYPES = set(['.jpg','.jpeg','.gif','.bmp','.png'])
</code></pre>
<p><span style="background-color:yellow;">and</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">increase</span> <span style="background-color:yellow;">performance.</span> <span style="background-color:yellow;">Otherwise</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">what</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">looks</span> <span style="background-color:yellow;">fine</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">me</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">3</span> </b><br /><p><span style="background-color:yellow;">Problem</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">all</span> <span style="background-color:yellow;">proposed</span> <span style="background-color:yellow;">solutions</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">scan</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">apply</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">filtering</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">twice.</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'d</span> <span style="background-color:yellow;">make</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">simple</span> <span style="background-color:yellow;">small</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>def SplitIntoTwoLists(l, f):
  a = []
  b = []
  for i in l:
    if f(i):
      a.append(i)
    else:
      b.append(i)
 return (a,b)
</code></pre>
<p><span style="background-color:yellow;">That</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">processing</span> <span style="background-color:yellow;">anything</span> <span style="background-color:yellow;">twice</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">also</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">repeating</span> <span style="background-color:yellow;">code</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">4</span> </b><br /><p><span style="background-color:yellow;">Personally</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">version</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">cited</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">assuming</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">already</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">goodvals</span> <span style="background-color:yellow;">hanging</span> <span style="background-color:yellow;">around.</span> <span style="background-color:yellow;">If</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">something</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>good = filter(lambda x: is_good(x), mylist)
bad = filter(lambda x: !is_good(x), mylist)
</code></pre>
<p><span style="background-color:yellow;">Of</span> <span style="background-color:yellow;">course</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">really</span> <span style="background-color:yellow;">very</span> <span style="background-color:yellow;">similar</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">comprehension</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">originally</span> <span style="background-color:yellow;">did</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">instead</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">lookup</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>good = [x for x in mylist if is_good(x)]
bad  = [x for x in mylist if !is_good(x)]
</code></pre>
<p><span style="background-color:yellow;">In</span> <span style="background-color:yellow;">general</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">find</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">aesthetics</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">comprehensions</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">very</span> <span style="background-color:yellow;">pleasing.</span> <span style="background-color:yellow;">Of</span> <span style="background-color:yellow;">course</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">actually</span> <span style="background-color:yellow;">need</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">preserve</span> <span style="background-color:yellow;">ordering</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">need</span> <span style="background-color:yellow;">duplicates</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">intersection</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">difference</span> <span style="background-color:yellow;">methods</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">sets</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">work</span> <span style="background-color:yellow;">well</span> <span style="background-color:yellow;">too</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">5</span> </b><br /><p><span style="background-color:yellow;">itertools.groupby</span> <span style="background-color:yellow;">almost</span> <span style="background-color:yellow;">does</span> <span style="background-color:yellow;">what</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">want</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">except</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">requires</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">items</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">sorted</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">ensure</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">get</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">single</span> <span style="background-color:yellow;">contiguous</span> <span style="background-color:yellow;">range</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">need</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">sort</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">key</span> <span style="background-color:yellow;">first</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">otherwise</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">'ll</span> <span style="background-color:yellow;">get</span> <span style="background-color:yellow;">multiple</span> <span style="background-color:yellow;">interleaved</span> <span style="background-color:yellow;">groups</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">each</span> <span style="background-color:yellow;">type</span> <span style="background-color:yellow;"></span> . <span style="background-color:yellow;">eg</span> . </p>
<pre><code>def is_good(f):
    return f[2].lower() in IMAGE_TYPES

files = [ ('file1.jpg', 33L, '.jpg'), ('file2.avi', 999L, '.avi'), ('file3.gif', 123L, '.gif')]

for key, group in itertools.groupby(sorted(files, key=is_good), key=is_good):
    print key, list(group)
</code></pre>
<p><span style="background-color:yellow;">gives</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>False [('file2.avi', 999L, '.avi')]
True [('file1.jpg', 33L, '.jpg'), ('file3.gif', 123L, '.gif')]
</code></pre>
<p><span style="background-color:yellow;">Similar</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">other</span> <span style="background-color:yellow;">solutions</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">key</span> <span style="background-color:yellow;">func</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">defined</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">divide</span> <span style="background-color:yellow;">into</span> <span style="background-color:yellow;">any</span> <span style="background-color:yellow;">number</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">groups</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">want</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">6</span> </b><br /><p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">agree</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">RIchieHindle.</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">also</span> <span style="background-color:yellow;">check</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">link</span> <span style="background-color:yellow;">http</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">//house.hcn-strela.ru/doc/python/lib/types-set.html</span> </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">7</span> </b><br /><p><span style="background-color:yellow;">For</span> <span style="background-color:yellow;">perfomance</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">try</span> <span style="background-color:yellow;">itertools</span> . </p>
<blockquote>
<p>The <a href="http://docs.python.org/library/itertools.html" rel="nofollow">itertools</a> module standardizes a core set of fast, memory efficient tools that are useful by themselves or in combination. Together, they form an “iterator algebra” making it possible to construct specialized tools succinctly and efficiently in pure Python.</p>
</blockquote>
<p><span style="background-color:yellow;">See</span> <span style="background-color:yellow;">itertools.ifilter</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">imap</span> . </p>
<blockquote><span style="background-color:yellow;">itertools.ifilter</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">predicate</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">iterable</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">Make</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">iterator</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">filters</span> <span style="background-color:yellow;">elements</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">iterable</span> <span style="background-color:yellow;">returning</span> <span style="background-color:yellow;">only</span> <span style="background-color:yellow;">those</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">which</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">predicate</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">True</span> </blockquote>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">8</span> </b><br /><p><span style="background-color:yellow;">If</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">want</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">make</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">FP</span> <span style="background-color:yellow;">style</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>good, bad = [ sum(x, []) for x in zip(*(([y], []) if y in goodvals else ([], [y])
                                        for y in mylist)) ]
</code></pre>
<p><span style="background-color:yellow;">Not</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">most</span> <span style="background-color:yellow;">readable</span> <span style="background-color:yellow;">solution</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">least</span> <span style="background-color:yellow;">iterates</span> <span style="background-color:yellow;">through</span> <span style="background-color:yellow;">mylist</span> <span style="background-color:yellow;">only</span> <span style="background-color:yellow;">once</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">9</span> </b><br /><p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">basically</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">Anders</span> <span style="background-color:yellow;">'</span> <span style="background-color:yellow;">approach</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">very</span> <span style="background-color:yellow;">general.</span> <span style="background-color:yellow;">Here</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">version</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">puts</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">categorizer</span> <span style="background-color:yellow;">first</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">match</span> <span style="background-color:yellow;">filter</span> <span style="background-color:yellow;">syntax</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">uses</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">defaultdict</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">assumed</span> <span style="background-color:yellow;">imported</span> <span style="background-color:yellow;"></span> . </p>
<pre><code>def categorize(func, seq):
    """Return mapping from categories to lists
    of categorized items.
    """
    d = defaultdict(list)
    for item in seq:
        d[func(item)].append(item)
    return d
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">10</span> </b><br /><p><span style="background-color:yellow;">If</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">insist</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">clever</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">could</span> <span style="background-color:yellow;">take</span> <span style="background-color:yellow;">Winden</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">solution</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">just</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">bit</span> <span style="background-color:yellow;">spurious</span> <span style="background-color:yellow;">cleverness</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>def splay(l, f, d=None):
  d = d or {}
  for x in l: d.setdefault(f(x), []).append(x)
  return d
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">11</span> </b><br /><p><span style="background-color:yellow;">Sometimes</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">wo</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">need</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">other</span> <span style="background-color:yellow;">half</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">list</span> . <span style="background-color:yellow;">For</span> <span style="background-color:yellow;">example</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>import sys
from itertools import ifilter

trustedPeople = sys.argv[1].split(',')
newName = sys.argv[2]

myFriends = ifilter(lambda x: x.startswith('Shi'), trustedPeople)

print '%s is %smy friend.' % (newName, newName not in myFriends 'not ' or '')
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">12</span> </b><br /><p><span style="background-color:yellow;">My</span> <span style="background-color:yellow;">take</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">it.</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">propose</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">lazy</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">single-pass</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">splitBy</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">which</span> <span style="background-color:yellow;">preserves</span> <span style="background-color:yellow;">relative</span> <span style="background-color:yellow;">order</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">output</span> <span style="background-color:yellow;">subsequences</span> . </p>
<h3><span style="background-color:yellow;">Requirements</span> </h3>
<p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">assume</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">requirements</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">:</span> </p>
<ul>
<li>maintain elements' relative order (hence, no sets and dictionaries)</li>
<li>evaluate condition only once for every element (hence not using (<code>i</code>)<code>filter</code> or <code>groupby</code>)</li>
<li>allow for lazy consumption of either sequence (if we can afford to precomute them, then the naïve implementation is likely to be acceptable too)</li>
</ul>
<h3><span style="background-color:yellow;">Code</span> <span style="background-color:yellow;">explained</span> </h3>
<p><span style="background-color:yellow;">Internally</span> <span style="background-color:yellow;">we</span> <span style="background-color:yellow;">need</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">build</span> <span style="background-color:yellow;">two</span> <span style="background-color:yellow;">subsequences</span> <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">once</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">consuming</span> <span style="background-color:yellow;">only</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">output</span> <span style="background-color:yellow;">sequence</span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">force</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">other</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">computed</span> <span style="background-color:yellow;">too.</span> <span style="background-color:yellow;">And</span> <span style="background-color:yellow;">we</span> <span style="background-color:yellow;">need</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">keep</span> <span style="background-color:yellow;">state</span> <span style="background-color:yellow;">between</span> <span style="background-color:yellow;">user</span> <span style="background-color:yellow;">requests</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">store</span> <span style="background-color:yellow;">processed</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">yet</span> <span style="background-color:yellow;">requested</span> <span style="background-color:yellow;">elements</span> <span style="background-color:yellow;"></span> . <span style="background-color:yellow;">To</span> <span style="background-color:yellow;">keep</span> <span style="background-color:yellow;">state</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">two</span> <span style="background-color:yellow;">double-ended</span> <span style="background-color:yellow;">queues</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">deques</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </p>
<pre><code>from collections import deque
</code></pre>
<p><span style="background-color:yellow;">SplitSeq</span> <span style="background-color:yellow;">class</span> <span style="background-color:yellow;">takes</span> <span style="background-color:yellow;">care</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">housekeeping</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>class SplitSeq:
    def __init__(self, condition, sequence):
        self.cond = condition
        self.goods = deque([])
        self.bads = deque([])
        self.seq = iter(sequence)
</code></pre>
<p><span style="background-color:yellow;">Magic</span> <span style="background-color:yellow;">happens</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">its</span> <span style="background-color:yellow;">.getNext</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">method.</span> <span style="background-color:yellow;">It</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">almost</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">.next</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">iterators</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">allows</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">specify</span> <span style="background-color:yellow;">which</span> <span style="background-color:yellow;">kind</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">element</span> <span style="background-color:yellow;">we</span> <span style="background-color:yellow;">want</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">time.</span> <span style="background-color:yellow;">Behind</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">scene</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">does</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">discard</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">rejected</span> <span style="background-color:yellow;">elements</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">instead</span> <span style="background-color:yellow;">puts</span> <span style="background-color:yellow;">them</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">two</span> <span style="background-color:yellow;">queues</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>    def getNext(self, getGood=True):
        if getGood:
            these, those, cond = self.goods, self.bads, self.cond
        else:
            these, those, cond = self.bads, self.goods, lambda x: not self.cond(x)
        if these:
            return these.popleft()
        else:
            while 1: # exit on StopIteration
                n = self.seq.next()
                if cond(n):
                    return n
                else:
                    those.append(n)
</code></pre>
<p><span style="background-color:yellow;">The</span> <span style="background-color:yellow;">end</span> <span style="background-color:yellow;">user</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">supposed</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">splitBy</span> <span style="background-color:yellow;">function.</span> <span style="background-color:yellow;">It</span> <span style="background-color:yellow;">takes</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">condition</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">sequence</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">just</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">map</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">filter</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">returns</span> <span style="background-color:yellow;">two</span> <span style="background-color:yellow;">generators.</span> <span style="background-color:yellow;">The</span> <span style="background-color:yellow;">first</span> <span style="background-color:yellow;">generator</span> <span style="background-color:yellow;">builds</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">subsequence</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">elements</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">which</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">condition</span> <span style="background-color:yellow;">holds</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">second</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">builds</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">complementary</span> <span style="background-color:yellow;">subsequence.</span> <span style="background-color:yellow;">Iterators</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">generators</span> <span style="background-color:yellow;">allow</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">lazy</span> <span style="background-color:yellow;">splitting</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">even</span> <span style="background-color:yellow;">long</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">infinite</span> <span style="background-color:yellow;">sequences</span> . </p>
<pre><code>def splitBy(condition, sequence):
    cond = condition if condition else bool  # evaluate as bool if condition == None
    ss = SplitSeq(cond, sequence)
    def goods():
        while 1:
            yield ss.getNext(getGood=True)
    def bads():
        while 1:
            yield ss.getNext(getGood=False)
    return goods(), bads()
</code></pre>
<p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">choose</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">test</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">first</span> <span style="background-color:yellow;">argument</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">facilitate</span> <span style="background-color:yellow;">partial</span> <span style="background-color:yellow;">application</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">future</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">similar</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">how</span> <span style="background-color:yellow;">map</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">filter</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">test</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">first</span> <span style="background-color:yellow;">argument</span> <span style="background-color:yellow;"></span> . </p>
<h3><span style="background-color:yellow;">Complete</span> <span style="background-color:yellow;">source</span> </h3>
<p><span style="background-color:yellow;">The</span> <span style="background-color:yellow;">complete</span> <span style="background-color:yellow;">source</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">comments</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">documentations</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">available</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">bitbucket</span> . <span style="background-color:yellow;">Download</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">:</span> </p>
<ul><span style="background-color:yellow;">splitBy.py</span> </ul>
<h3><span style="background-color:yellow;">Example</span> </h3>
<p><span style="background-color:yellow;">In</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">case</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">let</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">input</span> <span style="background-color:yellow;">data</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>>>> IMAGE_TYPES = ('.jpg','.jpeg','.gif','.bmp','.png')
>>> files = [ ('file1.jpg', 33L, '.jpg'),
              ('file2.avi', 999L, '.avi'),
              ('file3.png', 48L, '.png') ]
</code></pre>
<p><span style="background-color:yellow;">Then</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">separate</span> <span style="background-color:yellow;">animations</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">images</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">we</span> <span style="background-color:yellow;">create</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">condition</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">call</span> <span style="background-color:yellow;">splitBy</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>>>> def isAnim(f): return (f[2].lower() not in IMAGE_TYPES)
>>> anims, images = splitBy(isAnim, files)
>>> list(anims)
[('file2.avi', 999L, '.avi')]
>>> list(images)
[('file1.jpg', 33L, '.jpg'), ('file3.png', 48L, '.png')]
</code></pre>
<p><span style="background-color:yellow;">To</span> <span style="background-color:yellow;">consume</span> <span style="background-color:yellow;">elements</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">.next</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">method</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">returned</span> <span style="background-color:yellow;">generators</span> . </p>
<br />