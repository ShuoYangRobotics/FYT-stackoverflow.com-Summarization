<h3><span style="background-color:yellow;">Question</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">ID-1995418</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><h2><span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">generator</span> <span style="background-color:yellow;">expression</span> <span style="background-color:yellow;">vs.</span> <span style="background-color:yellow;">yield</span> </h2><p><span style="background-color:yellow;">In</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">there</span> <span style="background-color:yellow;">any</span> <span style="background-color:yellow;">difference</span> <span style="background-color:yellow;">between</span> <span style="background-color:yellow;">creating</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">generator</span> <span style="background-color:yellow;">object</span> <span style="background-color:yellow;">through</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">generator</span> <span style="background-color:yellow;">expression</span> <span style="background-color:yellow;">versus</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">yield</span> <span style="background-color:yellow;">statement</span> ? </p>
<p><span style="background-color:yellow;">Using</span> <span style="background-color:yellow;">yield</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>def Generator(x, y):
    for i in xrange(x):
        for j in xrange(y):
            yield(i, j)
</code></pre>
<p><span style="background-color:yellow;">Using</span> <span style="background-color:yellow;">generator</span> <span style="background-color:yellow;">expression</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>def Generator(x, y):
    return ((i, j) for i in xrange(x) for j in xrange(y))
</code></pre>
<p><span style="background-color:yellow;">Both</span> <span style="background-color:yellow;">functions</span> <span style="background-color:yellow;">return</span> <span style="background-color:yellow;">generator</span> <span style="background-color:yellow;">objects</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">which</span> <span style="background-color:yellow;">produce</span> <span style="background-color:yellow;">tuples</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">e.g.</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">0,0</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">0,1</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">etc</span> . </p>
<p><span style="background-color:yellow;">Any</span> <span style="background-color:yellow;">advantages</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">other</span> ? <span style="background-color:yellow;">Thoughts</span> ? </p>
<hr />
<p><span style="background-color:yellow;">Thanks</span> <span style="background-color:yellow;">everybody</span> <span style="background-color:yellow;">!</span> <span style="background-color:yellow;">There</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">lot</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">great</span> <span style="background-color:yellow;">information</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">further</span> <span style="background-color:yellow;">references</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">these</span> <span style="background-color:yellow;">answers</span> <span style="background-color:yellow;">!</span> </p>
<br /><h3><span style="background-color:yellow;">Answers</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">Total-8</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">0</span> </b><br /><p><span style="background-color:yellow;">There</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">only</span> <span style="background-color:yellow;">slight</span> <span style="background-color:yellow;">differences</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">two.</span> <span style="background-color:yellow;">You</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">dis</span> <span style="background-color:yellow;">module</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">examine</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">sort</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">thing</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">yourself</span> . </p>
<p><span style="background-color:yellow;">Edit</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">My</span> <span style="background-color:yellow;">first</span> <span style="background-color:yellow;">version</span> <span style="background-color:yellow;">decompiled</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">generator</span> <span style="background-color:yellow;">expression</span> <span style="background-color:yellow;">created</span> <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">module-scope</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">interactive</span> <span style="background-color:yellow;">prompt.</span> <span style="background-color:yellow;">That</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">slightly</span> <span style="background-color:yellow;">different</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">OP</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">version</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">used</span> <span style="background-color:yellow;">inside</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">function.</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'ve</span> <span style="background-color:yellow;">modified</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">match</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">actual</span> <span style="background-color:yellow;">case</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">question</span> . </p>
<p><span style="background-color:yellow;">As</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">see</span> <span style="background-color:yellow;">below</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">yield</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">generator</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">first</span> <span style="background-color:yellow;">case</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">has</span> <span style="background-color:yellow;">three</span> <span style="background-color:yellow;">extra</span> <span style="background-color:yellow;">instructions</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">setup</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">first</span> <span style="background-color:yellow;">FOR_ITER</span> <span style="background-color:yellow;">they</span> <span style="background-color:yellow;">differ</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">only</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">respect</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">yield</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">approach</span> <span style="background-color:yellow;">uses</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">LOAD_FAST</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">place</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">LOAD_DEREF</span> <span style="background-color:yellow;">inside</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">loop.</span> <span style="background-color:yellow;">The</span> <span style="background-color:yellow;">LOAD_DEREF</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">rather</span> <span style="background-color:yellow;">slower</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">LOAD_FAST</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">makes</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">yield</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">version</span> <span style="background-color:yellow;">slightly</span> <span style="background-color:yellow;">faster</span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">generator</span> <span style="background-color:yellow;">expression</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">large</span> <span style="background-color:yellow;">enough</span> <span style="background-color:yellow;">values</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">x</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">outer</span> <span style="background-color:yellow;">loop</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">because</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">value</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">y</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">loaded</span> <span style="background-color:yellow;">slightly</span> <span style="background-color:yellow;">faster</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">each</span> <span style="background-color:yellow;">pass.</span> <span style="background-color:yellow;">For</span> <span style="background-color:yellow;">smaller</span> <span style="background-color:yellow;">values</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">x</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">slightly</span> <span style="background-color:yellow;">slower</span> <span style="background-color:yellow;">because</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">extra</span> <span style="background-color:yellow;">overhead</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">setup</span> <span style="background-color:yellow;">code</span> . </p>
<p><span style="background-color:yellow;">It</span> <span style="background-color:yellow;">might</span> <span style="background-color:yellow;">also</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">worth</span> <span style="background-color:yellow;">pointing</span> <span style="background-color:yellow;">out</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">generator</span> <span style="background-color:yellow;">expression</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">usually</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">used</span> <span style="background-color:yellow;">inline</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">rather</span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">wrapping</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">that.</span> <span style="background-color:yellow;">That</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">remove</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">bit</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">setup</span> <span style="background-color:yellow;">overhead</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">keep</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">generator</span> <span style="background-color:yellow;">expression</span> <span style="background-color:yellow;">slightly</span> <span style="background-color:yellow;">faster</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">smaller</span> <span style="background-color:yellow;">loop</span> <span style="background-color:yellow;">values</span> <span style="background-color:yellow;">even</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">LOAD_FAST</span> <span style="background-color:yellow;">gave</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">yield</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">version</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">advantage</span> <span style="background-color:yellow;">otherwise</span> . </p>
<p><span style="background-color:yellow;">In</span> <span style="background-color:yellow;">neither</span> <span style="background-color:yellow;">case</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">performance</span> <span style="background-color:yellow;">difference</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">enough</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">justify</span> <span style="background-color:yellow;">deciding</span> <span style="background-color:yellow;">between</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">other.</span> <span style="background-color:yellow;">Readability</span> <span style="background-color:yellow;">counts</span> <span style="background-color:yellow;">far</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">whichever</span> <span style="background-color:yellow;">feels</span> <span style="background-color:yellow;">most</span> <span style="background-color:yellow;">readable</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">situation</span> <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">hand</span> . </p>
<pre><code>>>> def Generator(x, y):
...     for i in xrange(x):
...         for j in xrange(y):
...             yield(i, j)
...
>>> dis.dis(Generator)
  2           0 SETUP_LOOP              54 (to 57)
              3 LOAD_GLOBAL              0 (xrange)
              6 LOAD_FAST                0 (x)
              9 CALL_FUNCTION            1
             12 GET_ITER
        >>   13 FOR_ITER                40 (to 56)
             16 STORE_FAST               2 (i)

  3          19 SETUP_LOOP              31 (to 53)
             22 LOAD_GLOBAL              0 (xrange)
             25 LOAD_FAST                1 (y)
             28 CALL_FUNCTION            1
             31 GET_ITER
        >>   32 FOR_ITER                17 (to 52)
             35 STORE_FAST               3 (j)

  4          38 LOAD_FAST                2 (i)
             41 LOAD_FAST                3 (j)
             44 BUILD_TUPLE              2
             47 YIELD_VALUE
             48 POP_TOP
             49 JUMP_ABSOLUTE           32
        >>   52 POP_BLOCK
        >>   53 JUMP_ABSOLUTE           13
        >>   56 POP_BLOCK
        >>   57 LOAD_CONST               0 (None)
             60 RETURN_VALUE
>>> def Generator_expr(x, y):
...    return ((i, j) for i in xrange(x) for j in xrange(y))
...
>>> dis.dis(Generator_expr.func_code.co_consts[1])
  2           0 SETUP_LOOP              47 (to 50)
              3 LOAD_FAST                0 (.0)
        >>    6 FOR_ITER                40 (to 49)
              9 STORE_FAST               1 (i)
             12 SETUP_LOOP              31 (to 46)
             15 LOAD_GLOBAL              0 (xrange)
             18 LOAD_DEREF               0 (y)
             21 CALL_FUNCTION            1
             24 GET_ITER
        >>   25 FOR_ITER                17 (to 45)
             28 STORE_FAST               2 (j)
             31 LOAD_FAST                1 (i)
             34 LOAD_FAST                2 (j)
             37 BUILD_TUPLE              2
             40 YIELD_VALUE
             41 POP_TOP
             42 JUMP_ABSOLUTE           25
        >>   45 POP_BLOCK
        >>   46 JUMP_ABSOLUTE            6
        >>   49 POP_BLOCK
        >>   50 LOAD_CONST               0 (None)
             53 RETURN_VALUE
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">1</span> </b><br /><p><span style="background-color:yellow;">In</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">example</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">really.</span> <span style="background-color:yellow;">But</span> <span style="background-color:yellow;">yield</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">used</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">complex</span> <span style="background-color:yellow;">constructs</span> <span style="background-color:yellow;">-</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">example</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">accept</span> <span style="background-color:yellow;">values</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">caller</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">well</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">modify</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">flow</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">result.</span> <span style="background-color:yellow;">Read</span> <span style="background-color:yellow;">PEP</span> <span style="background-color:yellow;">342</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">details</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">interesting</span> <span style="background-color:yellow;">technique</span> <span style="background-color:yellow;">worth</span> <span style="background-color:yellow;">knowing</span> <span style="background-color:yellow;"></span> . </p>
<p><span style="background-color:yellow;">Anyway</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">best</span> <span style="background-color:yellow;">advice</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">whatever</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">clearer</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">needs</span> . </p>
<p><span style="background-color:yellow;">P.S.</span> <span style="background-color:yellow;">Here</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">simple</span> <span style="background-color:yellow;">coroutine</span> <span style="background-color:yellow;">example</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">Dave</span> <span style="background-color:yellow;">Beazley</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>def grep(pattern):
    print "Looking for %s" % pattern
    while True:
        line = (yield)
        if pattern in line:
            print line,

# Example use
if __name__ == '__main__':
    g = grep("python")
    g.next()
    g.send("Yeah, but no, but yeah, but no")
    g.send("A series of tubes")
    g.send("python generators rock!")
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">2</span> </b><br /><p><span style="background-color:yellow;">There</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">no</span> <span style="background-color:yellow;">difference</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">kind</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">simple</span> <span style="background-color:yellow;">loops</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">fit</span> <span style="background-color:yellow;">into</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">generator</span> <span style="background-color:yellow;">expression.</span> <span style="background-color:yellow;">However</span> <span style="background-color:yellow;">yield</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">used</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">create</span> <span style="background-color:yellow;">generators</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">much</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">complex</span> <span style="background-color:yellow;">processing.</span> <span style="background-color:yellow;">Here</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">simple</span> <span style="background-color:yellow;">example</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">generating</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">fibonacci</span> <span style="background-color:yellow;">sequence</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>>>> def fibgen():
...    a = b = 1
...    while 1:
...        yield a
...        a, b = b, a+b

>>> list(itertools.takewhile((lambda x: x<100), fibgen()))
[1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89]
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">3</span> </b><br /><p><span style="background-color:yellow;">Using</span> <span style="background-color:yellow;">yield</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">nice</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">expression</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">complicated</span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">just</span> <span style="background-color:yellow;">nested</span> <span style="background-color:yellow;">loops.</span> <span style="background-color:yellow;">Among</span> <span style="background-color:yellow;">other</span> <span style="background-color:yellow;">things</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">return</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">special</span> <span style="background-color:yellow;">first</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">special</span> <span style="background-color:yellow;">last</span> <span style="background-color:yellow;">value.</span> <span style="background-color:yellow;">Consider</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>def Generator(x):
  for i in xrange(x):
    yield(i)
  yield(None)
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">4</span> </b><br /><p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">generator</span> <span style="background-color:yellow;">expression</span> <span style="background-color:yellow;">when</span> <span style="background-color:yellow;">possible</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">since</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">syntax</span> <span style="background-color:yellow;">readable</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">short</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">sweet</span> . </p>
<p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">define</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">generator</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">yield</span> <span style="background-color:yellow;">statement</span> <span style="background-color:yellow;">when</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">need</span> <span style="background-color:yellow;">something</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">complicated.</span> <span style="background-color:yellow;">For</span> <span style="background-color:yellow;">example,</span> </p>
<pre><code>def Generator(x, y):
    for i in xrange(x):
        for j in xrange(y):
            yield i+j
            yield i-j
</code></pre>
<p><span style="background-color:yellow;">Here</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">generator</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">yields</span> <span style="background-color:yellow;">different</span> <span style="background-color:yellow;">things</span> <span style="background-color:yellow;">every</span> <span style="background-color:yellow;">time</span> <span style="background-color:yellow;">next</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">called</span> . <span style="background-color:yellow;">You</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">complicated</span> <span style="background-color:yellow;">things</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">yield</span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">generator</span> <span style="background-color:yellow;">expressions</span> . </p>
<p><span style="background-color:yellow;"></span> <span style="background-color:yellow;">Note</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">generator</span> <span style="background-color:yellow;">comprehensions</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">called</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">generator</span> <span style="background-color:yellow;">expressions</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">docs.</span> <span style="background-color:yellow;">http</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">//docs.python.org/reference/expressions.html</span> ? <span style="background-color:yellow;">highlight</span> <span style="background-color:yellow;">=</span> <span style="background-color:yellow;">generator</span> <span style="background-color:yellow;">#</span> <span style="background-color:yellow;">generator.next</span> <span style="background-color:yellow;"></span> </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">5</span> </b><br /><p><span style="background-color:yellow;">When</span> <span style="background-color:yellow;">thinking</span> <span style="background-color:yellow;">about</span> <span style="background-color:yellow;">iterators</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">itertools</span> <span style="background-color:yellow;">module</span> <span style="background-color:yellow;">:</span> </p>
<blockquote>
<p>... standardizes a core set of fast, memory efficient tools that are useful by themselves or in combination. Together, they form an â€œiterator algebraâ€? making it possible to construct specialized tools succinctly and efficiently in pure Python.</p>
</blockquote>
<p><span style="background-color:yellow;">For</span> <span style="background-color:yellow;">performance</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">consider</span> <span style="background-color:yellow;">itertools.product</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">*</span> <span style="background-color:yellow;">iterables</span> <span style="background-color:yellow;">[</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">repeat</span> <span style="background-color:yellow;">]</span> <span style="background-color:yellow;"></span> </p>
<blockquote><span style="background-color:yellow;">Cartesian</span> <span style="background-color:yellow;">product</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">input</span> <span style="background-color:yellow;">iterables</span> . <span style="background-color:yellow;">Equivalent</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">nested</span> <span style="background-color:yellow;">for-loops</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">generator</span> <span style="background-color:yellow;">expression.</span> <span style="background-color:yellow;">For</span> <span style="background-color:yellow;">example</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">product</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">A</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">B</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">returns</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">same</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">x,y</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">x</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">A</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">y</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">B</span> <span style="background-color:yellow;"></span> . </blockquote>
<pre><code>>>> import itertools
>>> def gen(x,y):
...     return itertools.product(xrange(x),xrange(y))
... 
>>> [t for t in gen(3,2)]
[(0, 0), (0, 1), (1, 0), (1, 1), (2, 0), (2, 1)]
>>> 
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">6</span> </b><br /><p><span style="background-color:yellow;">Pick</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">find</span> <span style="background-color:yellow;">most</span> <span style="background-color:yellow;">readable</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">7</span> </b><br /><p><span style="background-color:yellow;">In</span> <span style="background-color:yellow;">usage</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">note</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">distinction</span> <span style="background-color:yellow;">between</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">generator</span> <span style="background-color:yellow;">object</span> <span style="background-color:yellow;">vs</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">generator</span> <span style="background-color:yellow;">function</span> . </p>
<p><span style="background-color:yellow;">A</span> <span style="background-color:yellow;">generator</span> <span style="background-color:yellow;">object</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">use-once-only</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">contrast</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">generator</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">which</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">reused</span> <span style="background-color:yellow;">each</span> <span style="background-color:yellow;">time</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">call</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">again</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">because</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">returns</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">fresh</span> <span style="background-color:yellow;">generator</span> <span style="background-color:yellow;">object</span> . </p>
<p><span style="background-color:yellow;">Generator</span> <span style="background-color:yellow;">expressions</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">practice</span> <span style="background-color:yellow;">usually</span> <span style="background-color:yellow;">used</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">raw</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">without</span> <span style="background-color:yellow;">wrapping</span> <span style="background-color:yellow;">them</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">they</span> <span style="background-color:yellow;">return</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">generator</span> <span style="background-color:yellow;">object</span> . </p>
<p><span style="background-color:yellow;">E.g.</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>def range_10_gen_func():
    x = 0
    while x < 10:
        yield x
        x = x + 1

print(list(range_10_gen_func()))
print(list(range_10_gen_func()))
print(list(range_10_gen_func()))
</code></pre>
<p><span style="background-color:yellow;">which</span> <span style="background-color:yellow;">outputs</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
</code></pre>
<p><span style="background-color:yellow;">Compare</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">slightly</span> <span style="background-color:yellow;">different</span> <span style="background-color:yellow;">usage</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>range_10_gen = range_10_gen_func()
print(list(range_10_gen))
print(list(range_10_gen))
print(list(range_10_gen))
</code></pre>
<p><span style="background-color:yellow;">which</span> <span style="background-color:yellow;">outputs</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
[]
[]
</code></pre>
<p><span style="background-color:yellow;">And</span> <span style="background-color:yellow;">compare</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">generator</span> <span style="background-color:yellow;">expression</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>range_10_gen_expr = (x for x in range(10))
print(list(range_10_gen_expr))
print(list(range_10_gen_expr))
print(list(range_10_gen_expr))
</code></pre>
<p><span style="background-color:yellow;">which</span> <span style="background-color:yellow;">also</span> <span style="background-color:yellow;">outputs</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
[]
[]
</code></pre>
<br />