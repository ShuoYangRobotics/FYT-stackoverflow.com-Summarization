<h3><span style="background-color:yellow;">Question</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">ID-1805480</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><h2><span style="background-color:yellow;">How</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">represent</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">MineSweeper</span> <span style="background-color:yellow;">grid</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">Python</span> ? </h2><p><span style="background-color:yellow;">What</span> <span style="background-color:yellow;">datastructure</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">represent</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">internal</span> <span style="background-color:yellow;">state</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">MineSweeper</span> <span style="background-color:yellow;">grid</span> ? </p>
<p><span style="background-color:yellow;">Each</span> <span style="background-color:yellow;">x,y</span> <span style="background-color:yellow;">position</span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">hold</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">numerical</span> <span style="background-color:yellow;">value</span> <span style="background-color:yellow;">which</span> <span style="background-color:yellow;">represents</span> <span style="background-color:yellow;">its</span> <span style="background-color:yellow;">current</span> <span style="background-color:yellow;">cell</span> <span style="background-color:yellow;">state</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">unexplored</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">mine</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">flag</span> <span style="background-color:yellow;">,</span> ? <span style="background-color:yellow;"></span> . </p>
<p><span style="background-color:yellow;">Should</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">nested</span> <span style="background-color:yellow;">lists</span> ? <span style="background-color:yellow;">This</span> <span style="background-color:yellow;">seems</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">closest</span> <span style="background-color:yellow;">thing</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">2D</span> <span style="background-color:yellow;">array</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">what</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">probably</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">any</span> <span style="background-color:yellow;">other</span> <span style="background-color:yellow;">language</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">2d</span> <span style="background-color:yellow;">array</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;"></span> . </p>
<p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'m</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">experienced</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">could</span> <span style="background-color:yellow;">someone</span> <span style="background-color:yellow;">give</span> <span style="background-color:yellow;">me</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">suggestion</span> ? </p>
<br /><h3><span style="background-color:yellow;">Answers</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">Total-7</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">0</span> </b><br /><p><span style="background-color:yellow;">you</span> <span style="background-color:yellow;">could</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">2</span> <span style="background-color:yellow;">dimensional</span> <span style="background-color:yellow;">array</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">holding</span> <span style="background-color:yellow;">objects</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">state</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">each</span> <span style="background-color:yellow;">field</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>class FieldState(object):
  def __init__(self):
    self.unexplored = True
    self.mine = Random()
    self.flag = Random()
    ...

for x in range(12):
  for y in range(24):
    list[x][y] = FieldState()
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">1</span> </b><br /><p><span style="background-color:yellow;">Use</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">nested</span> <span style="background-color:yellow;">list.</span> <span style="background-color:yellow;">It</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">easy</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">set</span> <span style="background-color:yellow;">up</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>field = [([None] * height) for x in range(width)]

field[x][y] = "*"
</code></pre>
<p><span style="background-color:yellow;">The</span> <span style="background-color:yellow;">clearest</span> <span style="background-color:yellow;">thing</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">probably</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">new</span> <span style="background-color:yellow;">class</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>class MineField(object):
    class _SingleField(object):
        mine = False
        flagged = False
        covered = True

    width = None
    height = None

    def __init__(self, width, height):
        super(MineField, self).__init__()
        self.width = width
        self.height = height
        self._field = [[self._SingleField() for y in range(height)]
                                            for x in range(width)]

        self.init_field(10)

    def init_field(self, minecount):
        pass

    def __getitem__(self, index):
        x, y = index
        return self._field[x][y]
</code></pre>
<p><span style="background-color:yellow;">To</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">used</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">:</span> </p>
<pre>
> m = MineField(10,10)
> m[4,9].mine
False
</pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">2</span> </b><br /><p><span style="background-color:yellow;">Just</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">throw</span> <span style="background-color:yellow;">another</span> <span style="background-color:yellow;">option</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">mix</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">could</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">dicts</span> <span style="background-color:yellow;">indexed</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">tuples</span> </p>
<pre><code>board = {}
board[1, 2] = 9
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">3</span> </b><br /><p><span style="background-color:yellow;">If</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">instance</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">Board</span> <span style="background-color:yellow;">class</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">always</span> <span style="background-color:yellow;">change</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">internal</span> <span style="background-color:yellow;">representation</span> <span style="background-color:yellow;">later</span> . </p>
<pre><code>class Board(object):
    def __init__(self, width, height):
        self.__width, self.__height = width, height
        self._board = [[FieldState() for y in xrange(height)]
                       for x in xrange(width)]
    @property
    def width(self):
        return self.__width

    def mark(self, x, y):
        self._board[x][y].mark()

    def __getitem__(self, coord):
        """
        >>> board = Board(3, 4)
        >>> field = board[1,2] # 2nd column, 3rd row
        """
        x, y = coord
        return self._board[x][y]

    ...
</code></pre>
<p><span style="background-color:yellow;">Where</span> <span style="background-color:yellow;">FieldState</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">similar</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">@</span> <span style="background-color:yellow;">zlack</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">answer</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">4</span> </b><br /><p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">think</span> <span style="background-color:yellow;">there</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">basically</span> <span style="background-color:yellow;">two</span> <span style="background-color:yellow;">layers</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">data</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">1</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">map</span> <span style="background-color:yellow;">data</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">does</span> <span style="background-color:yellow;">square</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">bomb</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">e.g</span> <span style="background-color:yellow;">represented</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">-1</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">how</span> <span style="background-color:yellow;">many</span> <span style="background-color:yellow;">bombs</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">around</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">2</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">display</span> <span style="background-color:yellow;">data</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">what</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">shown</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">square</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">bomb</span> <span style="background-color:yellow;">count</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">bomb</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">flag</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">question</span> <span style="background-color:yellow;">mark</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">empty</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">unopened</span> . </p>
<p><span style="background-color:yellow;">So</span> <span style="background-color:yellow;">two</span> <span style="background-color:yellow;">nested</span> <span style="background-color:yellow;">lists</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">nested</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">tuples</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">might</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">enough</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">5</span> </b><br /><p><span style="background-color:yellow;">You</span> <span style="background-color:yellow;">could</span> <span style="background-color:yellow;">mark</span> <span style="background-color:yellow;">locations</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">single</span> <span style="background-color:yellow;">int</span> <span style="background-color:yellow;">showing</span> <span style="background-color:yellow;">exactly</span> <span style="background-color:yellow;">what</span> <span style="background-color:yellow;">sits</span> <span style="background-color:yellow;">there</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">easing</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">coding</span> <span style="background-color:yellow;">considerably.</span> <span style="background-color:yellow;">You</span> <span style="background-color:yellow;">wouldnt</span> <span style="background-color:yellow;">need</span> <span style="background-color:yellow;">two</span> <span style="background-color:yellow;">data</span> <span style="background-color:yellow;">layers</span> . </p>
<pre><code>00 nothing, noflag
10 bomb, noflag
01 nothing,flagged
11 bomb, flagged
</code></pre>
<p><span style="background-color:yellow;">Now</span> <span style="background-color:yellow;">since</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">first</span> <span style="background-color:yellow;">bit</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">int</span> <span style="background-color:yellow;">shows</span> <span style="background-color:yellow;">whether</span> <span style="background-color:yellow;">there</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">bomb</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">we</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">actually</span> <span style="background-color:yellow;">give</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">few</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">bits</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">indicate</span> <span style="background-color:yellow;">neighbour</span> <span style="background-color:yellow;">count</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">well</span> . </p>
<pre><code>000 no-neighbor
001 one neighbor
010 two...
</code></pre>
<p><span style="background-color:yellow;">and</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">on.</span> <span style="background-color:yellow;">Storing</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">only</span> <span style="background-color:yellow;">takes</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">single</span> <span style="background-color:yellow;">byte</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">even</span> <span style="background-color:yellow;">leaves</span> <span style="background-color:yellow;">room</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">expansion</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">6</span> </b><br /><p><span style="background-color:yellow;">A</span> <span style="background-color:yellow;">map</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">'tile</span> <span style="background-color:yellow;">'</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">'cell</span> <span style="background-color:yellow;">'</span> <span style="background-color:yellow;">objects</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">keyed</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">coordinates</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">pair</span> . </p>
<pre><code>current = (1,1)
if grid[current].isFlagged():
   do_whatever;
</code></pre>
<p><span style="background-color:yellow;">Of</span> <span style="background-color:yellow;">course</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">map</span> <span style="background-color:yellow;">takes</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">little</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">space</span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">array</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">tile</span> <span style="background-color:yellow;">class</span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">tiny</span> <span style="background-color:yellow;">bit</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">footprint</span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">primitive</span> <span style="background-color:yellow;">bitmap</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">number</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">assume</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">board</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">1024x1024</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">'re</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">highly</span> <span style="background-color:yellow;">constrainted</span> <span style="background-color:yellow;">RAM</span> <span style="background-color:yellow;">situation</span> . </p>
<p><span style="background-color:yellow;">If</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">look</span> <span style="background-color:yellow;">up</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">tiles</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">grid</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">then</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">consider</span> <span style="background-color:yellow;">JF</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">Board</span> <span style="background-color:yellow;">object</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">wrap</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">array</span> . </p>
<p><span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">OO</span> <span style="background-color:yellow;">language</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">often</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">simplest</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">clearest</span> <span style="background-color:yellow;">thing</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">works</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">classes</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">objects</span> <span style="background-color:yellow;">wisely</span> . </p>
<p><span style="background-color:yellow;">Note</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">might</span> <span style="background-color:yellow;">also</span> <span style="background-color:yellow;">look</span> <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">named_tuple</span> <span style="background-color:yellow;">class</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">situations</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">seem</span> <span style="background-color:yellow;">too</span> <span style="background-color:yellow;">simple</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">proper</span> <span style="background-color:yellow;">class</span> . </p>
<br />