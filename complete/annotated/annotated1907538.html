<h3><span style="background-color:yellow;">Question</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">ID-1907538</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><h2><span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">Import</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">convert</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">list</span> </h2><p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">need</span> <span style="background-color:yellow;">help</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">importing</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">converting</span> <span style="background-color:yellow;">each</span> <span style="background-color:yellow;">line</span> <span style="background-color:yellow;">into</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">list</span> . </p>
<p><span style="background-color:yellow;">An</span> <span style="background-color:yellow;">example</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">look</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>p wfgh 1111 11111 111111
287 48 0
65626 -1818 0
4654 21512 02020 0
</code></pre>
<p><span style="background-color:yellow;">The</span> <span style="background-color:yellow;">first</span> <span style="background-color:yellow;">line</span> <span style="background-color:yellow;">beginning</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">p</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">header</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">rest</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">clauses</span> . <span style="background-color:yellow;">Each</span> <span style="background-color:yellow;">clause</span> <span style="background-color:yellow;">line</span> <span style="background-color:yellow;">must</span> <span style="background-color:yellow;">begin</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">series</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">least</span> <span style="background-color:yellow;">two</span> <span style="background-color:yellow;">integers</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">finish</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">zero</span> </p>
<p><span style="background-color:yellow;">thanks</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">advance</span> </p>
<br /><h3><span style="background-color:yellow;">Answers</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">Total-8</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">0</span> </b><br /><p><span style="background-color:yellow;">The</span> <span style="background-color:yellow;">following</span> <span style="background-color:yellow;">line</span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">create</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">where</span> <span style="background-color:yellow;">each</span> <span style="background-color:yellow;">item</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">list.</span> <span style="background-color:yellow;">The</span> <span style="background-color:yellow;">inner</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">line</span> <span style="background-color:yellow;">thats</span> <span style="background-color:yellow;">split</span> <span style="background-color:yellow;">up</span> <span style="background-color:yellow;">into</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">words</span> <span style="background-color:yellow;">"</span> . </p>
<pre><code>li = [i.strip().split() for i in open("input.txt").readlines()]
</code></pre>
<p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">put</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">snippet</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">posted</span> <span style="background-color:yellow;">into</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">input.txt</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">c</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">\</span> <span style="background-color:yellow;">temp</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">ran</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">line.</span> <span style="background-color:yellow;">Is</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">output</span> <span style="background-color:yellow;">similar</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">what</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">want</span> ? </p>
<pre><code>C:\temp>python
Python 3.1.1 (r311:74483, Aug 17 2009, 17:02:12) [MSC v.1500 32 bit (Intel)] on win32
Type "help", "copyright", "credits" or "license" for more information.
>>> print([i.strip().split() for i in open("input.txt").readlines()])
[['p', 'wfgh', '1111', '11111', '111111'], ['287', '48', '0'], ['65626', '-1818', '0'], ['4654', '21512', '02020', '0']]
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">1</span> </b><br /><pre><code>fileName=open("d:/foo.bar")
lines = [i for i in fileName.readlines()]
</code></pre>
<p><span style="background-color:yellow;">hope</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">helps</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">D</span> </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">2</span> </b><br /><pre><code>p = open('filename')

#List:
linelist = [line for line in p.readlines()]

"""
But I prefer creating a dictionary as I find them more useful at times. Example here is very trivial. You can use the list index as a line number also.
"""

#Dictionary:
linedict = dict([(no, line) for no, line in enumerate(p.readlines())])
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">3</span> </b><br /><p><span style="background-color:yellow;">look</span> <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">Input</span> <span style="background-color:yellow;">Output</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">Documentation</span> </p>
<p><span style="background-color:yellow;">The</span> <span style="background-color:yellow;">Keyword</span> <span style="background-color:yellow;">here</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">readline</span> <span style="background-color:yellow;">"</span> . </p>
<p><span style="background-color:yellow;">If</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">problems</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">it...reedit</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">question</span> </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">4</span> </b><br /><p><span style="background-color:yellow;">If</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">want</span> <span style="background-color:yellow;">all</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">values</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">flat</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">look</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">follows</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>ls=[]
for line in open( "input.txt", "r" ).readlines():
    for value in line.split( ' ' ):
        ls.append( value )
</code></pre>
<p><span style="background-color:yellow;">If</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">just</span> <span style="background-color:yellow;">want</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">lines</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">then</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">stop</span> <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">readlines</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">5</span> </b><br /><pre><code>fh=open("file")
mylist=[]
header=fh.readline().rstrip()
if not header.startswith("p wncf") :
    print "error"
header=header.split()
mylist.append(header)
if len(header) != 5:
    print "error"
if False in map(str.isdigit, header[2:]):
    print "Error"
for line in fh:
    line=line.rstrip().split()
    if False in map(str.isdigit, line[0:2]):
        print "Error"            
    elif line[-1] != 0: 
        print "Error"
    else:
        mylist.append(line)
fh.close()
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">6</span> </b><br /><p><span style="background-color:yellow;">To</span> <span style="background-color:yellow;">build</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">only</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">lines</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">contain</span> <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">least</span> <span style="background-color:yellow;">two</span> <span style="background-color:yellow;">integers</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">end</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">zero</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">regular</span> <span style="background-color:yellow;">expression</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>import re
p = re.compile(r'^((\-?\d*\s+){2,})0$')
with open(filename, 'rb') as f:
    seq = [line.strip() for line in f if p.match(line)]
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">7</span> </b><br /><p><span style="background-color:yellow;">You</span> <span style="background-color:yellow;">'re</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">providing</span> <span style="background-color:yellow;">all</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">details</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">i</span> <span style="background-color:yellow;">assume</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">:</span> </p>
<ul><span style="background-color:yellow;">there</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">only</span> <span style="background-color:yellow;">1</span> <span style="background-color:yellow;">header</span> <span style="background-color:yellow;">line</span> <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">beginning</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">need</span> <span style="background-color:yellow;">what</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">other</span> <span style="background-color:yellow;">lines</span> <span style="background-color:yellow;">only</span> <span style="background-color:yellow;">contain</span> <span style="background-color:yellow;">integers</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">need</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">retain</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">trailing</span> <span style="background-color:yellow;">'0'</span> </ul>
<p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">also</span> <span style="background-color:yellow;">assume</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">may</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">very</span> <span style="background-color:yellow;">big</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">reading</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">entire</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">memory</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">storing</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">entire</span> <span style="background-color:yellow;">resulting</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">memory</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">very</span> <span style="background-color:yellow;">good</span> <span style="background-color:yellow;">idea</span> . </p>
<p><span style="background-color:yellow;">Here</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">quick</span> <span style="background-color:yellow;">solution</span> <span style="background-color:yellow;">which</span> <span style="background-color:yellow;">reads</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">line-by-line</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">uses</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">generator</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">yield</span> <span style="background-color:yellow;">each</span> <span style="background-color:yellow;">line</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">list.</span> <span style="background-color:yellow;">You</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">entire</span> <span style="background-color:yellow;">result</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">want</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>result_list = read_data('foo.dat')
</code></pre>
<p><span style="background-color:yellow;">or</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">i</span> <span style="background-color:yellow;">did</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">example</span> <span style="background-color:yellow;">call</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">each</span> <span style="background-color:yellow;">result</span> <span style="background-color:yellow;">line</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">read</span> <span style="background-color:yellow;">out.</span> <span style="background-color:yellow;">You</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">call</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">directly</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">'re</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">linux</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">otherwise</span> <span style="background-color:yellow;">just</span> <span style="background-color:yellow;">associate</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">python</span> <span style="background-color:yellow;">interpreter</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">call</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">name</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">data</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">first</span> <span style="background-color:yellow;">argument</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">'ll</span> <span style="background-color:yellow;">print</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">results</span> <span style="background-color:yellow;">line</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">line</span> <span style="background-color:yellow;">-</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">work</span> <span style="background-color:yellow;">even</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">humongous.</span> <span style="background-color:yellow;">You</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">also</span> <span style="background-color:yellow;">just</span> <span style="background-color:yellow;">import</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">module</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">read_data</span> <span style="background-color:yellow;">method</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">results</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">other</span> <span style="background-color:yellow;">calculations</span> . </p>
<p><span style="background-color:yellow;">Note</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">does</span> <span style="background-color:yellow;">some</span> <span style="background-color:yellow;">error</span> <span style="background-color:yellow;">checking</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">header</span> <span style="background-color:yellow;">line</span> <span style="background-color:yellow;">starts</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">p</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">data</span> <span style="background-color:yellow;">lines</span> <span style="background-color:yellow;">end</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">0</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">only</span> <span style="background-color:yellow;">contain</span> <span style="background-color:yellow;">integers</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">probably</span> <span style="background-color:yellow;">want</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">either</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">checking</span> <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">all</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">raise</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">proper</span> <span style="background-color:yellow;">exception</span> <span style="background-color:yellow;">when</span> <span style="background-color:yellow;">they</span> <span style="background-color:yellow;">'re</span> <span style="background-color:yellow;">encountered</span> . </p>
<pre><code>#!/usr/bin/env python
import sys

def read_data(fn):
    """Reads in datafile

    data file is in format:
        p wfgh 1111 11111 111111
        287 48 0
        65626 -1818 0
        4654 21512 02020 0
    where first line begins with p and is a header, and following lines
    are comprised of at least 2 integers plus a tailing 0.
    Pass in the filename, the resulting list of lists of integers will be 
    returned.
    """
    f = open(fn, 'r')
    # check for header line
    assert(f.readline().split()[0]=='p')
    for l in f:
        d = [int(col) for col in l.split()]
        if not d:
            # skip empty lines
            continue
        # check we have at least 2 integers and the last column is 0
        assert(d[-1] == 0 and len(d) >= 3)
        # yield current line
        yield d[:-1]

if __name__ == '__main__':
    for l in read_data(sys.argv[1]):
        print unicode(l)
</code></pre>
<br />