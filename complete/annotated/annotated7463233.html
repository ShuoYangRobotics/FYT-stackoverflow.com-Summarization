<h3><span style="background-color:yellow;">Question</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">ID-7463233</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><h2><span style="background-color:yellow;">Matching</span> <span style="background-color:yellow;">2</span> <span style="background-color:yellow;">regular</span> <span style="background-color:yellow;">expressions</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">Python</span> </h2><p><span style="background-color:yellow;">Is</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">possible</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">match</span> <span style="background-color:yellow;">2</span> <span style="background-color:yellow;">regular</span> <span style="background-color:yellow;">expressions</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">Python</span> ? </p>
<p><span style="background-color:yellow;">For</span> <span style="background-color:yellow;">instance</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">use-case</span> <span style="background-color:yellow;">wherein</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">need</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">compare</span> <span style="background-color:yellow;">2</span> <span style="background-color:yellow;">expressions</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>re.match('google\.com\/maps', 'google\.com\/maps2', re.IGNORECASE)
</code></pre>
<p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">expect</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">returned</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">RE</span> <span style="background-color:yellow;">object</span> . </p>
<p><span style="background-color:yellow;">But</span> <span style="background-color:yellow;">obviously</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">expects</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">string</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">second</span> <span style="background-color:yellow;">parameter</span> . <span style="background-color:yellow;">Is</span> <span style="background-color:yellow;">there</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">achieve</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">limitation</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">regex</span> <span style="background-color:yellow;">matching</span> <span style="background-color:yellow;">works</span> ? </p>
<hr />
<p><span style="background-color:yellow;">Background</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">regular</span> <span style="background-color:yellow;">expressions</span> <span style="background-color:yellow;">[</span> <span style="background-color:yellow;">r1</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">r2</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">r3</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">...</span> <span style="background-color:yellow;">]</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">match</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">string</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">need</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">find</span> <span style="background-color:yellow;">out</span> <span style="background-color:yellow;">which</span> <span style="background-color:yellow;">expression</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">most</span> <span style="background-color:yellow;">specific</span> <span style="background-color:yellow;">match</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">given</span> <span style="background-color:yellow;">string.</span> <span style="background-color:yellow;">The</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">assumed</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">could</span> <span style="background-color:yellow;">make</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">work</span> <span style="background-color:yellow;">was</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">1</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">matching</span> <span style="background-color:yellow;">r1</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">r2</span> . <span style="background-color:yellow;"></span> <span style="background-color:yellow;">2</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">then</span> <span style="background-color:yellow;">match</span> <span style="background-color:yellow;">r2</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">r1</span> . <span style="background-color:yellow;">If</span> <span style="background-color:yellow;">both</span> <span style="background-color:yellow;">match</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">we</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">'tie'.</span> <span style="background-color:yellow;">If</span> <span style="background-color:yellow;">only</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">1</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">worked</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">r1</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">'better</span> <span style="background-color:yellow;">'</span> <span style="background-color:yellow;">match</span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">r2</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">vice-versa</span> . <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'d</span> <span style="background-color:yellow;">loop</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">1</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">2</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">over</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">entire</span> <span style="background-color:yellow;">list</span> . </p>
<p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">admit</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">bit</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">wrap</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">head</span> <span style="background-color:yellow;">around</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">mostly</span> <span style="background-color:yellow;">because</span> <span style="background-color:yellow;">my</span> <span style="background-color:yellow;">description</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">probably</span> <span style="background-color:yellow;">incoherent</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'d</span> <span style="background-color:yellow;">really</span> <span style="background-color:yellow;">appreciate</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">somebody</span> <span style="background-color:yellow;">could</span> <span style="background-color:yellow;">give</span> <span style="background-color:yellow;">me</span> <span style="background-color:yellow;">some</span> <span style="background-color:yellow;">insight</span> <span style="background-color:yellow;">into</span> <span style="background-color:yellow;">how</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">achieve</span> <span style="background-color:yellow;">this.</span> <span style="background-color:yellow;">Thanks</span> <span style="background-color:yellow;">!</span> </p>
<br /><h3><span style="background-color:yellow;">Answers</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">Total-8</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">0</span> </b><br /><p><span style="background-color:yellow;">Outside</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">syntax</span> <span style="background-color:yellow;">clarification</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">re.match</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">think</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">am</span> <span style="background-color:yellow;">understanding</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">struggling</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">taking</span> <span style="background-color:yellow;">two</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">unknown</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">user</span> <span style="background-color:yellow;">input</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">regex</span> <span style="background-color:yellow;">expressions</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">classifying</span> <span style="background-color:yellow;">which</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">'specific</span> <span style="background-color:yellow;">'</span> <span style="background-color:yellow;">match</span> <span style="background-color:yellow;">against</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">string</span> . </p>
<p><span style="background-color:yellow;">Recall</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">moment</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">regex</span> <span style="background-color:yellow;">really</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">type</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">computer</span> <span style="background-color:yellow;">program.</span> <span style="background-color:yellow;">Most</span> <span style="background-color:yellow;">modern</span> <span style="background-color:yellow;">forms</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">including</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">regex</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">based</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">Perl.</span> <span style="background-color:yellow;">Perl</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">regex</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">recursion</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">backtracking</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">other</span> <span style="background-color:yellow;">forms</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">defy</span> <span style="background-color:yellow;">trivial</span> <span style="background-color:yellow;">inspection.</span> <span style="background-color:yellow;">Indeed</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">rogue</span> <span style="background-color:yellow;">regex</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">used</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">form</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">denial</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">service</span> <span style="background-color:yellow;">attack</span> . </p>
<p><span style="background-color:yellow;">To</span> <span style="background-color:yellow;">see</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">own</span> <span style="background-color:yellow;">computer</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">try</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>>>> re.match(r'^(a+)+$','a'*24+'!')
</code></pre>
<p><span style="background-color:yellow;">That</span> <span style="background-color:yellow;">takes</span> <span style="background-color:yellow;">about</span> <span style="background-color:yellow;">1</span> <span style="background-color:yellow;">second</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">my</span> <span style="background-color:yellow;">computer.</span> <span style="background-color:yellow;">Now</span> <span style="background-color:yellow;">increase</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">24</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">'a</span> <span style="background-color:yellow;">'</span> <span style="background-color:yellow;">*</span> <span style="background-color:yellow;">24</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">bit</span> <span style="background-color:yellow;">larger</span> <span style="background-color:yellow;">number</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">say</span> <span style="background-color:yellow;">28</span> . <span style="background-color:yellow;">That</span> <span style="background-color:yellow;">take</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">lot</span> <span style="background-color:yellow;">longer.</span> <span style="background-color:yellow;">Try</span> <span style="background-color:yellow;">48</span> <span style="background-color:yellow;">...</span> <span style="background-color:yellow;">You</span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">probably</span> <span style="background-color:yellow;">need</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">CTRL</span> <span style="background-color:yellow;">+</span> <span style="background-color:yellow;">C</span> <span style="background-color:yellow;">now.</span> <span style="background-color:yellow;">The</span> <span style="background-color:yellow;">time</span> <span style="background-color:yellow;">increase</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">number</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">increase</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">fact</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">exponential</span> . </p>
<p><span style="background-color:yellow;">You</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">read</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">about</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">issue</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">Russ</span> <span style="background-color:yellow;">Cox</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">wonderful</span> <span style="background-color:yellow;">paper</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">'Regular</span> <span style="background-color:yellow;">Expression</span> <span style="background-color:yellow;">Matching</span> <span style="background-color:yellow;">Can</span> <span style="background-color:yellow;">Be</span> <span style="background-color:yellow;">Simple</span> <span style="background-color:yellow;">And</span> <span style="background-color:yellow;">Fast</span> <span style="background-color:yellow;">'</span> . <span style="background-color:yellow;">Russ</span> <span style="background-color:yellow;">Cox</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">Goggle</span> <span style="background-color:yellow;">engineer</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">built</span> <span style="background-color:yellow;">Google</span> <span style="background-color:yellow;">Code</span> <span style="background-color:yellow;">Search</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">2006.</span> <span style="background-color:yellow;">As</span> <span style="background-color:yellow;">Cox</span> <span style="background-color:yellow;">observes</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">consider</span> <span style="background-color:yellow;">matching</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">regex</span> <span style="background-color:yellow;">'a</span> ? <span style="background-color:yellow;">'</span> <span style="background-color:yellow;">*</span> <span style="background-color:yellow;">33</span> <span style="background-color:yellow;">+</span> <span style="background-color:yellow;">'a</span> <span style="background-color:yellow;">'</span> <span style="background-color:yellow;">*</span> <span style="background-color:yellow;">33</span> <span style="background-color:yellow;">against</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">string</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">'a</span> <span style="background-color:yellow;">'</span> <span style="background-color:yellow;">*</span> <span style="background-color:yellow;">99</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">awk</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">Perl</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">PCRE</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">Java</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">PHP</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">...</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">Awk</span> <span style="background-color:yellow;">matches</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">200</span> <span style="background-color:yellow;">microseconds</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">Perl</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">require</span> <span style="background-color:yellow;">10</span> <span style="background-color:yellow;">15</span> <span style="background-color:yellow;">years</span> <span style="background-color:yellow;">because</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">exponential</span> <span style="background-color:yellow;">back</span> <span style="background-color:yellow;">tracking</span> . </p>
<p><span style="background-color:yellow;">So</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">conclusion</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">depends</span> <span style="background-color:yellow;">!</span> <span style="background-color:yellow;">What</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">mean</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">specific</span> <span style="background-color:yellow;">match</span> ? <span style="background-color:yellow;">Look</span> <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">some</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">Cox</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">regex</span> <span style="background-color:yellow;">simplification</span> <span style="background-color:yellow;">techniques</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">RE2</span> . <span style="background-color:yellow;">If</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">project</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">big</span> <span style="background-color:yellow;">enough</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">write</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">own</span> <span style="background-color:yellow;">libraries</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">RE2</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">willing</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">restrict</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">regex</span> <span style="background-color:yellow;">grammar</span> <span style="background-color:yellow;">used</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">i.e.</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">no</span> <span style="background-color:yellow;">backtracking</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">recursive</span> <span style="background-color:yellow;">forms</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">think</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">answer</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">classify</span> <span style="background-color:yellow;">'a</span> <span style="background-color:yellow;">better</span> <span style="background-color:yellow;">match</span> <span style="background-color:yellow;">'</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">variety</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">ways</span> . </p>
<p><span style="background-color:yellow;">If</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">looking</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">simple</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">state</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">regex_3</span> <span style="background-color:yellow;">&lt</span> <span style="background-color:yellow;">;</span> <span style="background-color:yellow;">regex_1</span> <span style="background-color:yellow;">&lt</span> <span style="background-color:yellow;">;</span> <span style="background-color:yellow;">regex_2</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">when</span> <span style="background-color:yellow;">matched</span> <span style="background-color:yellow;">against</span> <span style="background-color:yellow;">some</span> <span style="background-color:yellow;">string</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">Perl</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">regex</span> <span style="background-color:yellow;">language</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">think</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">answer</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">very</span> <span style="background-color:yellow;">very</span> <span style="background-color:yellow;">hard</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">i.e.</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">problem</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">NP</span> <span style="background-color:yellow;">Complete</span> <span style="background-color:yellow;"></span> </p>
<p><span style="background-color:yellow;">Edit</span> </p>
<p><span style="background-color:yellow;">Everything</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">said</span> <span style="background-color:yellow;">above</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">true</span> <span style="background-color:yellow;">!</span> <span style="background-color:yellow;">However</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">here</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">stab</span> <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">sorting</span> <span style="background-color:yellow;">matching</span> <span style="background-color:yellow;">regular</span> <span style="background-color:yellow;">expressions</span> <span style="background-color:yellow;">based</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">form</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">'specific</span> <span style="background-color:yellow;">'</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">How</span> <span style="background-color:yellow;">many</span> <span style="background-color:yellow;">edits</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">get</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">regex</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">string.</span> <span style="background-color:yellow;">The</span> <span style="background-color:yellow;">greater</span> <span style="background-color:yellow;">number</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">edits</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">higher</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">Levenshtein</span> <span style="background-color:yellow;">distance</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">less</span> <span style="background-color:yellow;">'specific</span> <span style="background-color:yellow;">'</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">regex</span> <span style="background-color:yellow;">is</span> . </p>
<p><span style="background-color:yellow;">You</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">judge</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">works</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">know</span> <span style="background-color:yellow;">what</span> <span style="background-color:yellow;">'specific</span> <span style="background-color:yellow;">'</span> <span style="background-color:yellow;">means</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">application</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </p>
<pre><code>import re

def ld(a,b):
    "Calculates the Levenshtein distance between a and b."
    n, m = len(a), len(b)
    if n > m:
        # Make sure n <= m, to use O(min(n,m)) space
        a,b = b,a
        n,m = m,n

    current = range(n+1)
    for i in range(1,m+1):
        previous, current = current, [i]+[0]*n
        for j in range(1,n+1):
            add, delete = previous[j]+1, current[j-1]+1
            change = previous[j-1]
            if a[j-1] != b[i-1]:
                change = change + 1
            current[j] = min(add, delete, change)      
    return current[n]

s='Mary had a little lamb'    
d={}
regs=[r'.*', r'Mary', r'lamb', r'little lamb', r'.*little lamb',r'\b\w+mb',
        r'Mary.*little lamb',r'.*[lL]ittle [Ll]amb',r'\blittle\b',s,r'little']

for reg in regs:
    m=re.search(reg,s)
    if m:
        print "'%s' matches '%s' with sub group '%s'" % (reg, s, m.group(0))
        ld1=ld(reg,m.group(0))
        ld2=ld(m.group(0),s)
        score=max(ld1,ld2)
        print "  %i edits regex->match(0), %i edits match(0)->s" % (ld1,ld2)
        print "  score: ", score
        d[reg]=score
        print
    else:
        print "'%s' does not match '%s'" % (reg, s)   

print "   ===== %s =====    === %s ===" % ('RegEx'.center(10),'Score'.center(10))

for key, value in sorted(d.iteritems(), key=lambda (k,v): (v,k)):
    print "   %22s        %5s" % (key, value) 
</code></pre>
<p><span style="background-color:yellow;">The</span> <span style="background-color:yellow;">program</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">taking</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">regex</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">matching</span> <span style="background-color:yellow;">against</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">string</span> <span style="background-color:yellow;">Mary</span> <span style="background-color:yellow;">had</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">little</span> <span style="background-color:yellow;">lamb</span> . </p>
<p><span style="background-color:yellow;">Here</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">sorted</span> <span style="background-color:yellow;">ranking</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">most</span> <span style="background-color:yellow;">specific</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">least</span> <span style="background-color:yellow;">specific</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>   =====   RegEx    =====    ===   Score    ===
   Mary had a little lamb            0
        Mary.*little lamb            7
            .*little lamb           11
              little lamb           11
      .*[lL]ittle [Ll]amb           15
               \blittle\b           16
                   little           16
                     Mary           18
                  \b\w+mb           18
                     lamb           18
                       .*           22
</code></pre>
<p><span style="background-color:yellow;">This</span> <span style="background-color:yellow;">based</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">perhaps</span> <span style="background-color:yellow;">simplistic</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">assumption</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">number</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">edits</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">Levenshtein</span> <span style="background-color:yellow;">distance</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">get</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">regex</span> <span style="background-color:yellow;">itself</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">matching</span> <span style="background-color:yellow;">substring</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">result</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">wildcard</span> <span style="background-color:yellow;">expansions</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">replacements</span> <span style="background-color:yellow;">;</span> <span style="background-color:yellow;">b</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">edits</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">get</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">matching</span> <span style="background-color:yellow;">substring</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">initial</span> <span style="background-color:yellow;">string.</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">just</span> <span style="background-color:yellow;">take</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;"></span> </p>
<p><span style="background-color:yellow;">As</span> <span style="background-color:yellow;">two</span> <span style="background-color:yellow;">simple</span> <span style="background-color:yellow;">examples</span> <span style="background-color:yellow;">:</span> </p>
<ol>. <span style="background-color:yellow;">*</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">or</span> . <span style="background-color:yellow;">*</span> . <span style="background-color:yellow;">*</span> <span style="background-color:yellow;">or</span> . <span style="background-color:yellow;">*</span> ? . <span style="background-color:yellow;">*</span> <span style="background-color:yellow;">etc</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">against</span> <span style="background-color:yellow;">any</span> <span style="background-color:yellow;">sting</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">large</span> <span style="background-color:yellow;">number</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">edits</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">get</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">string</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">fact</span> <span style="background-color:yellow;">equal</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">string</span> <span style="background-color:yellow;">length.</span> <span style="background-color:yellow;">This</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">max</span> <span style="background-color:yellow;">possible</span> <span style="background-color:yellow;">edits</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">highest</span> <span style="background-color:yellow;">score</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">least</span> <span style="background-color:yellow;">'specific</span> <span style="background-color:yellow;">'</span> <span style="background-color:yellow;">regex</span> . <span style="background-color:yellow;">The</span> <span style="background-color:yellow;">regex</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">string</span> <span style="background-color:yellow;">itself</span> <span style="background-color:yellow;">against</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">string</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">specific</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">possible.</span> <span style="background-color:yellow;">No</span> <span style="background-color:yellow;">edits</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">change</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">other</span> <span style="background-color:yellow;">resulting</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">0</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">lowest</span> <span style="background-color:yellow;">score</span> . </ol>
<p><span style="background-color:yellow;">As</span> <span style="background-color:yellow;">stated</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">simplistic.</span> <span style="background-color:yellow;">Anchors</span> <span style="background-color:yellow;">should</span> <span style="background-color:yellow;">increase</span> <span style="background-color:yellow;">specificity</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">they</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">case.</span> <span style="background-color:yellow;">Very</span> <span style="background-color:yellow;">short</span> <span style="background-color:yellow;">stings</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">work</span> <span style="background-color:yellow;">because</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">wild-card</span> <span style="background-color:yellow;">may</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">longer</span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">string</span> . </p>
<p><span style="background-color:yellow;">Edit</span> <span style="background-color:yellow;">2</span> </p>
<p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">got</span> <span style="background-color:yellow;">anchor</span> <span style="background-color:yellow;">parsing</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">work</span> <span style="background-color:yellow;">pretty</span> <span style="background-color:yellow;">darn</span> <span style="background-color:yellow;">well</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">undocumented</span> <span style="background-color:yellow;">sre_parse</span> <span style="background-color:yellow;">module</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">Python.</span> <span style="background-color:yellow;">Type</span> <span style="background-color:yellow;">&gt</span> <span style="background-color:yellow;">;</span> <span style="background-color:yellow;">&gt</span> <span style="background-color:yellow;">;</span> <span style="background-color:yellow;">&gt</span> <span style="background-color:yellow;">;</span> <span style="background-color:yellow;">help</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">sre_parse</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">want</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">read</span> <span style="background-color:yellow;">more..</span> . </p>
<p><span style="background-color:yellow;">This</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">goto</span> <span style="background-color:yellow;">worker</span> <span style="background-color:yellow;">module</span> <span style="background-color:yellow;">underlying</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">re</span> <span style="background-color:yellow;">module.</span> <span style="background-color:yellow;">It</span> <span style="background-color:yellow;">has</span> <span style="background-color:yellow;">been</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">every</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">distribution</span> <span style="background-color:yellow;">since</span> <span style="background-color:yellow;">2001</span> <span style="background-color:yellow;">including</span> <span style="background-color:yellow;">all</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">P3k</span> <span style="background-color:yellow;">versions.</span> <span style="background-color:yellow;">It</span> <span style="background-color:yellow;">may</span> <span style="background-color:yellow;">go</span> <span style="background-color:yellow;">away</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">think</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">likely..</span> . </p>
<p><span style="background-color:yellow;">Here</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">revised</span> <span style="background-color:yellow;">listing</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>import re
import sre_parse

def ld(a,b):
    "Calculates the Levenshtein distance between a and b."
    n, m = len(a), len(b)
    if n > m:
        # Make sure n <= m, to use O(min(n,m)) space
        a,b = b,a
        n,m = m,n

    current = range(n+1)
    for i in range(1,m+1):
        previous, current = current, [i]+[0]*n
        for j in range(1,n+1):
            add, delete = previous[j]+1, current[j-1]+1
            change = previous[j-1]
            if a[j-1] != b[i-1]:
                change = change + 1
            current[j] = min(add, delete, change)      
    return current[n]

s='Mary had a little lamb'    
d={}
regs=[r'.*', r'Mary', r'lamb', r'little lamb', r'.*little lamb',r'\b\w+mb',
        r'Mary.*little lamb',r'.*[lL]ittle [Ll]amb',r'\blittle\b',s,r'little',
        r'^.*lamb',r'.*.*.*b',r'.*?.*',r'.*\b[lL]ittle\b \b[Ll]amb',
        r'.*\blittle\b \blamb$','^'+s+'$']

for reg in regs:
    m=re.search(reg,s)
    if m:
        ld1=ld(reg,m.group(0))
        ld2=ld(m.group(0),s)
        score=max(ld1,ld2)
        for t, v in sre_parse.parse(reg):
            if t=='at':      # anchor...
                if v=='at_beginning' or 'at_end':
                    score-=1   # ^ or $, adj 1 edit

                if v=='at_boundary': # all other anchors are 2 char
                    score-=2

        d[reg]=score
    else:
        print "'%s' does not match '%s'" % (reg, s)   

print
print "   ===== %s =====    === %s ===" % ('RegEx'.center(15),'Score'.center(10))

for key, value in sorted(d.iteritems(), key=lambda (k,v): (v,k)):
    print "   %27s        %5s" % (key, value) 
</code></pre>
<p><span style="background-color:yellow;">And</span> <span style="background-color:yellow;">soted</span> <span style="background-color:yellow;">RegEx</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>   =====      RegEx      =====    ===   Score    ===
        Mary had a little lamb            0
      ^Mary had a little lamb$            0
          .*\blittle\b \blamb$            6
             Mary.*little lamb            7
     .*\b[lL]ittle\b \b[Ll]amb           10
                    \blittle\b           10
                 .*little lamb           11
                   little lamb           11
           .*[lL]ittle [Ll]amb           15
                       \b\w+mb           15
                        little           16
                       ^.*lamb           17
                          Mary           18
                          lamb           18
                       .*.*.*b           21
                            .*           22
                         .*?.*           22
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">1</span> </b><br /><blockquote><span style="background-color:yellow;">Is</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">possible</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">match</span> <span style="background-color:yellow;">2</span> <span style="background-color:yellow;">regular</span> <span style="background-color:yellow;">expressions</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">Python</span> ? </blockquote>
<p><span style="background-color:yellow;">That</span> <span style="background-color:yellow;">certainly</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">possible.</span> <span style="background-color:yellow;">Use</span> <span style="background-color:yellow;">parenthetical</span> <span style="background-color:yellow;">match</span> <span style="background-color:yellow;">groups</span> <span style="background-color:yellow;">joined</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">|</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">alteration.</span> <span style="background-color:yellow;">If</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">arrange</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">parenthetical</span> <span style="background-color:yellow;">match</span> <span style="background-color:yellow;">groups</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">most</span> <span style="background-color:yellow;">specific</span> <span style="background-color:yellow;">regex</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">least</span> <span style="background-color:yellow;">specific</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">rank</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">returned</span> <span style="background-color:yellow;">tuple</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">m.groups</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">show</span> <span style="background-color:yellow;">how</span> <span style="background-color:yellow;">specific</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">match</span> <span style="background-color:yellow;">is.</span> <span style="background-color:yellow;">You</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">also</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">named</span> <span style="background-color:yellow;">groups</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">name</span> <span style="background-color:yellow;">how</span> <span style="background-color:yellow;">specific</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">match</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">such</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">s10</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">very</span> <span style="background-color:yellow;">specific</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">s0</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">specific</span> <span style="background-color:yellow;">match</span> . </p>
<pre><code>>>> s1='google.com/maps2text'
>>> s2='I forgot my goggles at the house'
>>> s3='blah blah blah'
>>> m1=re.match(r'(^google\.com\/maps\dtext$)|(.*go[a-z]+)',s1)
>>> m2=re.match(r'(^google\.com\/maps\dtext$)|(.*go[a-z]+)',s2)
>>> m1.groups()
('google.com/maps2text', None)
>>> m2.groups()
(None, 'I forgot my goggles')
>>> patt=re.compile(r'(?P<s10>^google\.com\/maps\dtext$)|
... (?P<s5>.*go[a-z]+)|(?P<s0>[a-z]+)')
>>> m3=patt.match(s3)
>>> m3.groups()
(None, None, 'blah')
>>> m3.groupdict()
{'s10': None, 's0': 'blah', 's5': None}
</code></pre>
<p><span style="background-color:yellow;">If</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">know</span> <span style="background-color:yellow;">ahead</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">time</span> <span style="background-color:yellow;">which</span> <span style="background-color:yellow;">regex</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">specific</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">much</span> <span style="background-color:yellow;">harder</span> <span style="background-color:yellow;">problem</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">solve.</span> <span style="background-color:yellow;">You</span> <span style="background-color:yellow;">want</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">look</span> <span style="background-color:yellow;">at</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">paper</span> <span style="background-color:yellow;">covering</span> <span style="background-color:yellow;">security</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">regex</span> <span style="background-color:yellow;">matches</span> <span style="background-color:yellow;">against</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">system</span> <span style="background-color:yellow;">names</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">2</span> </b><br /><p><span style="background-color:yellow;">It</span> <span style="background-color:yellow;">depends</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">what</span> <span style="background-color:yellow;">kind</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">regular</span> <span style="background-color:yellow;">expressions</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">;</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">@</span> <span style="background-color:yellow;">carrot-top</span> <span style="background-color:yellow;">suggests</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">actually</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">dealing</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">regular</span> <span style="background-color:yellow;">expressions</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">CS</span> <span style="background-color:yellow;">sense</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">instead</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">crazy</span> <span style="background-color:yellow;">extensions</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">then</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">definitely</span> <span style="background-color:yellow;">out</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">luck</span> . </p>
<p><span style="background-color:yellow;">However</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">traditional</span> <span style="background-color:yellow;">regular</span> <span style="background-color:yellow;">expressions</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">might</span> <span style="background-color:yellow;">make</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">bit</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">progress.</span> <span style="background-color:yellow;">First</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">we</span> <span style="background-color:yellow;">could</span> <span style="background-color:yellow;">define</span> <span style="background-color:yellow;">what</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">specific</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">means.</span> <span style="background-color:yellow;">Say</span> <span style="background-color:yellow;">R</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">regular</span> <span style="background-color:yellow;">expression</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">L</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">R</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">language</span> <span style="background-color:yellow;">generated</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">R.</span> <span style="background-color:yellow;">Then</span> <span style="background-color:yellow;">we</span> <span style="background-color:yellow;">might</span> <span style="background-color:yellow;">say</span> <span style="background-color:yellow;">R1</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">specific</span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">R2</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">L</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">R1</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">strict</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">subset</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">L</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">R2</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">L</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">R1</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">&lt</span> <span style="background-color:yellow;">;</span> <span style="background-color:yellow;">L</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">R2</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> . <span style="background-color:yellow;">That</span> <span style="background-color:yellow;">only</span> <span style="background-color:yellow;">gets</span> <span style="background-color:yellow;">us</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">far</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">many</span> <span style="background-color:yellow;">cases</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">L</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">R1</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">neither</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">subset</span> <span style="background-color:yellow;">nor</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">superset</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">L</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">R2</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">we</span> <span style="background-color:yellow;">might</span> <span style="background-color:yellow;">imagine</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">two</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">somehow</span> <span style="background-color:yellow;">incomparable.</span> <span style="background-color:yellow;">An</span> <span style="background-color:yellow;">example</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">trying</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">match</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">mary</span> <span style="background-color:yellow;">had</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">little</span> <span style="background-color:yellow;">lamb</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">we</span> <span style="background-color:yellow;">might</span> <span style="background-color:yellow;">find</span> <span style="background-color:yellow;">two</span> <span style="background-color:yellow;">matching</span> <span style="background-color:yellow;">expressions</span> <span style="background-color:yellow;">:</span> . <span style="background-color:yellow;">*</span> <span style="background-color:yellow;">mary</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">lamb.</span> <span style="background-color:yellow;">*</span> . </p>
<p><span style="background-color:yellow;">One</span> <span style="background-color:yellow;">non-ambiguous</span> <span style="background-color:yellow;">solution</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">define</span> <span style="background-color:yellow;">specificity</span> <span style="background-color:yellow;">via</span> <span style="background-color:yellow;">implementation</span> . <span style="background-color:yellow;">For</span> <span style="background-color:yellow;">instance</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">convert</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">regular</span> <span style="background-color:yellow;">expression</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">deterministic</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">implementation-defined</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">DFA</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">simply</span> <span style="background-color:yellow;">count</span> <span style="background-color:yellow;">states.</span> <span style="background-color:yellow;">Unfortunately</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">might</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">relatively</span> <span style="background-color:yellow;">opaque</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">user</span> . </p>
<p><span style="background-color:yellow;">Indeed</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">seem</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">intuitive</span> <span style="background-color:yellow;">notion</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">how</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">want</span> <span style="background-color:yellow;">two</span> <span style="background-color:yellow;">regular</span> <span style="background-color:yellow;">expressions</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">compare</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">specificity-wise.</span> <span style="background-color:yellow;">Why</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">simple</span> <span style="background-color:yellow;">write</span> <span style="background-color:yellow;">down</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">definition</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">specificity</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">based</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">syntax</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">regular</span> <span style="background-color:yellow;">expressions</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">matches</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">intuition</span> <span style="background-color:yellow;">reasonably</span> <span style="background-color:yellow;">well</span> ? </p>
<p><span style="background-color:yellow;">Totally</span> <span style="background-color:yellow;">arbitrary</span> <span style="background-color:yellow;">rules</span> <span style="background-color:yellow;">follow</span> <span style="background-color:yellow;">:</span> </p>
<ol><span style="background-color:yellow;">Characters</span> <span style="background-color:yellow;">=</span> <span style="background-color:yellow;">1</span> . <span style="background-color:yellow;">Character</span> <span style="background-color:yellow;">ranges</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">n</span> <span style="background-color:yellow;">characters</span> <span style="background-color:yellow;">=</span> <span style="background-color:yellow;">n</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">let</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">say</span> <span style="background-color:yellow;">\</span> <span style="background-color:yellow;">b</span> <span style="background-color:yellow;">=</span> <span style="background-color:yellow;">5</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">because</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'m</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">sure</span> <span style="background-color:yellow;">how</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">might</span> <span style="background-color:yellow;">choose</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">write</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">out</span> <span style="background-color:yellow;">long-hand</span> <span style="background-color:yellow;"></span> . <span style="background-color:yellow;">Anchors</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">5</span> <span style="background-color:yellow;">each</span> . <span style="background-color:yellow;">*</span> <span style="background-color:yellow;">divides</span> <span style="background-color:yellow;">its</span> <span style="background-color:yellow;">argument</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">2</span> . <span style="background-color:yellow;">+</span> <span style="background-color:yellow;">divides</span> <span style="background-color:yellow;">its</span> <span style="background-color:yellow;">argument</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">2</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">then</span> <span style="background-color:yellow;">adds</span> <span style="background-color:yellow;">1</span> . . <span style="background-color:yellow;">=</span> <span style="background-color:yellow;">-10</span> . </ol>
<p><span style="background-color:yellow;">Anyway</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">just</span> <span style="background-color:yellow;">food</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">thought</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">other</span> <span style="background-color:yellow;">answers</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">good</span> <span style="background-color:yellow;">job</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">outlining</span> <span style="background-color:yellow;">some</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">issues</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">'re</span> <span style="background-color:yellow;">facing</span> <span style="background-color:yellow;">;</span> <span style="background-color:yellow;">hope</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">helps</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">3</span> </b><br /><p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">think</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">possible</span> . </p>
<p><span style="background-color:yellow;">An</span> <span style="background-color:yellow;">alternative</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">try</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">calculate</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">number</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">strings</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">length</span> <span style="background-color:yellow;">n</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">regular</span> <span style="background-color:yellow;">expression</span> <span style="background-color:yellow;">also</span> <span style="background-color:yellow;">matches.</span> <span style="background-color:yellow;">A</span> <span style="background-color:yellow;">regular</span> <span style="background-color:yellow;">expression</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">matches</span> <span style="background-color:yellow;">1,000,000,000</span> <span style="background-color:yellow;">strings</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">length</span> <span style="background-color:yellow;">15</span> <span style="background-color:yellow;">characters</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">less</span> <span style="background-color:yellow;">specific</span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">matches</span> <span style="background-color:yellow;">only</span> <span style="background-color:yellow;">10</span> <span style="background-color:yellow;">strings</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">length</span> <span style="background-color:yellow;">15</span> <span style="background-color:yellow;">characters</span> . </p>
<p><span style="background-color:yellow;">Of</span> <span style="background-color:yellow;">course</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">calculating</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">number</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">possible</span> <span style="background-color:yellow;">matches</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">trivial</span> <span style="background-color:yellow;">unless</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">regular</span> <span style="background-color:yellow;">expressions</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">simple</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">4</span> </b><br /><p><span style="background-color:yellow;">Option</span> <span style="background-color:yellow;">1</span> <span style="background-color:yellow;">:</span> </p>
<p><span style="background-color:yellow;">Since</span> <span style="background-color:yellow;">users</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">supplying</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">regexes</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">perhaps</span> <span style="background-color:yellow;">ask</span> <span style="background-color:yellow;">them</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">also</span> <span style="background-color:yellow;">submit</span> <span style="background-color:yellow;">some</span> <span style="background-color:yellow;">test</span> <span style="background-color:yellow;">strings</span> <span style="background-color:yellow;">which</span> <span style="background-color:yellow;">they</span> <span style="background-color:yellow;">think</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">illustrative</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">their</span> <span style="background-color:yellow;">regex</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">specificity.</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">i.e.</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">show</span> <span style="background-color:yellow;">their</span> <span style="background-color:yellow;">regex</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">specific</span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">competitor</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">regex.</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">Collect</span> <span style="background-color:yellow;">all</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">user</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">submitted</span> <span style="background-color:yellow;">test</span> <span style="background-color:yellow;">strings</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">then</span> <span style="background-color:yellow;">test</span> <span style="background-color:yellow;">all</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">regexes</span> <span style="background-color:yellow;">against</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">complete</span> <span style="background-color:yellow;">set</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">test</span> <span style="background-color:yellow;">strings</span> . </p>
<p><span style="background-color:yellow;">To</span> <span style="background-color:yellow;">design</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">good</span> <span style="background-color:yellow;">regex</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">author</span> <span style="background-color:yellow;">must</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">put</span> <span style="background-color:yellow;">thought</span> <span style="background-color:yellow;">into</span> <span style="background-color:yellow;">what</span> <span style="background-color:yellow;">strings</span> <span style="background-color:yellow;">match</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">match</span> <span style="background-color:yellow;">their</span> <span style="background-color:yellow;">regex</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">should</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">easy</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">them</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">supply</span> <span style="background-color:yellow;">good</span> <span style="background-color:yellow;">test</span> <span style="background-color:yellow;">strings</span> . </p>
<hr />
<p><span style="background-color:yellow;">Option</span> <span style="background-color:yellow;">2</span> <span style="background-color:yellow;">:</span> </p>
<p><span style="background-color:yellow;">You</span> <span style="background-color:yellow;">might</span> <span style="background-color:yellow;">try</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">Monte</span> <span style="background-color:yellow;">Carlo</span> <span style="background-color:yellow;">approach</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">Starting</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">string</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">both</span> <span style="background-color:yellow;">regexes</span> <span style="background-color:yellow;">match</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">write</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">generator</span> <span style="background-color:yellow;">which</span> <span style="background-color:yellow;">generates</span> <span style="background-color:yellow;">mutations</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">string</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">permute</span> <span style="background-color:yellow;">characters</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">add/remove</span> <span style="background-color:yellow;">characters</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">etc.</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">If</span> <span style="background-color:yellow;">both</span> <span style="background-color:yellow;">regexes</span> <span style="background-color:yellow;">match</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">match</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">same</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">each</span> <span style="background-color:yellow;">mutation</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">then</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">regexes</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">probably</span> <span style="background-color:yellow;">tie</span> <span style="background-color:yellow;">"</span> . <span style="background-color:yellow;">If</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">matches</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">mutations</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">other</span> <span style="background-color:yellow;">does</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">vice</span> <span style="background-color:yellow;">versa</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">then</span> <span style="background-color:yellow;">they</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">absolutely</span> <span style="background-color:yellow;">tie</span> <span style="background-color:yellow;">"</span> . </p>
<p><span style="background-color:yellow;">But</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">matches</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">strict</span> <span style="background-color:yellow;">superset</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">mutations</span> <span style="background-color:yellow;">then</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">probably</span> <span style="background-color:yellow;">less</span> <span style="background-color:yellow;">specific</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">other</span> . </p>
<p><span style="background-color:yellow;">The</span> <span style="background-color:yellow;">verdict</span> <span style="background-color:yellow;">after</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">large</span> <span style="background-color:yellow;">number</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">mutations</span> <span style="background-color:yellow;">may</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">always</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">correct</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">may</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">reasonable</span> . </p>
<hr />
<p><span style="background-color:yellow;">Option</span> <span style="background-color:yellow;">3</span> <span style="background-color:yellow;">:</span> </p>
<p><span style="background-color:yellow;">Use</span> <span style="background-color:yellow;">ipermute</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">pyParsing</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">invert</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">generate</span> <span style="background-color:yellow;">strings</span> <span style="background-color:yellow;">which</span> <span style="background-color:yellow;">match</span> <span style="background-color:yellow;">each</span> <span style="background-color:yellow;">regex.</span> <span style="background-color:yellow;">This</span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">only</span> <span style="background-color:yellow;">work</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">regexes</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">limited</span> <span style="background-color:yellow;">subset</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">regex</span> <span style="background-color:yellow;">syntax</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">5</span> </b><br /><p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">think</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">could</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">looking</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">result</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">matching</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">longest</span> <span style="background-color:yellow;">result</span> </p>
<pre><code>>>> m = re.match(r'google\.com\/maps','google.com/maps/hello')
>>> len(m.group(0))
15

>>> m = re.match(r'google\.com\/maps2','google.com/maps/hello')
>>> print (m)
None

>>> m = re.match(r'google\.com\/maps','google.com/maps2/hello')
>>> len(m.group(0))
15

>>> m = re.match(r'google\.com\/maps2','google.com/maps2/hello')
>>> len(m.group(0))
16
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">6</span> </b><br /><pre><code>re.match('google\.com\/maps', 'google\.com\/maps2', re.IGNORECASE)
</code></pre>
<p><span style="background-color:yellow;">The</span> <span style="background-color:yellow;">second</span> <span style="background-color:yellow;">item</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">re.match</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">above</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">string</span> <span style="background-color:yellow;">--</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">why</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">working</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">regex</span> <span style="background-color:yellow;">says</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">match</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">period</span> <span style="background-color:yellow;">after</span> <span style="background-color:yellow;">google</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">instead</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">finds</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">backslash.</span> <span style="background-color:yellow;">What</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">need</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">double</span> <span style="background-color:yellow;">up</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">backslashes</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">regex</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">being</span> <span style="background-color:yellow;">used</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">regex</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>def compare_regexes(regex1, regex2):
    """returns regex2 if regex1 is 'smaller' than regex2
    returns regex1 if they are the same
    returns regex1 if regex1 is 'bigger' than regex2
    otherwise returns None"""
    regex1_mod = regex1.replace('\\', '\\\\')
    regex2_mod = regex2.replace('\\', '\\\\')
    if regex1 == regex2:
        return regex1
    if re.match(regex1_mod, regex2):
        return regex2
    if re.match(regex2_mod, regex1):
        return regex1
</code></pre>
<p><span style="background-color:yellow;">You</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">change</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">returns</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">whatever</span> <span style="background-color:yellow;">suits</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">needs</span> <span style="background-color:yellow;">best.</span> <span style="background-color:yellow;">Oh</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">make</span> <span style="background-color:yellow;">sure</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">raw</span> <span style="background-color:yellow;">strings</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">re.</span> <span style="background-color:yellow;">r'like</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">example'</span> </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">7</span> </b><br /><p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">realize</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">non-solution</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">there</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">no</span> <span style="background-color:yellow;">unambiguous</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">tell</span> <span style="background-color:yellow;">which</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">most</span> <span style="background-color:yellow;">specific</span> <span style="background-color:yellow;">match</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">certainly</span> <span style="background-color:yellow;">when</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">depends</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">what</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">users</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">meant</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">easiest</span> <span style="background-color:yellow;">thing</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">ask</span> <span style="background-color:yellow;">them</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">provide</span> <span style="background-color:yellow;">their</span> <span style="background-color:yellow;">own</span> <span style="background-color:yellow;">priority.</span> <span style="background-color:yellow;">For</span> <span style="background-color:yellow;">example</span> <span style="background-color:yellow;">just</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">putting</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">regexes</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">right</span> <span style="background-color:yellow;">order.</span> <span style="background-color:yellow;">Then</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">simply</span> <span style="background-color:yellow;">take</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">first</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">matches.</span> <span style="background-color:yellow;">If</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">expect</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">users</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">comfortable</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">regular</span> <span style="background-color:yellow;">expressions</span> <span style="background-color:yellow;">anyway</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">maybe</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">too</span> <span style="background-color:yellow;">much</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">ask</span> ? </p>
<br />