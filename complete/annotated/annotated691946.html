<h3><span style="background-color:yellow;">Question</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">ID-691946</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><h2><span style="background-color:yellow;">Short</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">useful</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">python</span> <span style="background-color:yellow;">snippets</span> </h2><p><span style="background-color:yellow;">In</span> <span style="background-color:yellow;">spirit</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">existing</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">what</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">most</span> <span style="background-color:yellow;">useful</span> <span style="background-color:yellow;">C/C</span> <span style="background-color:yellow;">+</span> <span style="background-color:yellow;">+</span> <span style="background-color:yellow;">snippet</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">-</span> <span style="background-color:yellow;">thread</span> <span style="background-color:yellow;">:</span> </p>
<p><span style="background-color:yellow;">Do</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">guys</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">short</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">monofunctional</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">snippets</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">often</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">share</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">StackOverlow</span> <span style="background-color:yellow;">Community</span> ? <span style="background-color:yellow;">Please</span> <span style="background-color:yellow;">keep</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">entries</span> <span style="background-color:yellow;">small</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">under</span> <span style="background-color:yellow;">25</span> <span style="background-color:yellow;">lines</span> <span style="background-color:yellow;">maybe</span> ? <span style="background-color:yellow;"></span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">give</span> <span style="background-color:yellow;">only</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">example</span> <span style="background-color:yellow;">per</span> <span style="background-color:yellow;">post</span> . </p>
<p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'ll</span> <span style="background-color:yellow;">start</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">short</span> <span style="background-color:yellow;">snippet</span> <span style="background-color:yellow;">i</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">time</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">time</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">count</span> <span style="background-color:yellow;">sloc</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">source</span> <span style="background-color:yellow;">lines</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">python</span> <span style="background-color:yellow;">projects</span> <span style="background-color:yellow;">:</span> </p>
<pre><code># prints recursive count of lines of python source code from current directory
# includes an ignore_list. also prints total sloc

import os
cur_path = os.getcwd()
ignore_set = set(["__init__.py", "count_sourcelines.py"])

loclist = []

for pydir, _, pyfiles in os.walk(cur_path):
    for pyfile in pyfiles:
        if pyfile.endswith(".py") and pyfile not in ignore_set:
            totalpath = os.path.join(pydir, pyfile)
            loclist.append( ( len(open(totalpath, "r").read().splitlines()),
                               totalpath.split(cur_path)[1]) )

for linenumbercount, filename in loclist: 
    print "%05d lines in %s" % (linenumbercount, filename)

print "\nTotal: %s lines (%s)" %(sum([x[0] for x in loclist]), cur_path)
</code></pre>
<br /><h3><span style="background-color:yellow;">Answers</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">Total-20</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">0</span> </b><br /><p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">any</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">generator</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>if any(pred(x.item) for x in sequence):
    ...
</code></pre>
<p><span style="background-color:yellow;">instead</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">written</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>found = False
for x in sequence:
    if pred(x.n):
        found = True
if found:
    ...
</code></pre>
<p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">first</span> <span style="background-color:yellow;">learned</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">technique</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">Peter</span> <span style="background-color:yellow;">Norvig</span> <span style="background-color:yellow;">article</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">1</span> </b><br /><p><span style="background-color:yellow;">The</span> <span style="background-color:yellow;">only</span> <span style="background-color:yellow;">'trick</span> <span style="background-color:yellow;">'</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">know</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">really</span> <span style="background-color:yellow;">wowed</span> <span style="background-color:yellow;">me</span> <span style="background-color:yellow;">when</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">learned</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">enumerate.</span> <span style="background-color:yellow;">It</span> <span style="background-color:yellow;">allows</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">access</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">indexes</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">elements</span> <span style="background-color:yellow;">within</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">loop</span> . </p>
<pre><code>>>> l = ['a','b','c','d','e','f']
>>> for (index,value) in enumerate(l):
...     print index, value
... 
0 a
1 b
2 c
3 d
4 e
5 f
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">2</span> </b><br /><p><span style="background-color:yellow;">Initializing</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">2D</span> <span style="background-color:yellow;">list</span> </p>
<p><span style="background-color:yellow;">While</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">done</span> <span style="background-color:yellow;">safely</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">initialize</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>lst = [0] * 3
</code></pre>
<p>The same trick wonâ€™t work for a 2D list (list of lists):</p>
<pre><code>>>> lst_2d = [[0] * 3] * 3
>>> lst_2d
[[0, 0, 0], [0, 0, 0], [0, 0, 0]]
>>> lst_2d[0][0] = 5
>>> lst_2d
[[5, 0, 0], [5, 0, 0], [5, 0, 0]]
</code></pre>
<p><span style="background-color:yellow;">The</span> <span style="background-color:yellow;">operator</span> <span style="background-color:yellow;">*</span> <span style="background-color:yellow;">duplicates</span> <span style="background-color:yellow;">its</span> <span style="background-color:yellow;">operands</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">duplicated</span> <span style="background-color:yellow;">lists</span> <span style="background-color:yellow;">constructed</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">[</span> <span style="background-color:yellow;">]</span> <span style="background-color:yellow;">point</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">same</span> <span style="background-color:yellow;">list.</span> <span style="background-color:yellow;">The</span> <span style="background-color:yellow;">correct</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>>>> lst_2d = [[0] * 3 for i in xrange(3)]
>>> lst_2d
[[0, 0, 0], [0, 0, 0], [0, 0, 0]]
>>> lst_2d[0][0] = 5
>>> lst_2d
[[5, 0, 0], [0, 0, 0], [0, 0, 0]]
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">3</span> </b><br /><p><span style="background-color:yellow;">zip</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">*</span> <span style="background-color:yellow;">iterable</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">transposes</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">iterable</span> . </p>
<pre><code>>>> a=[[1,2,3],[4,5,6]]
>>> zip(*a)
    [(1, 4), (2, 5), (3, 6)]
</code></pre>
<p><span style="background-color:yellow;">It</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">also</span> <span style="background-color:yellow;">useful</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">dicts</span> . </p>
<pre><code>>>> d={"a":1,"b":2,"c":3}
>>> zip(*d.iteritems())
[('a', 'c', 'b'), (1, 3, 2)]
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">4</span> </b><br /><p><span style="background-color:yellow;">To</span> <span style="background-color:yellow;">flatten</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">lists</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">such</span> <span style="background-color:yellow;">as</span> </p>
<pre><code>[['a', 'b'], ['c'], ['d', 'e', 'f']]
</code></pre>
<p><span style="background-color:yellow;">into</span> </p>
<pre><code>['a', 'b', 'c', 'd', 'e', 'f']
</code></pre>
<p><span style="background-color:yellow;">use</span> </p>
<pre><code>[inner
    for outer in the_list
        for inner in outer]
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">5</span> </b><br /><p><span style="background-color:yellow;">Huge</span> <span style="background-color:yellow;">speedup</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">nested</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">dictionaries</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>deepcopy = lambda x: cPickle.loads(cPickle.dumps(x))
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">6</span> </b><br /><p><span style="background-color:yellow;">A</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">progress</span> <span style="background-color:yellow;">bar</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">looks</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>|#############################---------------------|
59 percent done
</code></pre>
<p><span style="background-color:yellow;">Code</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>class ProgressBar():
    def __init__(self, width=50):
        self.pointer = 0
        self.width = width

    def __call__(self,x):
         # x in percent
         self.pointer = int(self.width*(x/100.0))
         return "|" + "#"*self.pointer + "-"*(self.width-self.pointer)+\
                "|\n %d percent done" % int(x) 
</code></pre>
<p><span style="background-color:yellow;">Test</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">windows</span> <span style="background-color:yellow;">system</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">change</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">clear</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">into</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">CLS</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </p>
<pre><code>if __name__ == '__main__':
    import time, os
    pb = ProgressBar()
    for i in range(101):
        os.system('clear')
        print pb(i)
        time.sleep(0.1)
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">7</span> </b><br /><p><span style="background-color:yellow;">Suppose</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">items</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">want</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">dictionary</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">these</span> <span style="background-color:yellow;">items</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">keys.</span> <span style="background-color:yellow;">Use</span> <span style="background-color:yellow;">fromkeys</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>>>> items = ['a', 'b', 'c', 'd']
>>> idict = dict().fromkeys(items, 0)
>>> idict
{'a': 0, 'c': 0, 'b': 0, 'd': 0}
>>>
</code></pre>
<p><span style="background-color:yellow;">The</span> <span style="background-color:yellow;">second</span> <span style="background-color:yellow;">argument</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">fromkeys</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">value</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">granted</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">all</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">newly</span> <span style="background-color:yellow;">created</span> <span style="background-color:yellow;">keys</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">8</span> </b><br /><p><span style="background-color:yellow;">To</span> <span style="background-color:yellow;">find</span> <span style="background-color:yellow;">out</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">line</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">empty</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">i.e.</span> <span style="background-color:yellow;">either</span> <span style="background-color:yellow;">size</span> <span style="background-color:yellow;">0</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">contains</span> <span style="background-color:yellow;">only</span> <span style="background-color:yellow;">whitespace</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">string</span> <span style="background-color:yellow;">method</span> <span style="background-color:yellow;">strip</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">condition</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">follows</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>if not line.strip():    # if line is empty
    continue            # skip it
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">9</span> </b><br /><p><span style="background-color:yellow;">Hardlink</span> <span style="background-color:yellow;">identical</span> <span style="background-color:yellow;">files</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">current</span> <span style="background-color:yellow;">directory</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">unix</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">means</span> <span style="background-color:yellow;">they</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">share</span> <span style="background-color:yellow;">physical</span> <span style="background-color:yellow;">storage</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">meaning</span> <span style="background-color:yellow;">much</span> <span style="background-color:yellow;">less</span> <span style="background-color:yellow;">space</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </p>
<pre><code>import os
import hashlib

dupes = {}

for path, dirs, files in os.walk(os.getcwd()):
    for file in files:
        filename = os.path.join(path, file)
        hash = hashlib.sha1(open(filename).read()).hexdigest()
        if hash in dupes:
            print 'linking "%s" -> "%s"' % (dupes[hash], filename)
            os.rename(filename, filename + '.bak')
            try:
                os.link(dupes[hash], filename)
                os.unlink(filename + '.bak')
            except:
                os.rename(filename + '.bak', filename)
            finally:
        else:
            dupes[hash] = filename
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">10</span> </b><br /><p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">zip</span> <span style="background-color:yellow;">everything</span> <span style="background-color:yellow;">up</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">directory.</span> <span style="background-color:yellow;">Hotkey</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">instabackups</span> <span style="background-color:yellow;">!</span> </p>
<pre><code>import zipfile

z = zipfile.ZipFile('my-archive.zip', 'w', zipfile.ZIP_DEFLATED)
startdir = "/home/johnf"
for dirpath, dirnames, filenames in os.walk(startdir):
  for filename in filenames:
    z.write(os.path.join(dirpath, filename))
z.close()
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">11</span> </b><br /><p><span style="background-color:yellow;">For</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">comprehensions</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">need</span> <span style="background-color:yellow;">current</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">next</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>[fun(curr,next) 
 for curr,next 
 in zip(list,list[1:].append(None)) 
 if condition(curr,next)]
</code></pre>
<p><span style="background-color:yellow;">For</span> <span style="background-color:yellow;">circular</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">zip</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">list,list</span> <span style="background-color:yellow;">[</span> <span style="background-color:yellow;">1</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">]</span> <span style="background-color:yellow;">.append</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">[</span> <span style="background-color:yellow;">0</span> <span style="background-color:yellow;">]</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> . </p>
<p><span style="background-color:yellow;">For</span> <span style="background-color:yellow;">previous</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">current</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">zip</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">[</span> <span style="background-color:yellow;">None</span> <span style="background-color:yellow;">]</span> <span style="background-color:yellow;">.extend</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">[</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">-1</span> <span style="background-color:yellow;">]</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">,list</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">circular</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">zip</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">[</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">[</span> <span style="background-color:yellow;">-1</span> <span style="background-color:yellow;">]</span> <span style="background-color:yellow;">]</span> <span style="background-color:yellow;">.extend</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">[</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">-1</span> <span style="background-color:yellow;">]</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">,list</span> <span style="background-color:yellow;"></span> </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">12</span> </b><br /><p><span style="background-color:yellow;">Here</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">few</span> <span style="background-color:yellow;">which</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">think</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">worth</span> <span style="background-color:yellow;">knowing</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">might</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">useful</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">everyday</span> <span style="background-color:yellow;">basis</span> . <span style="background-color:yellow;">Most</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">them</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">liners</span> . </p>
<p><span style="background-color:yellow;">Removing</span> <span style="background-color:yellow;">Duplicates</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">List</span> </p>
<pre><code>L = list(set(L))
</code></pre>
<p><span style="background-color:yellow;">Getting</span> <span style="background-color:yellow;">Integers</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">string</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">space</span> <span style="background-color:yellow;">seperated</span> <span style="background-color:yellow;"></span> </p>
<pre><code>ints = [int(x) for x in S.split()]
</code></pre>
<p><span style="background-color:yellow;">Finding</span> <span style="background-color:yellow;">Factorial</span> </p>
<pre><code>fac=lambda(n):reduce(int.__mul__,range(1,n+1),1)
</code></pre>
<p><span style="background-color:yellow;">Finding</span> <span style="background-color:yellow;">greatest</span> <span style="background-color:yellow;">common</span> <span style="background-color:yellow;">divisor</span> </p>
<pre><code>>>> def gcd(a,b):
...     while(b):a,b=b,a%b
...     return a
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">13</span> </b><br /><p><span style="background-color:yellow;">For</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">2.4</span> <span style="background-color:yellow;">+</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">earlier</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>for x,y in someIterator:
  listDict.setdefault(x,[]).append(y)
</code></pre>
<p><span style="background-color:yellow;">In</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">2.5</span> <span style="background-color:yellow;">+</span> <span style="background-color:yellow;">there</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">alternative</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">defaultdict</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">14</span> </b><br /><p><span style="background-color:yellow;">A</span> <span style="background-color:yellow;">custom</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">when</span> <span style="background-color:yellow;">multiplied</span> <span style="background-color:yellow;">by</span> <span style="background-color:yellow;">other</span> <span style="background-color:yellow;">list</span> <span style="background-color:yellow;">returns</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">cartesian</span> <span style="background-color:yellow;">product...</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">good</span> <span style="background-color:yellow;">thing</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">cartesian</span> <span style="background-color:yellow;">product</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">indexable</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">itertools.product</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">multiplicands</span> <span style="background-color:yellow;">must</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">sequences</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">iterators</span> <span style="background-color:yellow;"></span> . </p>
<pre><code>import operator

class mylist(list):
    def __getitem__(self, args):
    	if type(args) is tuple:
    		return [list.__getitem__(self, i) for i in args]
    	else:
    		return list.__getitem__(self, args)
    def __mul__(self, args):
    	seqattrs = ("__getitem__", "__iter__", "__len__")
    	if all(hasattr(args, i) for i in seqattrs):
    		return cartesian_product(self, args)
    	else:
    		return list.__mul__(self, args)
    def __imul__(self, args):
    	return __mul__(self, args)
    def __rmul__(self, args):
    	return __mul__(args, self)
    def __pow__(self, n):
    	return cartesian_product(*((self,)*n))
    def __rpow__(self, n):
    	return cartesian_product(*((self,)*n))

class cartesian_product:
    def __init__(self, *args):
    	self.elements = args
    def __len__(self):
    	return reduce(operator.mul, map(len, self.elements))
    def __getitem__(self, n):
    	return [e[i] for e, i  in zip(self.elements,self.get_indices(n))]
    def get_indices(self, n):
    	sizes = map(len, self.elements)
    	tmp = [0]*len(sizes)
    	i = -1
    	for w in reversed(sizes):
    		tmp[i] = n % w
    		n /= w
    		i -= 1
    	return tmp
    def __add__(self, arg):
    	return mylist(map(None, self)+mylist(map(None, arg)))
    def __imul__(self, args):
    	return mylist(self)*mylist(args)
    def __rmul__(self, args):
    	return mylist(args)*mylist(self)
    def __mul__(self, args):
    	if isinstance(args, cartesian_product):
    		return cartesian_product(*(self.elements+args.elements))
    	else:
    		return cartesian_product(*(self.elements+(args,)))
    def __iter__(self):
    	for i in xrange(len(self)):
    		yield self[i]
    def __str__(self):
    	return "[" + ",".join(str(i) for i in self) +"]"
    def __repr__(self):
    	return "*".join(map(repr, self.elements))
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">15</span> </b><br /><p><span style="background-color:yellow;">Emulating</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">switch</span> <span style="background-color:yellow;">statement.</span> <span style="background-color:yellow;">For</span> <span style="background-color:yellow;">example</span> <span style="background-color:yellow;">switch</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">x</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">{</span> <span style="background-color:yellow;">..</span> <span style="background-color:yellow;">}</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>def a():
  print "a"

def b():
  print "b"

def default():
   print "default"

apply({1:a, 2:b}.get(x, default))
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">16</span> </b><br /><ul><span style="background-color:yellow;">like</span> <span style="background-color:yellow;">another</span> <span style="background-color:yellow;">person</span> <span style="background-color:yellow;">above</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">said</span> <span style="background-color:yellow;">'Wooww</span> <span style="background-color:yellow;">!</span> <span style="background-color:yellow;">!</span> <span style="background-color:yellow;">'</span> <span style="background-color:yellow;">when</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">discovered</span> <span style="background-color:yellow;">enumerate</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">sang</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">praise</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">when</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">discovered</span> <span style="background-color:yellow;">repr</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">gave</span> <span style="background-color:yellow;">me</span> <span style="background-color:yellow;">possibility</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">see</span> <span style="background-color:yellow;">precisely</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">content</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">strings</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">wanted</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">analyse</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">regex</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">was</span> <span style="background-color:yellow;">very</span> <span style="background-color:yellow;">satisfied</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">discover</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">print</span> <span style="background-color:yellow;">'</span> <span style="background-color:yellow;">\</span> <span style="background-color:yellow;">n'.join</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">list_of_strings</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">displayed</span> <span style="background-color:yellow;">much</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">rapidly</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">'</span> <span style="background-color:yellow;">\</span> <span style="background-color:yellow;">n'.join</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">...</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">ch</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">list_of_strings</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">print</span> <span style="background-color:yellow;">ch</span> <span style="background-color:yellow;">splitlines</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">1</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">argument</span> <span style="background-color:yellow;">keeps</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">newlines</span> </ul>
<p><span style="background-color:yellow;">These</span> <span style="background-color:yellow;">four</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">tricks</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">combined</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">snippet</span> <span style="background-color:yellow;">very</span> <span style="background-color:yellow;">useful</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">rapidly</span> <span style="background-color:yellow;">display</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">source</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">web</span> <span style="background-color:yellow;">page</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">line</span> <span style="background-color:yellow;">after</span> <span style="background-color:yellow;">line</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">each</span> <span style="background-color:yellow;">line</span> <span style="background-color:yellow;">being</span> <span style="background-color:yellow;">numbered</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">all</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">special</span> <span style="background-color:yellow;">characters</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">'</span> <span style="background-color:yellow;">\</span> <span style="background-color:yellow;">t</span> <span style="background-color:yellow;">'</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">newlines</span> <span style="background-color:yellow;">being</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">interpreted</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">newlines</span> <span style="background-color:yellow;">present</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>import urllib
from time import clock,sleep

sock = urllib.urlopen('http://docs.python.org/')
ch = sock.read()
sock.close()


te = clock()
for i,line in enumerate(ch.splitlines(1)):
    print str(i) + ' ' + repr(line)
t1 = clock() - te


print "\n\nIn 3 seconds, I will print the same content, using '\\n'.join(....)\n" 

sleep(3)

te = clock()
# here's the point of interest:
print '\n'.join(str(i) + ' ' + repr(line)
                for i,line in enumerate(ch.splitlines(1)) )
t2 = clock() - te

print '\n'
print 'first  display took',t1,'seconds'
print 'second display took',t2,'seconds'
</code></pre>
<p><span style="background-color:yellow;">With</span> <span style="background-color:yellow;">my</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">very</span> <span style="background-color:yellow;">fast</span> <span style="background-color:yellow;">computer</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">got</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>first  display took 4.94626048841 seconds
second display took 0.109297410704 seconds
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">17</span> </b><br /><pre><code>import tempfile
import cPickle

class DiskFifo:
    """A disk based FIFO which can be iterated, appended and extended in an interleaved way"""
    def __init__(self):
        self.fd = tempfile.TemporaryFile()
        self.wpos = 0
        self.rpos = 0
        self.pickler = cPickle.Pickler(self.fd)
        self.unpickler = cPickle.Unpickler(self.fd)
        self.size = 0

    def __len__(self):
        return self.size

    def extend(self, sequence):
        map(self.append, sequence)

    def append(self, x):
        self.fd.seek(self.wpos)
        self.pickler.clear_memo()
        self.pickler.dump(x)
        self.wpos = self.fd.tell()
        self.size = self.size + 1

    def next(self):
        try:
            self.fd.seek(self.rpos)
            x = self.unpickler.load()
            self.rpos = self.fd.tell()
            return x

        except EOFError:
            raise StopIteration

    def __iter__(self):
        self.rpos = 0
        return self
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">18</span> </b><br /><p><span style="background-color:yellow;">Fire</span> <span style="background-color:yellow;">up</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">simple</span> <span style="background-color:yellow;">web</span> <span style="background-color:yellow;">server</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">files</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">current</span> <span style="background-color:yellow;">directory</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>python -m SimpleHTTPServer
</code></pre>
<p><span style="background-color:yellow;">Useful</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">sharing</span> <span style="background-color:yellow;">files</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">19</span> </b><br /><p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">actually</span> <span style="background-color:yellow;">just</span> <span style="background-color:yellow;">created</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">think</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">going</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">very</span> <span style="background-color:yellow;">useful</span> <span style="background-color:yellow;">debugging</span> <span style="background-color:yellow;">tool</span> . </p>
<pre><code>def dirValues(instance):
    retVal = {}
    for prop in dir(instance):
        if prop[1] == "_":
            continue
        retVal[prop] = getattr(instance, prop)
    return retVal
</code></pre>
<p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">usually</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">dir</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">pdb</span> <span style="background-color:yellow;">context</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">think</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">much</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">useful</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>(pdb) from pprint import pprint as pp
(pdb) from myUtils import dirValues
(pdb) pp(dirValues(someInstance))
</code></pre>
<br />