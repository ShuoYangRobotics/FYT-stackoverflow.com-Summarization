<h3><span style="background-color:yellow;">Question</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">ID-249785</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><h2><span style="background-color:yellow;">OS</span> <span style="background-color:yellow;">X</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">Determine</span> <span style="background-color:yellow;">Trash</span> <span style="background-color:yellow;">location</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">given</span> <span style="background-color:yellow;">path</span> </h2><p><span style="background-color:yellow;">Simply</span> <span style="background-color:yellow;">moving</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">~</span> <span style="background-color:yellow;">/.Trash/</span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">work</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">os</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">an</span> <span style="background-color:yellow;">external</span> <span style="background-color:yellow;">drive</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">move</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">main</span> <span style="background-color:yellow;">system</span> <span style="background-color:yellow;">drive.</span> . </p>
<p><span style="background-color:yellow;">Also</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">there</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">other</span> <span style="background-color:yellow;">conditions</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">files</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">external</span> <span style="background-color:yellow;">drives</span> <span style="background-color:yellow;">get</span> <span style="background-color:yellow;">moved</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">/Volumes/.Trash/501/</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">whatever</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">current</span> <span style="background-color:yellow;">user</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">ID</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;"></span> </p>
<p><span style="background-color:yellow;">Given</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">folder</span> <span style="background-color:yellow;">path</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">what</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">correct</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">determine</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">trash</span> <span style="background-color:yellow;">folder</span> ? <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">imagine</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">language</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">pretty</span> <span style="background-color:yellow;">irrelevant</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">intend</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">Python</span> </p>
<br /><h3><span style="background-color:yellow;">Answers</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">Total-6</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">0</span> </b><br /><p><span style="background-color:yellow;">Alternatively</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">'re</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">OS</span> <span style="background-color:yellow;">X</span> <span style="background-color:yellow;">10.5</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">could</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">Scripting</span> <span style="background-color:yellow;">Bridge</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">delete</span> <span style="background-color:yellow;">files</span> <span style="background-color:yellow;">via</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">Finder.</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'ve</span> <span style="background-color:yellow;">done</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">Ruby</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">here</span> <span style="background-color:yellow;">via</span> <span style="background-color:yellow;">RubyCocoa.</span> <span style="background-color:yellow;">The</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">gist</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>url = NSURL.fileURLWithPath(path)
finder = SBApplication.applicationWithBundleIdentifier("com.apple.Finder")
item = finder.items.objectAtLocation(url)
item.delete
</code></pre>
<p><span style="background-color:yellow;">You</span> <span style="background-color:yellow;">could</span> <span style="background-color:yellow;">easily</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">something</span> <span style="background-color:yellow;">similar</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">PyObjC</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">1</span> </b><br /><p><span style="background-color:yellow;">Based</span> <span style="background-color:yellow;">upon</span> <span style="background-color:yellow;">code</span> <span style="background-color:yellow;">from</span> <span style="background-color:yellow;">http</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">//www.cocoadev.com/index.pl</span> ? <span style="background-color:yellow;">MoveToTrash</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">came</span> <span style="background-color:yellow;">up</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">following</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>def get_trash_path(input_file):
    path, file = os.path.split(input_file)
    if path.startswith("/Volumes/"):
        # /Volumes/driveName/.Trashes/<uid>
        s = path.split(os.path.sep)
        # s[2] is drive name ([0] is empty, [1] is Volumes)
        trash_path = os.path.join("/Volumes", s[2], ".Trashes", str(os.getuid()))
        if not os.path.isdir(trash_path):
            raise IOError("Volume appears to be a network drive (%s could not be found)" % (trash_path))
    else:
        trash_path = os.path.join(os.getenv("HOME"), ".Trash")
    return trash_path
</code></pre>
<p><span style="background-color:yellow;">Fairly</span> <span style="background-color:yellow;">basic</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">there</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">few</span> <span style="background-color:yellow;">things</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">done</span> <span style="background-color:yellow;">seperatly</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">particularly</span> <span style="background-color:yellow;">checking</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">filename</span> <span style="background-color:yellow;">already</span> <span style="background-color:yellow;">exist</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">trash</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">avoid</span> <span style="background-color:yellow;">overwriting</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">actual</span> <span style="background-color:yellow;">moving</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">trash</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">seems</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">cover</span> <span style="background-color:yellow;">most</span> <span style="background-color:yellow;">things</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">internal</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">external</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">network</span> <span style="background-color:yellow;">drives</span> <span style="background-color:yellow;"></span> </p>
<p><span style="background-color:yellow;">Update</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">wanted</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">trash</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">file</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">script</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">re-implemented</span> <span style="background-color:yellow;">Dave</span> <span style="background-color:yellow;">Dribin</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">solution</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>from AppKit import NSURL
from ScriptingBridge import SBApplication

def trashPath(path):
    """Trashes a path using the Finder, via OS X's Scripting Bridge.
    """
    targetfile = NSURL.fileURLWithPath_(path)
    finder = SBApplication.applicationWithBundleIdentifier_("com.apple.Finder")
    items = finder.items().objectAtLocation_(targetfile)
    items.delete()
</code></pre>
<p><span style="background-color:yellow;">Usage</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">simple</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>trashPath("/tmp/examplefile")
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">2</span> </b><br /><p><span style="background-color:yellow;">The</span> <span style="background-color:yellow;">File</span> <span style="background-color:yellow;">Manager</span> <span style="background-color:yellow;">API</span> <span style="background-color:yellow;">has</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">pair</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">functions</span> <span style="background-color:yellow;">called</span> <span style="background-color:yellow;">FSMoveObjectToTrashAsync</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">FSPathMoveObjectToTrashSync</span> . </p>
<p><span style="background-color:yellow;">Not</span> <span style="background-color:yellow;">sure</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">exposed</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">or</span> <span style="background-color:yellow;">not</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">3</span> </b><br /><p><span style="background-color:yellow;">A</span> <span style="background-color:yellow;">better</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">NSWorkspaceRecycleOperation</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">which</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">operations</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">with</span> <span style="background-color:yellow;">-</span> <span style="background-color:yellow;">[</span> <span style="background-color:yellow;">NSWorkspace</span> <span style="background-color:yellow;">performFileOperation</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">source</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">destination</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">files</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">tag</span> <span style="background-color:yellow;">:</span> <span style="background-color:yellow;">]</span> . <span style="background-color:yellow;">The</span> <span style="background-color:yellow;">constant</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">name</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">another</span> <span style="background-color:yellow;">artifact</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">Cocoa</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">NeXT</span> <span style="background-color:yellow;">heritage</span> <span style="background-color:yellow;">;</span> <span style="background-color:yellow;">its</span> <span style="background-color:yellow;">function</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">move</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">item</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">Trash</span> . </p>
<p><span style="background-color:yellow;">Since</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">part</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">Cocoa</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">should</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">available</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">both</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">Ruby</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">4</span> </b><br /><p><span style="background-color:yellow;">Another</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">ruby</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>Appscript.app('Finder').items[MacTypes::Alias.path(path)].delete
</code></pre>
<p><span style="background-color:yellow;">You</span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">need</span> <span style="background-color:yellow;">rb-appscript</span> <span style="background-color:yellow;">gem</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">read</span> <span style="background-color:yellow;">about</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">here</span> </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">5</span> </b><br /><p><span style="background-color:yellow;">In</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">without</span> <span style="background-color:yellow;">using</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">scripting</span> <span style="background-color:yellow;">bridge</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>from AppKit import NSWorkspace, NSWorkspaceRecycleOperation

source = "path holding files"
files = ["file1", "file2"]

ws = NSWorkspace.sharedWorkspace()
ws.performFileOperation_source_destination_files_tag_(NSWorkspaceRecycleOperation, source, "", files, None)
</code></pre>
<br />