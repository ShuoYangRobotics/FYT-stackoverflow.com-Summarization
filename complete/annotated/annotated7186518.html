<h3>Question ( ID-7186518 ) : </h3><h2>Function with varying <span style="background-color:yellow;">number</span> of For Loops ( python ) </h2><p>My problem is difficult to explain . </p>
<p>I want to create a <span style="background-color:yellow;">function</span> that contains <span style="background-color:yellow;">nested</span> for loops , the amount of which is proportional to an argument passed to the <span style="background-color:yellow;">function</span> . </p>
<p>Here 's a hypothetical example : </p>
<pre><code>Function(2)
</code></pre>
<p>...would involve.. . </p>
<pre><code>for x in range (y):
    for x in range (y):
        do_whatever()
</code></pre>
<p>Another example.. . </p>
<pre><code>  Function(6)
</code></pre>
<p>...would involve.. . </p>
<pre><code>for x in range (y):
    for x in range (y):
        for x in range (y):
            for x in range (y):
                for x in range (y):
                    for x in range (y):
                        whatever()
</code></pre>
<p>The variables of the for loop ( <span style="background-color:yellow;">y</span> ) are NOT actually used in the <span style="background-color:yellow;">nested</span> code . </p>
<p>Your first thought might be to create ONE for loop , with a <span style="background-color:yellow;">range</span> that is to the power of the <span style="background-color:yellow;">number</span> argument.. . THIS CAN NOT WORK because the product would be HUGE. I have instances required where there are 8 <span style="background-color:yellow;">nested</span> for loops . The product is too large for a <span style="background-color:yellow;">range</span> in a for loop . </p>
<p>There are other arguments <span style="background-color:yellow;">needed</span> to be passed to the <span style="background-color:yellow;">function</span> , but I can handle that myself . </p>
<p>Here 's the code ( it creates the Snowflake Fractal ) </p>
<pre><code>from turtle import *
length = 800
speed(0)

def Mini(length):
    for x in range (3):
        forward(length)
        right(60)

penup()
setpos(-500, 0)
pendown()   

choice = input("Enter Complexity:")

if choice == 1:
    for x in range (3):
        forward(length)
        left(120)

elif choice == 2:
    for x in range (3):
        Mini(length/3)
        left(120)

if choice == 3:
    for x in range (6):
        Mini(length/9)
        right(60)
        Mini(length/9)
        left(120)

if choice == 4:
    for y in range (6):
        for x in range (2):
            Mini(length/27)
            right(60)
            Mini(length/27)
            left(120)
        right(180)
        for x in range (2):
            Mini(length/27)
            right(60)
            Mini(length/27)
            left(120)

if choice == 5:
    for a in range (6):
        for z in range (2):
            for y in range (2):
                for x in range (2):
                    Mini(length/81)
                    right(60)
                    Mini(length/81)
                    left(120)
                right(180)
                for x in range (2):
                    Mini(length/81)
                    right(60)
                    Mini(length/81)
                    left(120)
            right(180)
        right(180)

if choice == 6:
    for c in range (6):
        for b in range (2):
            for a in range (2):
                for z in range (2):
                    for y in range (2):
                        for x in range (2):
                            Mini(length/243)
                            right(60)
                            Mini(length/243)
                            left(120)
                        right(180)
                        for x in range (2):
                            Mini(length/243)
                            right(60)
                            Mini(length/243)
                            left(120)
                    right(180)
                right(180)
            right(180)
        right(180)

if choice == 7:
    for a in range (6):
        for b in range(2):
            for c in range (2):
                for d in range (2):
                    for e in range (2):
                        for f in range (2):
                            for y in range (2):
                                for x in range (2):
                                    Mini(length/729)
                                    right(60)
                                    Mini(length/729)
                                    left(120)
                                right(180)
                                for x in range (2):
                                    Mini(length/729)
                                    right(60)
                                    Mini(length/729)
                                    left(120)
                            right(180)
                        right(180)
                    right(180)
                right(180)
            right(180)
        right(180)
</code></pre>
<p>I 'd appreciate any help <span style="background-color:yellow;">you</span> can give me at all , though if <span style="background-color:yellow;">you</span> suggest a different method ( such as recursion ) , please do <span style="background-color:yellow;">n't</span> just paste the code ; instead , suggests some ideas that could put me in the right direction . </p>
<p>( The algorithm is for a Specialist Math Assignment ) </p>
<hr />
<p>specs : Python <span style="background-color:yellow;">2.7.1</span> Turtle IDLE Windows7 </p>
<br /><h3>Answers ( Total-6 ) : </h3><b># <span style="background-color:yellow;">0</span> </b><br /><p>Recursion will be <span style="background-color:yellow;">your</span> best bet. Consider what it should do in the base case and in the recursive case . </p>
<p>Code left out , as per request . </p>
<br /><b># 1 </b><br /><p>This problem can be solved by recursion. I am just writing an algorithm here , since I believe this can be a general problem . </p>
<pre><code>function Recurse (y, number) 
   if (number > 1)
      Recurse ( y, number - 1 )
   else
      for x in range (y)
      whatever()
</code></pre>
<br /><b># <span style="background-color:yellow;">2</span> </b><br /><p>this can be done without recursion using <span style="background-color:yellow;">itertools.product</span> </p>
<pre><code>import itertools
def function(n):
    for x in itertools.product(range(n),repeat=n):
        whatever()
</code></pre>
<br /><b># <span style="background-color:yellow;">3</span> </b><br /><p>I 'm <span style="background-color:yellow;">not</span> clear why <span style="background-color:yellow;">you</span> ca <span style="background-color:yellow;">n't</span> use the product of the bounds and do </p>
<pre><code>for x in range(y exp n)
</code></pre>
<p>where <span style="background-color:yellow;">n</span> is the # of loops.... You say <span style="background-color:yellow;">y</span> exp <span style="background-color:yellow;">n</span> will be huge , but I 'm sure python can handle it . </p>
<p>However , that being said , what about some sort of recursive algorithm ? </p>
<pre><code>def loop_rec(y, n):
    if n >= 1:
        for x in range(y):
            loop_rec(y, n - 1)
    else:
       whatever()
</code></pre>
<br /><b># 4 </b><br /><p>Here <span style="background-color:yellow;">you</span> go. Let <span style="background-color:yellow;">ranges</span> be <span style="background-color:yellow;">your</span> <span style="background-color:yellow;">ranges</span> , operate on <span style="background-color:yellow;">result</span> when <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">need</span> to . </p>
<pre><code>ranges=((1,4),(0,3),(3,6))
from operator import mul
operations=reduce(mul,(p[1]-p[0] for p in ranges))-1
result=[i[0] for i in ranges]
pos=len(ranges)-1
increments=0
print result
while increments < operations:
    if result[pos]==ranges[pos][1]-1:
        result[pos]=ranges[pos][0]
        pos-=1
    else:
        result[pos]+=1
        increments+=1
        pos=len(ranges)-1 #increment the innermost loop
        print result

[1, 0, 3]
[1, 0, 4]
[1, 0, 5]
[1, 1, 3]
[1, 1, 4]
[1, 1, 5]
[1, 2, 3]
[1, 2, 4]
[1, 2, 5]
[2, 0, 3]
[2, 0, 4]
[2, 0, 5]
[2, 1, 3]
[2, 1, 4]
[2, 1, 5]
[2, 2, 3]
[2, 2, 4]
[2, 2, 5]
[3, 0, 3]
[3, 0, 4]
[3, 0, 5]
[3, 1, 3]
[3, 1, 4]
[3, 1, 5]
[3, 2, 3]
[3, 2, 4]
[3, 2, 5]
[1, 0, 4]
</code></pre>
<p>Testing with the following would give the same <span style="background-color:yellow;">result</span> : </p>
<pre><code>for x in range(*ranges[0]):
    for y in range(*ranges[1]):
        for z in range(*ranges[2]):
            print [x,y,z]
</code></pre>
<br /><b># 5 </b><br /><p>Have <span style="background-color:yellow;">you</span> considered <span style="background-color:yellow;">xrange</span> ? </p>
<pre><code>for x in xrange(y ** n):
    whatever()
</code></pre>
<p>And if <span style="background-color:yellow;">you</span> overshoot even <span style="background-color:yellow;">xrange</span> limit , <span style="background-color:yellow;">you</span> can use itertool </p>
<pre><code>import itertools
for x in itertools.product(xrange(y), repeat=n):
   whatever()
</code></pre>
<p>( previous itertool answer incorrectly used <span style="background-color:yellow;">n</span> for the <span style="background-color:yellow;">range</span> instead of <span style="background-color:yellow;">y</span> ) </p>
<br />