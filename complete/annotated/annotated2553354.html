<h3><span style="background-color:yellow;">Question</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">ID-2553354</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><h2><span style="background-color:yellow;">How</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">get</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">variable</span> <span style="background-color:yellow;">name</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">string</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">Python</span> ? </h2><p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">able</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">get</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">name</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">variable</span> <span style="background-color:yellow;">as</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">string</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">know</span> <span style="background-color:yellow;">if</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">has</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">much</span> <span style="background-color:yellow;">introspection</span> <span style="background-color:yellow;">capabilities.</span> <span style="background-color:yellow;">Something</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>>>> print(my_var.__name__)
'my_var'
</code></pre>
<p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">want</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">because</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">bunch</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">vars</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'d</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">turn</span> <span style="background-color:yellow;">into</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">dictionary</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>bar=True
foo=False
>>> my_dict=dict(bar=bar, foo=foo)
>>> print mydict
>>> print my_dict 
{'foo': False, 'bar': True}
</code></pre>
<p><span style="background-color:yellow;">But</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'d</span> <span style="background-color:yellow;">like</span> <span style="background-color:yellow;">something</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">automatic</span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">that</span> . </p>
<p><span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">locals</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">vars</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">so</span> <span style="background-color:yellow;">I</span> <span style="background-color:yellow;">guess</span> <span style="background-color:yellow;">there</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">way</span> . </p>
<br /><h3><span style="background-color:yellow;">Answers</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">Total-6</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">:</span> </h3><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">0</span> </b><br /><p><span style="background-color:yellow;">Are</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">trying</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">this</span> ? </p>
<pre><code>dict( (name,eval(name)) for name in ['some','list','of','vars'] )
</code></pre>
<p><span style="background-color:yellow;">Example</span> </p>
<pre><code>>>> some= 1
>>> list= 2
>>> of= 3
>>> vars= 4
>>> dict( (name,eval(name)) for name in ['some','list','of','vars'] )
{'list': 2, 'some': 1, 'vars': 4, 'of': 3}
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">1</span> </b><br /><p><span style="background-color:yellow;">As</span> <span style="background-color:yellow;">unwind</span> <span style="background-color:yellow;">said</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">really</span> <span style="background-color:yellow;">something</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">-</span> <span style="background-color:yellow;">variables</span> <span style="background-color:yellow;">are</span> <span style="background-color:yellow;">actually</span> <span style="background-color:yellow;">name</span> <span style="background-color:yellow;">mappings</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">objects</span> . </p>
<p><span style="background-color:yellow;">However</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">here</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">way</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">try</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">:</span> </p>
<pre><code> >>> a = 1
 >>> for k, v in list(locals().iteritems()):
         if id(v) == id(a):
             a_as_str = k
 >>> a_as_str
 a
 >>> type(a_as_str)
 'str'
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">2</span> </b><br /><p><span style="background-color:yellow;">This</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">possible</span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">which</span> <span style="background-color:yellow;">really</span> <span style="background-color:yellow;">does</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">variables</span> <span style="background-color:yellow;">"</span> . <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">has</span> <span style="background-color:yellow;">names</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">there</span> <span style="background-color:yellow;">can</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">one</span> <span style="background-color:yellow;">name</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">same</span> <span style="background-color:yellow;">object</span> . </p>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">3</span> </b><br /><p><span style="background-color:yellow;">Most</span> <span style="background-color:yellow;">objects</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">n't</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">__name__</span> <span style="background-color:yellow;">attribute.</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">Classes</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">functions</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">modules</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">;</span> <span style="background-color:yellow;">any</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">builtin</span> <span style="background-color:yellow;">types</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">one</span> ? <span style="background-color:yellow;"></span> </p>
<p><span style="background-color:yellow;">What</span> <span style="background-color:yellow;">else</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">expect</span> <span style="background-color:yellow;">for</span> <span style="background-color:yellow;">print</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">my_var.__name__</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">other</span> <span style="background-color:yellow;">than</span> <span style="background-color:yellow;">print</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">my_var</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;"></span> ? <span style="background-color:yellow;">Can</span> <span style="background-color:yellow;">you</span> <span style="background-color:yellow;">simply</span> <span style="background-color:yellow;">use</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">string</span> <span style="background-color:yellow;">directly</span> ? </p>
<p><span style="background-color:yellow;">You</span> <span style="background-color:yellow;">could</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">slice</span> <span style="background-color:yellow;">"</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">dict</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>def dict_slice(D, keys, default=None):
  return dict((k, D.get(k, default)) for k in keys)

print dict_slice(locals(), ["foo", "bar"])
# or use set literal syntax if you have a recent enough version:
print dict_slice(locals(), {"foo", "bar"})
</code></pre>
<p><span style="background-color:yellow;">Alternatively</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>throw = object()  # sentinel
def dict_slice(D, keys, default=throw):
  def get(k):
    v = D.get(k, throw)
    if v is not throw:
      return v
    if default is throw:
      raise KeyError(k)
    return default
  return dict((k, get(k)) for k in keys)
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">4</span> </b><br /><p><span style="background-color:yellow;">This</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">hack.</span> <span style="background-color:yellow;">It</span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">work</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">all</span> <span style="background-color:yellow;">Python</span> <span style="background-color:yellow;">implementations</span> <span style="background-color:yellow;">distributions</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">in</span> <span style="background-color:yellow;">particular</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">those</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">have</span> <span style="background-color:yellow;">traceback.extract_stack</span> . <span style="background-color:yellow;"></span> </p>
<pre><code>import traceback

def make_dict(*expr):
    (filename,line_number,function_name,text)=traceback.extract_stack()[-2]
    begin=text.find('make_dict(')+len('make_dict(')
    end=text.find(')',begin)
    text=[name.strip() for name in text[begin:end].split(',')]
    return dict(zip(text,expr))

bar=True
foo=False
print(make_dict(bar,foo))
# {'foo': False, 'bar': True}
</code></pre>
<p><span style="background-color:yellow;">Note</span> <span style="background-color:yellow;">that</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">hack</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">fragile</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>make_dict(bar,
          foo)
</code></pre>
<p><span style="background-color:yellow;"></span> <span style="background-color:yellow;">calling</span> <span style="background-color:yellow;">make_dict</span> <span style="background-color:yellow;">on</span> <span style="background-color:yellow;">2</span> <span style="background-color:yellow;">lines</span> <span style="background-color:yellow;"></span> <span style="background-color:yellow;">will</span> <span style="background-color:yellow;">not</span> <span style="background-color:yellow;">work</span> . </p>
<p><span style="background-color:yellow;">Instead</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">trying</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">generate</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">dict</span> <span style="background-color:yellow;">out</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">values</span> <span style="background-color:yellow;">foo</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">bar</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">would</span> <span style="background-color:yellow;">be</span> <span style="background-color:yellow;">much</span> <span style="background-color:yellow;">more</span> <span style="background-color:yellow;">Pythonic</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">generate</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">dict</span> <span style="background-color:yellow;">out</span> <span style="background-color:yellow;">of</span> <span style="background-color:yellow;">the</span> <span style="background-color:yellow;">string</span> <span style="background-color:yellow;">variable</span> <span style="background-color:yellow;">names</span> <span style="background-color:yellow;">'foo</span> <span style="background-color:yellow;">'</span> <span style="background-color:yellow;">and</span> <span style="background-color:yellow;">'bar</span> <span style="background-color:yellow;">'</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>dict([(name,locals()[name]) for name in ('foo','bar')])
</code></pre>
<br /><b><span style="background-color:yellow;">#</span> <span style="background-color:yellow;">5</span> </b><br /><p><span style="background-color:yellow;">I</span> <span style="background-color:yellow;">'ve</span> <span style="background-color:yellow;">wanted</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">do</span> <span style="background-color:yellow;">this</span> <span style="background-color:yellow;">quite</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">lot.</span> <span style="background-color:yellow;">This</span> <span style="background-color:yellow;">hack</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">very</span> <span style="background-color:yellow;">similar</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">rlotun</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">suggestion</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">but</span> <span style="background-color:yellow;">it</span> <span style="background-color:yellow;">'s</span> <span style="background-color:yellow;">a</span> <span style="background-color:yellow;">one-liner</span> <span style="background-color:yellow;">,</span> <span style="background-color:yellow;">which</span> <span style="background-color:yellow;">is</span> <span style="background-color:yellow;">important</span> <span style="background-color:yellow;">to</span> <span style="background-color:yellow;">me</span> <span style="background-color:yellow;">:</span> </p>
<pre><code>blah = 1
blah_name = [ k for k,v in locals().iteritems() if v is blah][0]
</code></pre>
<br />