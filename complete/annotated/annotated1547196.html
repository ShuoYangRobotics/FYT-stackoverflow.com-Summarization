<h3>Question ( ID-1547196 ) : </h3><h2>Finding perfect square </h2><p>I have this python code : </p>
<pre><code>def sqrt(x):
    ans = 0
    if x >= 0:
    	while ans*ans < x:
    		ans = ans + 1
    		if ans*ans != x:
    			print x, 'is not a perfect square.'
    			return None
    		else:
    			print x, ' is a perfect square.'
    			return ans
    else:
    	print x, ' is not a positive number.'
    	return None

y = 16  	
sqrt(y)
</code></pre>
<p>the output is : </p>
<pre><code>16 is not a perfect square.
</code></pre>
<p>Whereas this works perfectly : </p>
<pre><code>x = 16
ans = 0
if x >= 0:
    while ans*ans < x:
    	ans = ans + 1
    	#print 'ans =', ans
    if ans*ans != x:
    	print x, 'is not a perfect square'	
    else: print ans, 'is a perfect square'
else: print x, 'is not a positive number'
</code></pre>
<p>What am I doing wrong ? </p>
<br /><h3>Answers ( Total-7 ) : </h3><b># 0 </b><br /><p>Indent <span style="background-color:yellow;">your</span> code correctly to let the while statement execute until ans * ans &lt ; <span style="background-color:yellow;">x</span> : </p>
<pre><code>def sqrt(x):
    ans = 0
    if x >= 0:
        while ans*ans < x:
            ans = ans + 1

        if ans*ans != x:  # this if statement was nested inside the while
            print x, 'is not a perfect square.'
            return None
        else:
            print x, ' is a perfect square.'
            return ans
    else:
        print x, ' is not a positive number.'
        return None

y = 16          
print sqrt(y)
</code></pre>
<p>Try it out here . </p>
<br /><b># 1 </b><br /><p>Just thought I 'd contribute a simpler solution : </p>
<pre><code>def is_square(n):
    return sqrt(n).is_integer()
</code></pre>
<p>Examples : </p>
<pre><code>>>> is_square(4)
True
>>> is_square(123)
False
>>> is_square(123123123432**2)
True
>>> is_square(123123123432**7)
True
>>> is_square(123123123432156156165**7)
True
>>> is_square(123456789123456789**7)
True
</code></pre>
<p>Hope this helps. = ) </p>
<br /><b># 2 </b><br /><p>Your while loop only executes once. No matter which branch the if statement inside it takes , the whole function will return immediately . </p>
<br /><b># 3 </b><br /><p>EDIT I modified it , tried it out , and it works. You just <span style="background-color:yellow;">need</span> this piece of code </p>
<p>As soon as ans = <span style="background-color:yellow;">4</span> , ans * ans is <span style="background-color:yellow;">no</span> longer smaller than <span style="background-color:yellow;">x.</span> Try while ans * ans &lt ; = <span style="background-color:yellow;">x</span> : instead of just &lt ; </p>
<pre><code>def sqrt(x):
ans = 0
if x >= 0:
    	while ans*ans <= x:          	  		
            	if ans*ans == x:
                    		print x, ' is a perfect square.'
                    		return ans
		else:
			ans = ans + 1
</code></pre>
<br /><b># <span style="background-color:yellow;">4</span> </b><br /><p>Change <span style="background-color:yellow;">your</span> code so it displays the value of ans as well as <span style="background-color:yellow;">x</span> , so <span style="background-color:yellow;">you</span> can tell how many times the loop is executed . </p>
<br /><b># 5 </b><br /><p>If <span style="background-color:yellow;">your</span> code sample is actually correctly indentet the first round of the while will return on it 's first round - always. So any positive value of <span style="background-color:yellow;">x&gt</span> ; 1 will fullfil the ans * ans = 1 * 1 = 1 ! = <span style="background-color:yellow;">x</span> , giving " <span style="background-color:yellow;">x</span> is <span style="background-color:yellow;">not</span> a perfect square " . </p>
<p>You basically <span style="background-color:yellow;">needs</span> to get <span style="background-color:yellow;">your</span> indentation right - like <span style="background-color:yellow;">you</span> do in <span style="background-color:yellow;">your</span> other example. Again - if <span style="background-color:yellow;">your</span> code sample here actually is correctly indented. Try this : </p>
<pre><code>def sqrt(x):
    ans = 0
    if x >= 0:
        while ans*ans < x:
            ans = ans + 1

        if ans*ans != x:
            print x, 'is not a perfect square.'
            return None
        else:
            print x, ' is a perfect square.'
            return ans
    else:
        print x, ' is not a positive number.'
        return None
</code></pre>
<br /><b># 6 </b><br /><p>If the goal is to determine whether a <span style="background-color:yellow;">number</span> is a perfect square , I would think it would be simpler ( and perhaps more efficient ) to use math builtins , e.g. : </p>
<pre><code>def is_perfect_square(n):
  if not ( ( isinstance(n, int) or isinstance(n, long) ) and ( n >= 0 ) ):
    return False 
  else:
    return math.sqrt(n) == math.trunc(math.sqrt(n))
</code></pre>
<br />