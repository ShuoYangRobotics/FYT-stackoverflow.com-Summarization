[{"text": ["Django Passing Custom Form Parameters to Formset"], "childNum": 0, "tag": "h2", "senID": 0, "childList": []}, {"text": ["I have a Django Form that looks like this:"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n class ServiceForm(forms.Form):\n    option = forms.ModelChoiceField(queryset=ServiceOption.objects.none())\n    rate = forms.DecimalField(widget=custom_widgets.SmallField())\n    units = forms.IntegerField(min_value=1, widget=custom_widgets.SmallField())\n\n    def __init__(self, *args, **kwargs):\n        affiliate = kwargs.pop('affiliate')\n        super(ServiceForm, self).__init__(*args, **kwargs)\n        self.fields[\"option\"].queryset = ServiceOption.objects.filter(affiliate=affiliate)\n</code>\n</pre>\n", "senID": 2}, {"text": ["I call this form with something like this:"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"code": "<pre>\n<code>\n form = ServiceForm(affiliate=request.affiliate)\n</code>\n</pre>\n", "senID": 4}, {"text": ["Where request.affiliate is the logged in user.", "This works as intended."], "childNum": 1, "tag": "p", "senID": 5, "childList": [{"text": "request.affiliate", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"text": ["My problem is that I now want to turn this single form into a formset.", "What I can't figure out is how I can pass the affiliate information to the individual forms when creating the formset.", "According to the docs to make a formset out of this I need to do something like this:"], "childNum": 0, "tag": "p", "senID": 6, "childList": []}, {"code": "<pre>\n<code>\n ServiceFormSet = forms.formsets.formset_factory(ServiceForm, extra=3)\n</code>\n</pre>\n", "senID": 7}, {"text": ["And then I need to create it like this:"], "childNum": 0, "tag": "p", "senID": 8, "childList": []}, {"code": "<pre>\n<code>\n formset = ServiceFormSet()\n</code>\n</pre>\n", "senID": 9}, {"text": ["Now how can I pass affiliate=request.affiliate to the individual forms this way?"], "childNum": 0, "tag": "p", "senID": 10, "childList": []}]