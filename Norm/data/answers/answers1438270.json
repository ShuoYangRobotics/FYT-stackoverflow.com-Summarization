[[{"text": ["The python.org Python was built with an earlier gcc.", "Try using gcc-4.0 instead of SL's default of 4.2:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n export CC=/usr/bin/gcc-4.0\n</code>\n</pre>\n", "senID": 1}, {"text": ["See similar problem here."], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "here", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://thread.gmane.org/gmane.comp.python.apple/16087"}]}, {"text": ["That gets past the stdarg problem.", "You may then run into later build problems with various dependent libraries."], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"text": ["BTW, gcc-4.0 and gcc-4.2 are both included with Snow Leopard's Xcode 3 so no additional installs are needed."], "childNum": 1, "tag": "p", "senID": 4, "childList": [{"text": "3", "childNum": 0, "tag": "em", "pos": 0, "childList": []}]}, {"text": ["UPDATED 2011-05:  Note, that the newer Xcode 4, released for experimental use with 10.6 and expected to be standard with 10.7, no longer includes PPC support so, if you install Xcode 4, this suggestion will not work.", "Options include using the newer 64-bit/32-bin Python 2.7.x installers from python.org or installing a newer Python 2.6 and PIL and the various 3rd-party libs using MacPorts, Homebrew, or Fink."], "childNum": 1, "tag": "p", "senID": 5, "childList": [{"text": "4", "childNum": 0, "tag": "em", "pos": 0, "childList": []}]}], [{"text": ["The problem I ran into was that PIL was being compiled against PowerPC architecture (-arch ppc)."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["Do this before setup/build/compile:"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n export ARCHFLAGS=\"-arch i386\"\n</code>\n</pre>\n", "senID": 2}, {"text": ["(Assuming you're on i386)"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}], [{"text": ["Here are the steps that I took to successfully install PIL on Mac OS X 10.6 (without using MacPorts or Fink)."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["Note: I was not able to install PIL using pip install pil, so I installed from the URL as shown above."], "childNum": 2, "tag": "p", "senID": 1, "childList": [{"text": "Note", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}, {"text": "pip install pil", "childNum": 0, "tag": "code", "childList": []}]}, {"text": ["From what I can see in your pip-log.txt file it appears that you installed Python 2.6.2 using the Mac Installer Disk Image from Python.org released on April 16, 2009.", "Can you confirm this?"], "childNum": 2, "tag": "p", "senID": 2, "childList": [{"text": "pip-log.txt", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://drop.io/gi2bgw6"}, {"text": "Mac Installer Disk Image", "tag": "a", "pos": -1, "childList": [], "childNum": 0, "href": "http://www.python.org/ftp/python/2.6.2/python-2.6.2-macosx2009-04-16.dmg"}]}, {"text": ["From the pip log, gcc failed with exit status 1.", "The offending gcc command from your pip log is as follows:"], "childNum": 1, "tag": "p", "senID": 3, "childList": [{"text": "gcc", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n gcc -arch ppc -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -fno-strict-aliasing -fno-common -dynamic -DNDEBUG -g -O3 -DHAVE_LIBJPEG -DHAVE_LIBZ -I/System/Library/Frameworks/Tcl.framework/Headers -I/System/Library/Frameworks/Tk.framework/Headers -IlibImaging -I/Library/Frameworks/Python.framework/Versions/2.6/include -I/usr/local/include -I/usr/include -I/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6 -c _imaging.c -o build/temp.macosx-10.3-fat-2.6/_imaging.o\n</code>\n</pre>\n", "senID": 4}, {"text": ["This appears to be a problem related to Snow Leopard changing the default value for the -arch flag from i386 to x86-64 according to Ronald Oussoren in Message 92083 of Python Issue 6802.", "There is a patch available Python 2.6.2, but it has not been integrated into the Mac Installer Disk Image."], "childNum": 4, "tag": "p", "senID": 5, "childList": [{"text": "i386", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "x86-64", "childNum": 0, "tag": "code", "pos": -1, "childList": []}, {"text": "Message 92083", "tag": "a", "pos": -1, "childList": [], "childNum": 0, "href": "http://bugs.python.org/issue6802#msg92083"}, {"text": "Python Issue 6802", "tag": "a", "pos": -1, "childList": [], "childNum": 0, "href": "http://bugs.python.org/issue6802"}]}, {"text": ["Your best solution that doesn't involve MacPorts or Fink would probably be to compile and install Python from the 2.6 release branch from either the Mercurial Python Repository or the Subversion Python Repository.", "According to Message 92315 of Issue 6802, Ronald Oussoren fixed this in Revision r74686. "], "childNum": 5, "tag": "p", "senID": 6, "childList": [{"text": "Mercurial Python Repository", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://code.python.org/hg/branches/release2.6-maint/"}, {"text": "Subversion Python Repository", "tag": "a", "pos": -1, "childList": [], "childNum": 0, "href": "http://svn.python.org/view/python/branches/release26-maint/"}, {"text": "Message 92315", "tag": "a", "pos": 1, "childList": [], "childNum": 0, "href": "http://bugs.python.org/issue6802#msg92315"}, {"href": "http://bugs.python.org/issue6802", "text": "Issue 6802", "childNum": 0, "tag": "a", "childList": []}, {"href": "http://svn.python.org/view?view=rev&revision=74686", "text": "Revision r74686", "childNum": 0, "tag": "a", "childList": []}]}, {"text": ["I've been seeing similar errors using Python 2.6.2 installed from the Mac Disk Image while trying to then install Fabric in a virtualenv, so I plan to compile and install from the 2.6 release maintenance branch.", "If you want, I'll update when successful."], "childNum": 0, "tag": "p", "senID": 7, "childList": []}], [{"text": ["10.6 Snow Leopard install PIL without the hassle and without keeping MacPorts :)\n\nStep 1: Install MacPorts\nStep 2: sudo port install py26-pil\nStep 3: mv /opt/local/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/site-packages/* /Library/Python/2.6/site-packages/\nStep 4: Uninstall MacPorts\n\nBest of both worlds?"], "childNum": 7, "tag": "p", "senID": 0, "childList": [{"text": "", "childNum": 0, "tag": "br", "pos": 0, "childList": []}, {"text": "", "childNum": 0, "tag": "br", "childList": []}, {"text": "", "childNum": 0, "tag": "br", "childList": []}, {"text": "", "childNum": 0, "tag": "br", "childList": []}, {"text": "", "childNum": 0, "tag": "br", "childList": []}, {"text": "", "childNum": 0, "tag": "br", "childList": []}, {"text": "", "childNum": 0, "tag": "br", "childList": []}]}], [{"text": ["IT seems to me that the \"No such file\" is conjunction with stdarg.h is the most interesting error.", "There seems to be a header file missing.", "I don't know how to make sure it's installed on OS X, so this only half an answer, sorry about that, but maybe it pushes you in the right direction."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["I found a simpler method.", "sudo port install python26\nsudo port install python_select"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["Then use python_select set python26 as default."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["Then just install PIL as normal."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["I was able to get PIP installed with SL's Python using these instructions:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["http://jetfar.com/libjpeg-and-python-imaging-pil-on-snow-leopard/"], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "http://jetfar.com/libjpeg-and-python-imaging-pil-on-snow-leopard/", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://jetfar.com/libjpeg-and-python-imaging-pil-on-snow-leopard/"}]}], [{"text": ["Do you have XCode (comes on the Snow Leopard disc) installed?", "There are some key components (most notably GCC) that need to be installed which XCode handles for you."], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "XCode", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://developer.apple.com/technology/xcode.html"}, {"text": "GCC", "tag": "a", "pos": 1, "childList": [], "childNum": 0, "href": "http://gcc.gnu.org/"}]}], [{"text": ["May be you should try pre-build universal binaries from pythonmac site"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["http://pythonmac.org/packages/py25-fat/index.html"], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "http://pythonmac.org/packages/py25-fat/index.html", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://pythonmac.org/packages/py25-fat/index.html"}]}, {"text": ["These are for python2.5 , with python2.5 included(so may or may not be usable for you), I have been using it since I had problem using self build PIL with py2app."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["Following steps worked for me:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n $ brew install pip\n$ export ARCHFLAGS=\"-arch i386 -arch x86_64\"\n$ pip install pil\n</code>\n</pre>\n", "senID": 1}]]