[[{"text": ["Easiest way I can think of: "], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n def which(program):\n    import os\n    def is_exe(fpath):\n        return os.path.exists(fpath) and os.access(fpath, os.X_OK)\n\n    fpath, fname = os.path.split(program)\n    if fpath:\n        if is_exe(program):\n            return program\n    else:\n        for path in os.environ[\"PATH\"].split(os.pathsep):\n            exe_file = os.path.join(path, program)\n            if is_exe(exe_file):\n                return exe_file\n\n    return None\n</code>\n</pre>\n", "senID": 1}, {"text": ["Edit: Updated code sample to include logic for handling case where provided argument is already a full path to the executable, i.e.", "\"which /bin/ls\".", "This mimics the behavior of the UNIX 'which' command."], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "Edit", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}]}], [{"text": ["See os.path module for some useful functions on pathnames.", "To check if an existing file is executable, use os.access(path, mode), with the os.X_OK mode."], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "os.path", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://docs.python.org/library/os.path.html#module-os.path"}, {"text": "os.access(path, mode)", "tag": "a", "pos": 1, "childList": [], "childNum": 0, "href": "http://docs.python.org/library/os.html#os.access"}]}, {"text": ["EDIT: The suggested which() implementations are missing one clue - using os.path.join() to build full file names."], "childNum": 4, "tag": "p", "senID": 1, "childList": [{"text": "EDIT:", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}, {"text": "which()", "childNum": 0, "tag": "code", "childList": []}, {"href": "http://docs.python.org/library/os.path.html#os.path.join", "text": "os.path.join()", "childNum": 1, "tag": "a", "childList": [{"text": "os.path.join()", "tag": "code"}]}, {"text": "os.path.join()", "childNum": 0, "tag": "code", "childList": []}]}], [{"text": ["Just remember to specify the file extension on windows.", "Otherwise, you have to write a much complicated is_exe for windows using PATHEXT environment variable.", "You may just want to use FindPath."], "childNum": 3, "tag": "p", "senID": 0, "childList": [{"text": "is_exe", "childNum": 0, "tag": "code", "pos": 1, "childList": []}, {"text": "PATHEXT", "childNum": 0, "tag": "code", "pos": -1, "childList": []}, {"text": "FindPath", "tag": "a", "pos": 2, "childList": [], "childNum": 0, "href": "http://www.raboof.com/projects/findpath/"}]}, {"text": ["OTOH, why are you even bothering to search for the executable?", "The operating system will do it for you as part of popen call &amp; will raise an exception if the executable is not found.", "All you need to do is catch the correct exception for given OS.", "Note that on Windows, subprocess.Popen(exe, shell=True) will fail silently if exe is not found."], "childNum": 3, "tag": "p", "senID": 1, "childList": [{"text": "popen", "childNum": 0, "tag": "code", "pos": 1, "childList": []}, {"text": "subprocess.Popen(exe, shell=True)", "childNum": 0, "tag": "code", "pos": 3, "childList": []}, {"text": "exe", "childNum": 0, "tag": "code", "childList": []}]}], [{"text": ["None of previous examples do work on all platforms.", "Usually they fail to work on Windows because you can execute without the file extension and that you can register new extension.", "For example on Windows if python is well installed it's enough to execute 'file.py' and it will work."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "and", "childNum": 0, "tag": "em", "pos": 1, "childList": []}]}, {"text": ["The only valid and portable solution I had was to execute the command and see error code.", "Any decent executable should have a set of calling parameters that will do nothing."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}], [{"text": ["you can tell if a file exists with the os module.", "an executable in particular seems quite unportable considering lots of things are executable on nix that aren't on windows and vice versa."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["It would seem the obvious choice is \"which\", parsing the results via popen,  but you could simulate it otherwise using the os class.", "In pseudopython, it would look like this:"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "obvious", "childNum": 0, "tag": "em", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n for each element r in path:\n    for each file f in directory p:\n        if f is executable:\n           return True\n</code>\n</pre>\n", "senID": 1}], [{"text": ["So basically you want to find a file in mounted filesystem (not necessarily in PATH directories only) and check if it is executable.", "This translates to following plan: "], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"tag": "ul", "num": 3, "lis": [{"text": "enumerate all files in locally mounted filesystems", "tag": "none", "senID": 1}, {"text": "match results with name pattern", "tag": "none", "senID": 2}, {"text": "for each file found check if it is executable", "tag": "none", "senID": 3}]}, {"text": ["I'd say, doing this in a portable way will require lots of computing power and time.", "Is it really what you need?"], "childNum": 0, "tag": "p", "senID": 4, "childList": []}], [{"text": ["There is a which.py script in a standard Python distribution (e.g.", "on Windows '\\PythonXX\\Tools\\Scripts\\which.py'). "], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "which.py", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://svn.python.org/view/python/trunk/Tools/scripts/which.py?view=markup"}, {"text": "'\\PythonXX\\Tools\\Scripts\\which.py'", "childNum": 0, "tag": "code", "pos": 1, "childList": []}]}, {"text": ["EDIT: which.py depends on ls therefore it is not cross-platform."], "childNum": 2, "tag": "p", "senID": 1, "childList": [{"text": "which.py", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "ls", "childNum": 0, "tag": "code", "childList": []}]}], [{"text": ["If you have bash and a function sh (subprocess.Popen( ... ).communicate() ),\nuse the bash builtin type:"], "childNum": 6, "tag": "p", "senID": 0, "childList": [{"text": "bash", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "sh", "childNum": 0, "tag": "code", "childList": []}, {"text": "subprocess.Popen( ... ).communicate()", "childNum": 0, "tag": "code", "childList": []}, {"text": "", "childNum": 0, "tag": "br", "childList": []}, {"text": "bash", "childNum": 0, "tag": "code", "childList": []}, {"text": "type", "childNum": 0, "tag": "code", "childList": []}]}, {"code": "<pre>\n<code>\n type -p ls  =&gt;  /bin/ls\ntype -p nonesuch  =&gt;  \"\"\n</code>\n</pre>\n", "senID": 1}], [{"text": ["An important question is \"Why do you need to test if executable exist?", "\" Maybe you don't?", ";-) "], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "Why", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}]}, {"text": ["Recently I needed this functionality to launch viewer for PNG file.", "I wanted to iterate over some predefined viewers and run the first that exists.", "Fortunately, I came across os.startfile.", "It's much better!", "Simple, portable and uses the default viewer on the system:"], "childNum": 2, "tag": "p", "senID": 1, "childList": [{"text": "os.startfile", "childNum": 0, "tag": "code", "pos": 2, "childList": []}, {"text": "default", "childNum": 0, "tag": "em", "pos": 4, "childList": []}]}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; os.startfile('yourfile.png')\n</code>\n</pre>\n", "senID": 2}, {"text": ["Update: I was wrong about os.startfile being portable...", "It's Windows only.", "On Mac you have to run open command.", "And xdg_open on Unix.", "There's a Python issue on adding Mac and Unix support for os.startfile."], "childNum": 6, "tag": "p", "senID": 3, "childList": [{"text": "Update:", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}, {"text": "os.startfile", "childNum": 0, "tag": "code", "pos": 4, "childList": []}, {"text": "open", "childNum": 0, "tag": "code", "childList": []}, {"text": "xdg_open", "childNum": 0, "tag": "code", "childList": []}, {"href": "http://bugs.python.org/issue3177", "text": "Python issue", "childNum": 0, "tag": "a", "childList": []}, {"text": "os.startfile", "childNum": 0, "tag": "code", "childList": []}]}]]