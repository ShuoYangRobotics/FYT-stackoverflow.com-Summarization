[[{"text": ["Starting in Python 2.6 you can use the built-in ast.literal_eval:"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "ast.literal_eval", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; import ast\n&gt;&gt;&gt; ast.literal_eval(\"{'muffin' : 'lolz', 'foo' : 'kitty'}\")\n{'muffin': 'lolz', 'foo': 'kitty'}\n</code>\n</pre>\n", "senID": 1}, {"text": ["This is safer than using eval.", "As its own docs say:"], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "eval", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}, {"code": "<pre>\n>>> help(ast.literal_eval)\nHelp on function literal_eval in module ast:\n\nliteral_eval(node_or_string)\n    Safely evaluate an expression node or a string containing a Python\n    expression.  The string or node provided may only consist of the following\n    Python literal structures: strings, numbers, tuples, lists, dicts, booleans,\n    and None.\n</pre>\n", "senID": 3}, {"text": ["For example:"], "childNum": 0, "tag": "p", "senID": 4, "childList": []}, {"code": "<pre>\n<code>\n &gt;&gt;&gt; eval(\"shutil.rmtree('mongo')\")\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n  File \"/opt/Python-2.6.1/lib/python2.6/shutil.py\", line 208, in rmtree\n    onerror(os.listdir, path, sys.exc_info())\n  File \"/opt/Python-2.6.1/lib/python2.6/shutil.py\", line 206, in rmtree\n    names = os.listdir(path)\nOSError: [Errno 2] No such file or directory: 'mongo'\n&gt;&gt;&gt; ast.literal_eval(\"shutil.rmtree('mongo')\")\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/opt/Python-2.6.1/lib/python2.6/ast.py\", line 68, in literal_eval\n    return _convert(node_or_string)\n  File \"/opt/Python-2.6.1/lib/python2.6/ast.py\", line 67, in _convert\n    raise ValueError('malformed string')\nValueError: malformed string\n</code>\n</pre>\n", "senID": 5}], [{"text": ["If the string can always be trusted, you could use eval (or use literal_eval as suggested; it's safe no matter what the string is.", ") Otherwise you need a parser.", "A JSON parser (such as simplejson) would work if he only ever stores content that fits with the JSON scheme."], "childNum": 3, "tag": "p", "senID": 0, "childList": [{"text": "always", "childNum": 0, "tag": "em", "pos": 0, "childList": []}, {"text": "eval", "childNum": 0, "tag": "code", "pos": -1, "childList": []}, {"text": "literal_eval", "childNum": 0, "tag": "code", "pos": -1, "childList": []}]}], [{"text": ["I'm sure that he converts all input into strings just so that it's sanitized for eval().", "Why wouldn't you use it in this situation?", "Otherwise you'll just be recoding functionality that already exists."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["If you can't use Python 2.6, you can use a simple safeeval implmenentation like http://code.activestate.com/recipes/364469/"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "http://code.activestate.com/recipes/364469/", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://code.activestate.com/recipes/364469/"}]}, {"text": ["It piggybacks on the Python compiler so you don't have to do all the gross work yourself."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}], [{"text": ["I can't think of any other way to do this without using eval besides doing some nasty string parsing."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["I'm assuming your coworker is serializing these types with repr().", "A purposeful quality of repr() is that, for most simple types, it will produce a string that will create an equivalent object when consumed by eval(). "], "childNum": 3, "tag": "p", "senID": 0, "childList": [{"text": "repr()", "childNum": 0, "tag": "code", "pos": 0, "childList": []}, {"text": "repr()", "childNum": 0, "tag": "code", "pos": 1, "childList": []}, {"text": "eval()", "childNum": 0, "tag": "code", "childList": []}]}, {"text": ["I think by not being willing to use eval(), you're creating an unnecessary amount of work for yourself.", "If the source of the objectsis trusted, just use it."], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "eval()", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}]]