[[{"text": ["What you have to do to make this work:"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["This implies that Django's admin media (ADMIN_MEDIA_PREFIX) is at /media/admin/ - you can change that for your setup.", "Ideally you'd use a context processor to pass this values to your template instead of hardcoding it, but that's beyond the scope of this question."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["This also requires that the URL /my_admin/jsi18n/ be manually wired up to the django.views.i18n.javascript_catalog view (or null_javascript_catalog if you aren't using I18N).", "You have to do this yourself instead of going through the admin application so it's accessible regardless of whether you're logged into the admin (thanks Jeremy for pointing this out).", "Sample code for your URLconf:"], "childNum": 1, "tag": "p", "senID": 2, "childList": [{"text": "Jeremy", "tag": "a", "pos": 1, "childList": [], "childNum": 0, "href": "http://stackoverflow.com/questions/38601/using-django-time-date-widgets-in-custom-form/408230#408230"}]}, {"code": "<pre>\n<code>\n (r'^my_admin/jsi18n', 'django.views.i18n.javascript_catalog'),\n</code>\n</pre>\n", "senID": 3}, {"text": ["Lastly, if you are using Django 1.2 or later, you need some additional code in your template to help the widgets find their media:"], "childNum": 0, "tag": "p", "senID": 4, "childList": []}, {"code": "<pre>\n<code>\n {% load adminmedia %} /* At the top of the template. */\n\n/* In the head section of the template. */\n&lt;script type=\"text/javascript\"&gt;\nwindow.__admin_media_prefix__ = \"{% filter escapejs %}{% admin_media_prefix %}{% endfilter %}\";\n&lt;/script&gt;\n</code>\n</pre>\n", "senID": 5}, {"text": ["Thanks lupefiasco for this addition."], "childNum": 1, "tag": "p", "senID": 6, "childList": [{"text": "lupefiasco", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://stackoverflow.com/questions/38601/using-django-time-date-widgets-in-custom-form/2818128#2818128"}]}, {"text": ["The growing complexity of this answer over time, and the many hacks required, probably ought to caution you against doing this at all.", "It's relying on undocumented internal implementation details of the admin, is likely to break again in future versions of Django, and is no easier to implement than just finding another JS calendar widget and using that."], "childNum": 0, "tag": "p", "senID": 7, "childList": []}], [{"text": ["As the solution is hackish, I think using your own date/time widget with some JavaScript is more feasible."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["Yep, I ended up overriding the /admin/jsi18n/ url."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["Here's what I added in my urls.py.", "Make sure it's above the /admin/ url"], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"code": "<pre>\n<code>\n (r'^admin/jsi18n', i18n_javascript),\n</code>\n</pre>\n", "senID": 2}, {"text": ["And here is the i18n_javascript function I created."], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"code": "<pre>\n<code>\n from django.contrib import admin\ndef i18n_javascript(request):\n  return admin.site.i18n_javascript(request)\n</code>\n</pre>\n", "senID": 4}], [{"text": ["Complementing the answer by Carl Meyer, I would like to comment that you need to put that header in some valid block (inside the header) within your template."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n {% block extra_head %}\n\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"/media/admin/css/forms.css\"/&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"/media/admin/css/base.css\"/&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"/media/admin/css/global.css\"/&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"/media/admin/css/widgets.css\"/&gt;\n\n&lt;script type=\"text/javascript\" src=\"/admin/jsi18n/\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"/media/admin/js/core.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"/media/admin/js/admin/RelatedObjectLookups.js\"&gt;&lt;/script&gt;\n\n{{ form.media }}\n\n{% endblock %}\n</code>\n</pre>\n", "senID": 1}], [{"text": ["Starting in Django 1.2 RC1, if you're using the Django admin date picker widge trick, the following has to be added to your template, or you'll see the calendar icon url being referenced through \"/missing-admin-media-prefix/\"."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n {% load adminmedia %} /* At the top of the template. */\n\n/* In the head section of the template. */\n&lt;script type=\"text/javascript\"&gt;\nwindow.__admin_media_prefix__ = \"{% filter escapejs %}{% admin_media_prefix %}{% endfilter %}\";\n&lt;/script&gt;\n</code>\n</pre>\n", "senID": 1}], [{"text": ["I find myself referencing this post a lot, and found that the documentation defines a slightly less hacky way to override default widgets. "], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "documentation", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://docs.djangoproject.com/en/dev/topics/forms/modelforms/#overriding-the-default-field-types"}, {"text": "slightly", "childNum": 0, "tag": "em", "childList": []}]}, {"text": ["(No need to override the ModelForm's __init__ method)"], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "No need to override the ModelForm's __init__ method", "childNum": 0, "tag": "em", "pos": 0, "childList": []}]}, {"text": ["However, you still need to wire your js and css appropriatly as Carl mentions."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["forms.py"], "childNum": 1, "tag": "p", "senID": 3, "childList": [{"text": "forms.py", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n from django import forms\nfrom my_app.models import Product\nfrom django.contrib.admin import widgets                                       \n\n\nclass ProductForm(forms.ModelForm):\n    mydate = forms.DateField(widget=widgets.AdminDateWidget)\n    mytime = forms.TimeField(widget=widgets.AdminTimeWidget)\n    mydatetime = forms.DateTimeField(widget=widgets.AdminSplitDateTime)\n\n    class Meta:\n        model = Product\n</code>\n</pre>\n", "senID": 4}, {"text": ["Reference Field Types to find the default form fields."], "childNum": 1, "tag": "p", "senID": 5, "childList": [{"text": "Field Types", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://docs.djangoproject.com/en/dev/topics/forms/modelforms/#field-types"}]}], [{"text": ["I finally managed to get this widget working on the dev server, only to have it break on deployment.", "I finally decided it wasn't worth shoehorning into my site, and wrote my own widget.", "It's not as flexible, but it will probably work well for many: http://www.copiesofcopies.org/webl/?p=81"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "http://www.copiesofcopies.org/webl/?p=81", "tag": "a", "pos": 2, "childList": [], "childNum": 0, "href": "http://www.copiesofcopies.org/webl/?p=81"}]}], [{"text": ["You missed step 4, you need to add the javascript files."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["Good help!"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["BUT: the link to /media/admin/js/core.js does not work!", "Changing to /media/js/core.js helped me very well."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["Could you please change it in your post?"], "childNum": 0, "tag": "p", "senID": 2, "childList": []}], [{"text": ["Updated solution and workaround for SplitDateTime with required=False:"], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "SplitDateTime", "childNum": 0, "tag": "strong", "pos": 0, "childList": []}, {"text": "required=False", "childNum": 0, "tag": "strong", "childList": []}]}, {"text": ["forms.py"], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "forms.py", "childNum": 0, "tag": "em", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n from django import forms\n\nclass SplitDateTimeJSField(forms.SplitDateTimeField):\n    def __init__(self, *args, **kwargs):\n        super(SplitDateTimeJSField, self).__init__(*args, **kwargs)\n        self.widget.widgets[0].attrs = {'class': 'vDateField'}\n        self.widget.widgets[1].attrs = {'class': 'vTimeField'}  \n\n\nclass AnyFormOrModelForm(forms.Form):\n    date = forms.DateField(widget=forms.TextInput(attrs={'class':'vDateField'}))\n    time = forms.TimeField(widget=forms.TextInput(attrs={'class':'vTimeField'}))\n    timestamp = SplitDateTimeJSField(required=False,)\n</code>\n</pre>\n", "senID": 2}, {"text": ["form.html"], "childNum": 1, "tag": "p", "senID": 3, "childList": [{"text": "form.html", "childNum": 0, "tag": "em", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n &lt;script type=\"text/javascript\" src=\"/admin/jsi18n/\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"/admin_media/js/core.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"/admin_media/js/calendar.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"/admin_media/js/admin/DateTimeShortcuts.js\"&gt;&lt;/script&gt;\n</code>\n</pre>\n", "senID": 4}, {"text": ["urls.py"], "childNum": 1, "tag": "p", "senID": 5, "childList": [{"text": "urls.py", "childNum": 0, "tag": "em", "pos": 0, "childList": []}]}, {"code": "<pre>\n<code>\n (r'^admin/jsi18n/', 'django.views.i18n.javascript_catalog'),\n</code>\n</pre>\n", "senID": 6}], [{"text": ["The below will also work as a last resort if the above failed"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"code": "<pre>\n<code>\n class PaymentsForm(forms.ModelForm):\n   class Meta:\n      model = Payments\n   def __init__(self, *args, **kwargs):\n   super(PaymentsForm, self).__init__(*args, **kwargs)\n   self.fields['date'].widget = SelectDateWidget()\n</code>\n</pre>\n", "senID": 1}, {"text": ["Same as "], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n class PaymentsForm(forms.ModelForm):\n   date = forms.DateField(widget=SelectDateWidget())\n   class Meta:\n      model = Payments\n</code>\n</pre>\n", "senID": 3}, {"text": ["put this in your forms.py from django.forms.extras.widgets import SelectDateWidget"], "childNum": 1, "tag": "p", "senID": 4, "childList": [{"text": "from django.forms.extras.widgets import SelectDateWidget", "childNum": 0, "tag": "code", "pos": 0, "childList": []}]}], [{"text": ["(I'm trying to comment on people suggesting to roll their own Calendar widget, but either I don't see the comment button, or I don't have enough rep.)"], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["What happened to DRY?", "I think it would be best to re-use the admin widget, but perhaps it should be separated from admin, and easier to use.", "Thanks for this information anyways."], "childNum": 1, "tag": "p", "senID": 1, "childList": [{"text": "DRY", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://en.wikipedia.org/wiki/Don%27t_repeat_yourself"}]}]]