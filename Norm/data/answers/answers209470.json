[[{"text": ["Any shell has several sets of features."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"tag": "ul", "num": 5, "lis": [{"text": ["The Essential Linux/Unix commands.", "All of these are available through the subprocess library.", "This isn't always the best first choice for doing all external commands.", "Look also at shutil for some commands that are separate Linux commands, but you could probably implement directly in your Python scripts.", "Another huge batch of Linux commands are in the os libary; you can do these more simply in Python."], "childNum": 4, "tag": "p", "senID": 1, "childList": [{"text": "subprocess", "tag": "a", "pos": 1, "childList": [], "childNum": 0, "href": "http://www.python.org/doc/2.5.2/lib/module-subprocess.html"}, {"text": "all", "childNum": 0, "tag": "em", "pos": 2, "childList": []}, {"text": "shutil", "tag": "a", "pos": 3, "childList": [], "childNum": 0, "href": "http://www.python.org/doc/2.5.2/lib/module-shutil.html"}, {"text": "os", "tag": "a", "pos": 4, "childList": [], "childNum": 0, "href": "http://www.python.org/doc/2.5.2/lib/module-os.html"}]}, {"text": ["The shell environment features.", "This includes stuff that sets a command's environment (current directory and environment variables and what-not).", "You can easily manage this from Python directly."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["The shell programming features.", "This is all the process status code checking, the various logic commands (if, while, for, etc.", ") the test command and all of it's relatives.", "The function definition stuff.", "This is all much, much easier in Python.", "This is one of the huge victories in getting rid of bash and doing it in Python."], "childNum": 0, "tag": "p", "senID": 3, "childList": []}, {"text": ["Interaction features.", "This includes command history and what-not.", "You don't need this for writing shell scripts.", "This is only for human interaction, and not for script-writing."], "childNum": 0, "tag": "p", "senID": 4, "childList": []}, {"text": ["The shell file management features.", "This includes redirection and pipelines.", "This is trickier.", "Much of this can be done with subprocess.", "But some things that are easy in the shell are unpleasant in Python.", "Specifically stuff like (a | b; c ) | something &gt;result.", "This runs two processes in parallel (with output of a as input to b), followed b a third process.", "The output from that sequence is run in parallel with something and the output is collected into a file named result.", "That's just complex to express in any other language."], "childNum": 5, "tag": "p", "senID": 5, "childList": [{"text": "(a | b; c ) | something &gt;result", "childNum": 0, "tag": "code", "pos": 5, "childList": []}, {"text": "a", "childNum": 0, "tag": "code", "pos": 6, "childList": []}, {"text": "b", "childNum": 0, "tag": "code", "pos": -1, "childList": []}, {"text": "something", "childNum": 0, "tag": "code", "pos": 7, "childList": []}, {"text": "result", "childNum": 0, "tag": "code", "pos": -1, "childList": []}]}]}, {"text": ["Specific programs (awk, sed, grep, etc.", ") can often be rewritten as Python modules.", "Don't go overboard.", "Replace what you need and evolve your \"grep\" module.", "Don't start out writing a Python module that replaces \"grep\"."], "childNum": 0, "tag": "p", "senID": 6, "childList": []}, {"text": ["The best thing is that you can do this in steps."], "childNum": 0, "tag": "p", "senID": 7, "childList": []}], [{"tag": "ul", "num": 2, "lis": [{"text": "If you want to use Python as a shell, why not have a look at ", "tag": "none", "senID": 0}, {"text": "If you do a lot of text manipulation, and if you use Vim as a text editor, you can also directly write plugins for Vim in python. just type \":help python\" in Vim and follow the instructions or have a look at this ", "tag": "none", "senID": 1}]}], [{"text": ["I suggest the awesome online book Dive Into Python.", "It's how I learned the language originally."], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "Dive Into Python", "childNum": 1, "tag": "em", "pos": 0, "childList": [{"text": "Dive Into Python", "tag": "a"}]}, {"text": "Dive Into Python", "tag": "a", "pos": -1, "childList": [], "childNum": 0, "href": "http://diveintopython.org"}]}, {"text": ["Beyone teaching you the basic structure of the language, and a whole lot of useful data structures, it has a good chapter on file handling and subsequent chapters on regular expressions and more."], "childNum": 2, "tag": "p", "senID": 1, "childList": [{"text": "file handling", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://diveintopython.org/file_handling/index.html"}, {"href": "http://diveintopython.org/regular_expressions/index.html", "text": "regular expressions", "childNum": 0, "tag": "a", "childList": []}]}], [{"text": ["In the beginning there was sh, sed, and awk (and find, and grep, and...).", "It was good.", "But awk can be an odd little beast and hard to remember if you don't use it often.", "Then the great camel created Perl.", "Perl was a system administrator's dream.", "It was like shell scripting on steroids.", "Text processing, including regular expressions were just part of the language.", "Then it got ugly...  People tried to make big applications with Perl.", "Now, don't get me wrong, Perl can be an application, but it can (can!", ") look like a mess if you're not really careful.", "Then there is all this flat data business.", "It's enough to drive a programmer nuts."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["Enter Python, Ruby, et al.", "These are really very good general purpose languages.", "They support text processing, and do it well (though perhaps not as tightly entwined in the basic core of the language).", "But they also scale up very well, and still have nice looking code at the end of the day.", "They also have developed pretty hefty communities with plenty of libraries for most anything."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["Now, much of the negativeness towards Perl is a matter of opinion, and certainly some people can write very clean Perl, but with this many people complaining about it being too easy to create obfuscated code, you know some grain of truth is there.", "The question really becomes then, are you ever going to use this language for more than simple bash script replacements.", "If not, learn some more Perl.. it is absolutely fantastic for that.", "If, on the other hand, you want a language that will grow with you as you want to do more, may I suggest Python or Ruby."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"text": ["Either way, good luck!"], "childNum": 0, "tag": "p", "senID": 3, "childList": []}], [{"text": ["There was interesting project, but it died two years ago:\nhttp://pyshell.sourceforge.net/"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "http://pyshell.sourceforge.net/", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://pyshell.sourceforge.net/"}]}], [{"text": ["Python would be perfectly fine for text file manipulation.", "For learning, check here."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "here", "tag": "a", "pos": 1, "childList": [], "childNum": 0, "href": "http://stackoverflow.com/questions/918/how-to-learn-python-good-example-code#964"}]}], [{"text": ["This is an interesting read in that context: http://www.dabeaz.com/generators/"], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "http://www.dabeaz.com/generators/", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://www.dabeaz.com/generators/"}]}], [{"text": ["Adding to previous answers: check the pexpect module for dealing with interactive commands (adduser, passwd etc."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "pexpect", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://www.noah.org/wiki/Pexpect"}]}], [{"text": ["If your textfile manipulation usually is one-time, possibly done on the shell-prompt, you will not get anything better from python."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}, {"text": ["On the other hand, if you usually have to do the same (or similar) task over and over, and you have to write your scripts for doing that, then python is great - and you can easily create your own libraries (you can do that with shell scripts too, but it's more cumbersome)."], "childNum": 0, "tag": "p", "senID": 1, "childList": []}, {"text": ["A very simple example to get a feeling."], "childNum": 0, "tag": "p", "senID": 2, "childList": []}, {"code": "<pre>\n<code>\n import popen2\nstdout_text, stdin_text=popen2.popen2(\"your-shell-command-here\")\nfor line in stdout_text:\n  if line.startswith(\"#\"):\n    pass\n  else\n    jobID=int(line.split(\",\")[0].split()[1].lstrip(\"&lt;\").rstrip(\"&gt;\"))\n    # do something with jobID\n</code>\n</pre>\n", "senID": 3}, {"text": ["Check also sys and getopt module, they are the first you will need."], "childNum": 0, "tag": "p", "senID": 4, "childList": []}], [{"text": ["Your best bet is a tool that is specifically geared towards your problem.", "If it's processing text files, then Sed, Awk and Perl are the top contenders.", "Python is a general-purpose dynamic language.", "As with any general purpose language, there's support for file-manipulation, but that isn't what it's core purpose is.", "I would consider Python or Ruby if I had a requirement for a dynamic language in particular."], "childNum": 1, "tag": "p", "senID": 0, "childList": [{"text": "dynamic", "childNum": 0, "tag": "em", "pos": 2, "childList": []}]}, {"text": ["In short, learn Sed and Awk really well, plus all the other goodies that come with your flavour of *nix (All the Bash built-ins, grep, tr and so forth).", "If it's text file processing you're interested in, you're already using the right stuff. "], "childNum": 0, "tag": "p", "senID": 1, "childList": []}], [{"text": ["I have built semi-long shell scripts (300-500 lines) and Python code which does similar functionality.", "When many external commands are being executed, I find the shell is easier to use.", "Perl is also a good option when there is lots of text manipulation."], "childNum": 0, "tag": "p", "senID": 0, "childList": []}], [{"text": ["While researching this topic, I found this proof-of-concept code (via a comment at http://jlebar.com/2010/2/1/Replacing_Bash.html) that lets you \"write shell-like pipelines in Python using a terse syntax, and leveraging existing system tools where they make sense\":"], "childNum": 2, "tag": "p", "senID": 0, "childList": [{"text": "this proof-of-concept code", "tag": "a", "pos": 0, "childList": [], "childNum": 0, "href": "http://hg.mozilla.org/users/tmielczarek_mozilla.com/pyshell/file/tip/shell.py"}, {"href": "http://jlebar.com/2010/2/1/Replacing_Bash.html", "text": "http://jlebar.com/2010/2/1/Replacing_Bash.html", "childNum": 0, "tag": "a", "childList": []}]}, {"code": "<pre>\n<code>\n for line in sh(\"cat /tmp/junk2\") | cut(d=',',f=1) | 'sort' | uniq:\n    sys.stdout.write(line)\n</code>\n</pre>\n", "senID": 1}]]