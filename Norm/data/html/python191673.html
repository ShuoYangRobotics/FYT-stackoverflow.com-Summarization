<h3>Question (ID-191673):</h3><h2>Preferred Python unit-testing framework</h2><p>So far I've been using the built-in unittest module for unit-testing Python code. However, for simple cases it seems like an overkill. Being a derivative of xUnit, it appears a bit heavy for the dynamic nature of Python, where I would expect to write less to achieve the same effects. On the other hand, it is built-in, makes you write your tests in an organized way, and tested by time.</p>

<p>The major alternatives I've seen online are:</p>

<ul>
<li><a href="http://codespeak.net/py/dist/test.html" rel="nofollow">py.test</a> </li>
<li><a href="http://www.somethingaboutorange.com/mrl/projects/nose/" rel="nofollow">nose</a></li>
</ul>

<p>Which of the frameworks do you prefer, and why ? </p>
<br /><h3>Answers (Total-10):</h3><b>#0</b><br /><p><code>nose</code> isn't really a unit testing framework.  It's a test runner and a great one at that.  It can run tests created using <code>pyUnit</code>, <code>py.test</code> or <code>doctest</code>.</p>

<p>My preference for unit testing framework is pyUnit.  It's similar to other xUnit frameworks and is easy to relate to for people without python background.   There is also pretty good support for it in Eclipse/PyDev</p>

<p>On <code>py.test</code>, I find multiple levels of setup/teardowns very confusing. I also find that it leads to highly unstructured and hard to read unit tests.</p>

<p><code>doctest</code> is OK for simple things, but I find that it's very limiting and doesn't really scale for complex and highly interactive code.</p>
<br /><b>#1</b><br /><p>I just use the standard <code>unittest</code>. Not sure how you'd write tests as effectively with another style -- perhaps each test in a function, but then how would you handle setup / teardown?</p>
<br /><b>#2</b><br /><p>Regarding doctest:
I don't consider it a <em>unit-testing framework</em> per-se. I definitely wouldn't use it to write a large suite of tests for a sizable application. doctest is more suitable for making sure that the examples you provide in the documentation work. It has its place for this need, but it isn't a competitor for unittest, py.test and other frameworks.</p>
<br /><b>#3</b><br /><p>The <code>unittest.TestCase</code> is a class.  Feel free to subclass it with your own add-on features that allow you to "write less to achieve the same effects".</p>
<br /><b>#4</b><br /><p><code>nose</code> is not really a full unit testing framework in it's own right; however, it will run any function in a module whose name starts with "test" and it will fail if the function raises an AssertionError which makes writing simple tests really simple.</p>

<p>It also has the concept of <a href="http://somethingaboutorange.com/mrl/projects/nose/#test-generators" rel="nofollow">test generators</a> which are a really nice implementation of data driven tests.</p>

<p>... and since <code>nose</code> will run <code>unittest</code> tests you can bail out to that when you need to write complicated setUp/tearDown tests.</p>

<p>So: <code>unittest</code> + <code>nose</code> (+ <code>doctest</code> where appropriate) really is a pretty killer combination.</p>
<br /><b>#5</b><br /><p>I agree that one nicest features of nose is its plugin system. For example, I started learning Python when the Google App Engine launched and there was a Nose plug-in to support GAE almost immediately. So Nose with its plugins helped me to start doing test-driven development with a new platform like GAE from the start. The coverage plugin was there when I was ready for it as well. </p>
<br /><b>#6</b><br /><p>Interesting that no one yet has answered to defend <a href="http://pytest.org/index.html" rel="nofollow">py.test</a>. On the <a href="http://lists.idyll.org/listinfo/testing-in-python" rel="nofollow">testing-in-python mailing list</a> it is quite popular, e.g. this recent thread <a href="http://thread.gmane.org/gmane.comp.python.testing.general/3748" rel="nofollow">"why do you use py.test?"</a>. Most common responses included:</p>

<ul>
<li>easy support for distributed testing</li>
<li>good plugin architecture</li>
<li>easier assertions (just <code>assert x == 42</code>, no <code>assertEqual()</code>)</li>
<li><a href="http://pytest.org/funcargs.html" rel="nofollow">funcargs</a></li>
</ul>
<br /><b>#7</b><br /><p>One of the nicest features of nose is its plugin system: for example the coverage plugin shows you how much of your code is covered by unittests. After writing lots of unittests it is often shocking to see how much of your code isn't covered ....</p>
<br /><b>#8</b><br /><p>There's always <a href="http://www.python.org/doc/2.5.2/lib/module-doctest.html" rel="nofollow">doctest</a> if you want to keep your unit tests close to the code.</p>

<p>HTH</p>
<br /><b>#9</b><br /><p>I think it's a matter of choice really. I have used all the major testing frameworks, it comes down to which one you think does the job with less coding. 
That said, I prefer doctest as well.  </p>
<br />