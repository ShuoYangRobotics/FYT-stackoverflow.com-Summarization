<h3>Question (ID-471191):</h3><h2>Python - why compile?</h2><p>This may seem like a dumb question, but why would you compile a python script? You can run them directly from the .py file and it works fine, so is there a performance advantage or something? I also notice that some files in my application get compiled into .pyc while others do not, why is this?</p>
<br /><h3>Answers (Total-7):</h3><b>#0</b><br /><p>It's compiled to bytecode which can be used much, much, much faster.</p>

<p>The reason some files aren't compiled is that the main script, which you invoke with <code>python main.py</code> is recompiled every time you run the script. All imported scripts will be compiled and stored on the disk.</p>

<p><em>Important addition by <a href="http://stackoverflow.com/users/46387/ben-blank">Ben Blank</a>:</em></p>

<blockquote>
  <p>It's worth noting that while running a
  compiled script has a faster <em>startup</em>
  time (as it doesn't need to be
  compiled), it doesn't <em>run</em> any
  faster.</p>
</blockquote>
<br /><b>#1</b><br /><p>The .pyc file is Python that has already been compiled to byte-code.  Python automatically runs a .pyc file if it finds one with the same name as a .py file you invoke.</p>

<p>"An Introduction to Python" <a href="http://www.network-theory.co.uk/docs/pytut/CompiledPythonfiles.html" rel="nofollow">says</a> this about compiled Python files:</p>

<blockquote>
  <p>A program doesn't run any faster when
  it is read from a ‘.pyc’ or ‘.pyo’
  file than when it is read from a ‘.py’
  file; the only thing that's faster
  about ‘.pyc’ or ‘.pyo’ files is the
  speed with which they are loaded.</p>
</blockquote>

<p>The advantage of running a .pyc file is that Python doesn't have to incur the overhead of compiling it before running it.  Since Python would compile to byte-code before running a .py file anyway, there shouldn't be any performance improvement aside from that.</p>

<p>How much improvement can you get from using compiled .pyc files?  That depends on what the script does.  For a very brief script that simply prints "Hello World," compiling could constitute a large percentage of the total startup-and-run time.  But the cost of compiling a script relative to the total run time diminishes for longer-running scripts.</p>

<p>The script you name on the command-line is never saved to a .pyc file. Only modules loaded by that "main" script are saved in that way.</p>
<br /><b>#2</b><br /><p>There's certainly a performance difference when running a compiled script. If you run normal <code>.py</code> scripts, the machine compiles it every time it is run and this takes time. On modern machines this is hardly noticeable but as the script grows it may become more of an issue.</p>
<br /><b>#3</b><br /><p>There is a performance increase in running compiled python, however when you run a .py python will compile and store it, and as long as the .py does not change it will always use the compiled version.</p>

<p>With any interpeted language when the file is used the process looks something like this:<br />
1. File is processed by the interpeter.<Br />
2. File is compiled<br />
3. Compiled code is executed.<br /></p>

<p>obviously by using pre-compiled code you can eliminate step 2, this applies python, PHP and others.</p>

<p>Heres an interesting blog post explaining the differences <a href="http://julipedia.blogspot.com/2004/07/compiled-vs-interpreted-languages.html" rel="nofollow">http://julipedia.blogspot.com/2004/07/compiled-vs-interpreted-languages.html</a><br />
And here's an entry that explains the Python compile process <a href="http://effbot.org/zone/python-compile.htm" rel="nofollow">http://effbot.org/zone/python-compile.htm</a></p>
<br /><b>#4</b><br /><p>As already mentioned, you can get a performance increase from having your python code compiled into bytecode. This is usually handled by python itself, for imported scripts only.</p>

<p>Another reason you might want to compile your python code, could be to protect your intellectual property from being copied and/or modified.</p>

<p>You can read more about this in the <a href="http://docs.python.org/tutorial/modules.html#compiled-python-files" rel="nofollow">Python documentation</a>.</p>
<br /><b>#5</b><br /><p>Yep, performance is the main reason and, as far as I know, the only reason.</p>

<p>If some of your files aren't getting compiled, maybe Python isn't able to write to the .pyc file, perhaps because of the directory permissions or something.  Or perhaps the uncompiled files just aren't ever getting loaded... (scripts/modules only get compiled when they first get loaded)</p>
<br /><b>#6</b><br /><p>Another advantage is that if you have a password in your program that someone needs to type, they could simply look in the .py file and find the password, but you can't see the source of a .pyc file.</p>
<br />