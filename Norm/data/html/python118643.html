<h3>Question (ID-118643):</h3><h2>Is there a way to convert indentation in Python code to braces?</h2><p>I am a totally blind programmer who would like to learn Python. Unfortunately the fact that code blocks are represented with different levels of indentation is a major stumbling block. I was wondering if there were any tools available that would allow me to write code using braces or some other code block delimiter and then convert that format into a properly indented representation that the Python interpreter could use?</p>
<br /><h3>Answers (Total-9):</h3><b>#0</b><br /><p>There's a solution to your problem that is distributed with python itself. <code>pindent.py</code>, it's located in the Tools\Scripts directory in a windows install (my path to it is C:\Python25\Tools\Scripts), it looks like you'd have grab it from svn.python.org if you are running on Linux or OSX. </p>

<p>It adds comments when blocks are closed, or can properly indent code if comments are put in. Here's an example of the code outputted by pindent with the command:</p>

<p><code>pindent -c myfile.py</code></p>

<pre><code>def foobar(a, b):
   if a == b:
       a = a+1
   elif a &lt; b:
       b = b-1
       if b &gt; a: a = a-1
       # end if
   else:
       print 'oops!'
   # end if
# end def foobar
</code></pre>

<p>Where the original <code>myfile.py</code> was: </p>

<pre><code>def foobar(a, b):
   if a == b:
       a = a+1
   elif a &lt; b:
       b = b-1
       if b &gt; a: a = a-1
   else:
       print 'oops!'
</code></pre>

<p>You can also use <code>pindent.py -d</code> to insert the correct indentation based on comments (read the header of pindent.py for details), this should allow you to code in python without worrying about indentation.</p>

<p>I'd be interested to learn what solution you end up using, if you require any further assistance, please comment on this post and I'll try to help.</p>
<br /><b>#1</b><br /><p>Python supports braces for defining code blocks, and it also supports using 'begin' and 'end' tags.</p>

<p>Please see these code examples:</p>

<pre><code>class MyClass(object): #{
    def myfunction(self, arg1, arg2): #{
        for i in range(arg1): #{ 
            print i
        #}
    #}
#}
</code></pre>

<p>And an example with bash style:</p>

<pre><code>fi = endclass = enddef = endclass = done = None
class MyClass(object):
    def myfunction(self, arg1, arg2):
        for i in range(arg1): #do
            if i &gt; 5: #then
                print i
            fi
        done
    enddef
endclass
</code></pre>

<p>The best thing about this is is that you can forget to put a close bracket in, and it's still valid python!</p>

<pre><code>class MyClass(object): #{
    def myfunction(self, arg1, arg2): #{
        for i in range(arg1): #{ 
            print i
        # whoops, forgot to close that bracket!
    #}
#}
</code></pre>

<p>original gag: <a href="http://python.freemirror.de/pub/www.python.org/doc/Humor.html#parsing" rel="nofollow">Here</a>.</p>

<p>My real advice is to get a Braille display if you can afford one/source one - blind python programmers of my acquaintance really found a Braille display indispensable for writing python programs, it makes the indentation thing much less painful. A 40 cell display is well worth it.</p>
<br /><b>#2</b><br /><p>I personally doubt that there currently is at the moment, as a lot of the Python afficionados love the fact that Python is this way, whitespace delimited.</p>

<p>I've never actually thought about that as an accessibility issue however. Maybe it's something to put forward as a bug report to Python?</p>

<p>I'd assume that you use a screen reader here however for the output? So the tabs would seem "invisible" to you? With a Braille output, it might be easier to read, but I can understand exactly how confusing this could be.</p>

<p>In fact, this is very interesting to me. I wish that I knew enough to be able to write an app that will do this for you. </p>

<p>I think it's definately something that I'll put in a bug report for, unless you've already done so yourself, or want to.</p>

<p>Edit: Also, as <a href="http://stackoverflow.com/questions/118643#118656">noted</a> by <a href="http://stackoverflow.com/users/3560/john-millikin">John Millikin</a> There is also <a href="http://timhatch.com/projects/pybraces/" rel="nofollow">PyBraces</a> Which might be a viable solution to you, and may be possible to be hacked together dependant on your coding skills to be exactly what you need (and I hope that if that's the case, you release it out for others like yourself to use)</p>

<p>Edit 2: I've just <a href="http://bugs.python.org/issue3942" rel="nofollow">reported this</a> to the python bug tracker</p>
<br /><b>#3</b><br /><p>Although I am not blind, I have heard good things about <a href="http://emacspeak.sourceforge.net/" rel="nofollow">Emacspeak</a>. They've had a Python mode since their <a href="http://emacspeak.sourceforge.net/releases/release-8.0.html" rel="nofollow">8.0 release</a> in 1998 (they seem to be up to release 28.0!). Definitely worth checking out.</p>
<br /><b>#4</b><br /><p>You should be able to configure your editor to speak the tabs and spaces -- I know it's possible to <em>display</em> whitespace in most editors, so there must be an accessibility option somewhere to speak them.</p>

<p>Failing that, there is <a href="http://timhatch.com/projects/pybraces/" rel="nofollow">pybraces</a>, which was written as a practical joke but might actually be useful to you with a bit of work.</p>
<br /><b>#5</b><br /><p>I appreciate your problem, but think you are specifying the implementation instead of the problem you need solved.  Instead of converting to braces, how about working on a way for your screen reader to tell you the indentation level?
<p>
For example, <a href="http://viming.blogspot.com/2007/02/indent-level-highlighting.html" rel="nofollow">some people</a> have worked on vim syntax coloring to represent python indentation levels.  Perhaps a modified syntax coloring could produce something your screen reader would read?</p>
<br /><b>#6</b><br /><p>I use eclipse with the pydev extensions since it's an IDE I have a lot of experience with. I also appreciate the smart indentation it offers for coding if statements, loops, etc. I have configured the pindent.py script as an external tool that I can run on the currently focused python module which makes my life easier so I can see what is closed where with out having to constantly check indentation.</p>
<br /><b>#7</b><br /><p>There are various answers explaining how to do this. But I would recommend not taking this route. While you could use a script to do the conversion, it would make it hard to work on a team project.</p>

<p>My recommendation would be to configure your screen reader to announce the tabs.  This isn't as annoying as it sounds, since it would only say "indent 5" rather than "tab tab tab tab tab". Furthermore, the indentation would only be read whenever it changed, so you could go through an entire block of code without hearing the indentation level. In this way hearing the indentation is no more verbose than hearing the braces.</p>

<p>As I don't know which operating system or screen reader you use I unfortunately can't give the exact steps for achieving this.</p>
<br /><b>#8</b><br /><p><a href="http://en.wikipedia.org/wiki/Edsger%5FDijkstra" rel="nofollow">Edsger Dijkstra</a> used <a href="http://en.wikipedia.org/wiki/Guarded%5FCommand%5FLanguage#Selection%3A%5Fif" rel="nofollow">if ~ fi</a> and <a href="http://en.wikipedia.org/wiki/Guarded%5FCommand%5FLanguage#Repetition%3A%5Fdo" rel="nofollow">do ~ od</a> in his "Guarded Command Language", these appear to originate from the <a href="https://sourceforge.net/projects/algol68/" rel="nofollow">Algol68</a>.  There were also some example python guarded blocks used in <a href="http://rosettacode.org/wiki/Python" rel="nofollow">RosettaCode.org</a>.  </p>

<pre><code>fi = od = yrt = end = lambda object: None;
class MyClass(object):
    def myfunction(self, arg1, arg2):
        for i in range(arg1) :# do
            if i &gt; 5 :# then
                print i
            fi
        od # or end(i) #
    end(myfunction)
end(MyClass)
</code></pre>

<p>Whitespace mangled python code can be unambiguously unmangled and reindented if one uses
guarded blocks if/fi, do/od &amp; try/yrt together with semicolons ";" to separate statements.  Excellent for unambiguous magazine listings or cut/pasting from web pages.</p>

<p>It should be easy enough to write a short python program to insert/remove the guard blocks and semicolons.</p>
<br />